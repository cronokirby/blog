<!DOCTYPE html>
<html lang="en">
<head>
<title>cronokirby - Cait-Sith Security (2): Key Sharing</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.27/dist/katex.min.css" integrity="sha384-Pu5+C18nP5dwykLJOhd2U4Xen7rjScHN/qusop27hdd2drI+lL5KvX7YntvT8yew" crossorigin="anonymous"><title>cronokirby - Cait-Sith Security (2): Key Sharing</title>

<link rel="stylesheet" href="/static/index.css">
<link rel="icon" href="/static/icon.png">
<script src="/static/theme.js" defer></script>
</head>
<body>
<header>
<div class="icon-bar">
  <a href="/">
    <img src="/static/icon.png" class="avatar" />
  </a>
  <button class="theme-toggle" id="theme-toggle">
    <svg xmlns="http://www.w3.org/2000/svg" height="2em" viewBox="0 -960 960 960" width="2em" fill="currentColor"><path d="M480-120q-133 0-226.5-92.5T160-436q0-66 25-122t69-100l226-222 226 222q44 44 69 100t25 122q0 131-93.5 223.5T480-120Zm0-80v-568L310-600q-35 33-52.5 74.5T240-436q0 97 70 166.5T480-200Z"/></svg>
  </button>
</div>
<time datetime="2023-03-13">2023-03-13</time>

<h1>Cait-Sith Security (2): Key Sharing</h1>




</header>

<p>So, there'a few steps to defining key sharing,
since we want to reuse some of these intermediate protocols.</p>
<p>Basically, first we define a way to convert additive shares to threshold
shares,
then a way to do key sharing,
but with each of the steps accessible,
then we define a way to do key generation, with each step accessible,
and then then we can collapse all of the steps by performing them in sequence.</p>
<p>The reason we need this "accessible steps" thing is because other protocols
will call them interleaved with other protocols, so we need to be able
to analyze this aspect.</p>
<h1>Conversion</h1>
<p>As mentioned above, the goal here is to define a protocol for transforming
additive shares into threshold shares.</p>
<p><strong>Definition: (Conversion)</strong></p>
<p>We define the following protocol for conversion.</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="true"><mtable columnalign="center" columnspacing="1em" rowspacing="0.16em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mpadded width="+6pt" voffset="3pt" lspace="3pt" height="+6pt" mathbackground="#FBCFE8"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>Convert</mtext><mo stretchy="false">]</mo></mstyle><mtext> </mtext></mstyle></mpadded></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle displaystyle="false" scriptlevel="0"><mstyle displaystyle="true" scriptlevel="0"><mstyle mathsize="0.9em"><mtable columnspacing="0em" rowspacing="0.25em" columnalign="right left"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded height="+6pt" voffset="3pt" width="+6pt" lspace="3pt" mathbackground="#FBCFE8"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msub><mi>P</mi><mi>i</mi></msub></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mi>Z</mi><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>i</mi></mrow><mo separator="true">,</mo><msub><mi>f</mi><mi>i</mi></msub><mo>←</mo><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>SetMask</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mi>f</mi><mi>i</mi></msub><mover><mo stretchy="true" minsize="1.75em">←</mo><mpadded width="+0.6em" lspace="0.3em"><mi mathvariant="normal">$</mi></mpadded></mover><mo stretchy="false">{</mo><msub><mi>f</mi><mi>i</mi></msub><mo>∈</mo><msub><mi mathvariant="double-struck">F</mi><mi>q</mi></msub><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo><mi mathvariant="normal">_</mi><mrow><mo>≤</mo><mi>t</mi><mo>−</mo><mn>1</mn></mrow><mo>∣</mo><msub><mi>f</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn><mo stretchy="false">}</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mi>F</mi><mi>i</mi></msub><mo>←</mo><msub><mi>f</mi><mi>i</mi></msub><mo>⋅</mo><mi>G</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>SetCommit</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><msub><mi>F</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>Commit</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitMask</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>WaitCommit</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>Share</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><msub><mi>z</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>Open</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mi>Z</mi><mi>i</mi></msub><mo>←</mo><msub><mi>z</mi><mi>i</mi></msub><mo>⋅</mo><mi>G</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mi>π</mi><mi>i</mi></msub><mo>←</mo><msubsup><mtext>Prove</mtext><mi>i</mi><mi>φ</mi></msubsup><mo stretchy="false">(</mo><msub><mi>Z</mi><mi>i</mi></msub><mo separator="true">;</mo><msub><mi>z</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mo>↱</mo><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><msub><mi>Z</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>π</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mo>↱</mo><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mo stretchy="false">[</mo><msub><mi>z</mi><mi>i</mi></msub><mo>+</mo><msub><mi>f</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo><mo>∣</mo><mi>j</mi><mo>∈</mo><mo stretchy="false">[</mo><mi>n</mi><mo stretchy="false">]</mo><mo stretchy="false">]</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitShare</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mi>F</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo>←</mo><msub><mtext>WaitOpen</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mo stretchy="false">(</mo><mi>Z</mi><mi mathvariant="normal">_</mi><mrow><mo>∙</mo><mi>i</mi></mrow><mo separator="true">,</mo><mi>π</mi><mi mathvariant="normal">_</mi><mrow><mo>∙</mo><mi>i</mi></mrow><mo stretchy="false">)</mo><mo>←</mo><msub><mo>↰</mo><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∃</mi><mi>j</mi><mi mathvariant="normal">.</mi><mtext> </mtext><mi mathvariant="normal">¬</mi><msup><mtext>Verify</mtext><mi>φ</mi></msup><mo stretchy="false">(</mo><mi>π</mi><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>i</mi></mrow><mo separator="true">,</mo><msub><mi>Z</mi><mi>j</mi></msub><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mi>x</mi><mi mathvariant="normal">_</mi><mrow><mo>∙</mo><mi>i</mi></mrow><mo>←</mo><msub><mo>↰</mo><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mi>x</mi><mi>i</mi></msub><mo>←</mo><munder><mo>∑</mo><mi>j</mi></munder><mi>x</mi><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>i</mi></mrow><mo separator="true">,</mo><mtext> </mtext><mi>Z</mi><mo>←</mo><munder><mo>∑</mo><mi>j</mi></munder><msub><mi>Z</mi><mi>j</mi></msub><mo separator="true">,</mo><mspace width="0.5em"/><mi>F</mi><mo>←</mo><mi>Z</mi><mo>+</mo><munder><mo>∑</mo><mi>j</mi></munder><msub><mi>F</mi><mi>j</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∃</mi><mi>j</mi><mi mathvariant="normal">.</mi><mtext> </mtext><mo stretchy="false">(</mo><mtext>deg</mtext><mo stretchy="false">(</mo><msub><mi>F</mi><mi>j</mi></msub><mo stretchy="false">)</mo><mi mathvariant="normal">≠</mi><mi>t</mi><mo>−</mo><mn>1</mn><mo>∨</mo><msub><mi>F</mi><mi>j</mi></msub><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo><mi mathvariant="normal">≠</mi><mn>0</mn><mo stretchy="false">)</mo><mo>∨</mo><msub><mi>x</mi><mi>i</mi></msub><mo>⋅</mo><mi>G</mi><mi mathvariant="normal">≠</mi><mi>F</mi><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo separator="true">,</mo><mi>Z</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>Z</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mi>Z</mi><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>i</mi></mrow></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mspace width="1em"/><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>F</mi><mo stretchy="false">[</mo><mtext>ZK</mtext><mo stretchy="false">(</mo><mi>φ</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo rspace="0em" lspace="0em">⊗</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>F</mi><mo stretchy="false">[</mo><mtext>SyncComm</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mo rspace="0em" lspace="0em">⊚</mo></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>F</mi><mo stretchy="false">[</mo><mtext>Stop</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Leakage</mtext><mo>:</mo><mo>=</mo><mo stretchy="false">{</mo><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">}</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></menclose><mo>⊲</mo><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>Commit</mtext><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\boxed{
\begin{matrix}
\colorbox{FBCFE8}{\large
  $\mathscr{P}[\text{Convert}]$
}\cr
\cr
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $P_i$
}\cr
\cr
&amp;Z\_{j i}, f_i \gets \bot\cr
\cr
&amp;\underline{
  (1)\text{SetMask}_i():
}\cr
  &amp;\enspace
    f_i \xleftarrow{\$} \{ f_i \in \mathbb{F}_q[X]\_{\leq t - 1} \mid f_i(0) = 0 \}
  \cr
  &amp;\enspace
    F_i \gets f_i \cdot G
  \cr
  &amp;\enspace
    \text{SetCommit}_i(F_i)
  \cr
  &amp;\enspace
    \text{Commit}_i()
  \cr
\cr
&amp;\underline{
  \text{WaitMask}_i():
}\cr
  &amp;\enspace
    \text{WaitCommit}_i()
  \cr
\cr
&amp;\underline{
  (1)\text{Share}_i(z_i):
}\cr
  &amp;\enspace
    \text{Open}_i()
  \cr
  &amp;\enspace
    Z_i \gets z_i \cdot G
  \cr
  &amp;\enspace
    \pi_i \gets \text{Prove}_i^\varphi(Z_i; z_i)
  \cr
  &amp;\enspace
    \Rsh_i(\star, (Z_i, \pi_i), 0)
  \cr
  &amp;\enspace
    \Rsh_i(\star, [z_i + f_i(j) \mid j \in [n]], 1)
  \cr
\cr
&amp;\underline{
  \text{WaitShare}_i():
}\cr
  &amp;\enspace
    F\_\bullet \gets \text{WaitOpen}_i()
  \cr
  &amp;\enspace
    (Z\_{\bullet i}, \pi\_{\bullet i}) \gets \Lsh_i(\star, 0)
  \cr
  &amp;\enspace
    \texttt{if } \exists j.\ \neg \text{Verify}^\varphi(\pi\_{ji}, Z_j)
  \cr
  &amp;\enspace\enspace
    \texttt{stop}(\star, 0)
  \cr
  &amp;\enspace
    x\_{\bullet i} \gets \Lsh_i(\star, 1)
  \cr
  &amp;\enspace
    x_i \gets \sum_j x\_{ji},\ Z \gets \sum_j Z_j, \enspace F \gets Z + \sum_j F_j
  \cr
  &amp;\enspace
    \texttt{if } \exists j.\ (\text{deg}(F_j) \neq t - 1 \lor F_j(0) \neq 0) \lor x_i \cdot G \neq F(i):
  \cr
  &amp;\enspace\enspace
    \texttt{stop}(\star, 1)
  \cr
  &amp;\enspace
    \texttt{return } (x_i, Z)
  \cr
\cr
&amp;\underline{
  \text{Z}_i(j):
}\cr
  &amp;\enspace
    \texttt{return } Z\_{ji}
  \cr
\end{aligned}
}
}
\quad
\begin{matrix}
F[\text{ZK}(\varphi)]\cr
\otimes\cr
F[\text{SyncComm}]\cr
\circledcirc \cr
F[\text{Stop}]
\end{matrix}\cr
\cr
\text{Leakage} := \{\texttt{stop}\}
\end{matrix}
}
\lhd \mathscr{P}[\text{Commit}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:53.5406em;vertical-align:-26.5203em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:27.0203em;"><span style="top:-55.5406em;"><span class="pstrut" style="height:55.5406em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:26.6803em;"><span style="top:-51.4356em;"><span class="pstrut" style="height:25.9553em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2em;"><span style="top:-3.2em;"><span class="pstrut" style="height:3.8em;"></span><span class="stretchy colorbox" style="height:1.8em;background-color:#FBCFE8;"></span></span><span style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord boxpad"><span class="mord mathscr sizing reset-size6 size7" style="margin-right:0.0808em;">P</span><span class="mopen sizing reset-size6 size7">[</span><span class="mord text sizing reset-size6 size7"><span class="mord">C</span><span class="mord">o</span><span class="mord">n</span><span class="mord">v</span><span class="mord">e</span><span class="mord">r</span><span class="mord">t</span></span><span class="mclose sizing reset-size6 size7">]</span><span class="mord sizing reset-size6 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6em;"><span></span></span></span></span></span></span></span><span style="top:-49.9956em;"><span class="pstrut" style="height:25.9553em;"></span><span class="mord"></span></span><span style="top:-25.6803em;"><span class="pstrut" style="height:25.9553em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:23.9553em;"><span style="top:-49.4606em;"><span class="pstrut" style="height:49.4606em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:26.2392em;"><span style="top:-28.2392em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-26.5992em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-25.0992em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-23.5992em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-22.0992em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-20.2272em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-18.7272em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-17.2272em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-15.7272em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-14.2272em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-12.7272em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-11.1372em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-9.6372em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-8.1372em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-6.5472em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-5.0472em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-3.5472em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-2.0472em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-0.5472em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:0.9528em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:2.4528em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:4.0428em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:5.5428em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:7.0428em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:8.5428em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:10.0428em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:11.7528em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:14.2781em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:15.7781em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:17.2781em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:18.7781em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:20.2781em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:21.8681em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:25.7392em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:26.2392em;"><span style="top:-28.2392em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2111em;"><span style="top:-3.2111em;"><span class="pstrut" style="height:3.7111em;"></span><span class="stretchy colorbox" style="background-color:#FBCFE8;height:1.7111em;"></span></span><span style="top:-3.7111em;"><span class="pstrut" style="height:3.7111em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord mathnormal" style="margin-right:0.1389em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:-0.1389em;margin-right:0.0417em;top:-2.65em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5em;"><span></span></span></span></span></span></span></span><span style="top:-25.0992em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">ji</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1076em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:-0.1076em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:-22.0992em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">M</span><span class="mord">a</span><span class="mord">s</span><span class="mord">k</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-20.2272em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1076em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:-0.1076em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.122em;"><span style="top:-3.222em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mtight">$</span></span></span></span><span style="top:-2.589em;"><span class="pstrut" style="height:2.6em;"></span><span class="hide-tail" style="min-width:1.469em;height:0.522em;"><svg xmlns="http://www.w3.org/2000/svg" height="0.522em" width="400em" viewBox="0 0 400000 522" preserveAspectRatio="xMinYMin slice"><path d="M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.011em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1076em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:-0.1076em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathbb">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.137em;"><span style="margin-right:0.0556em;margin-left:0em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0359em;">q</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.0785em;">X</span><span class="mclose">]</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1076em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:-0.1076em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mclose">}</span></span></span><span style="top:-18.7272em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:-0.1389em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1076em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:-0.1076em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">G</span></span></span><span style="top:-17.2272em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:-0.1389em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-15.7272em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span></span></span><span style="top:-12.7272em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">M</span><span class="mord">a</span><span class="mord">s</span><span class="mord">k</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-11.1372em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span></span></span><span style="top:-8.1372em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:-0.044em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-6.5472em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.3389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span></span></span><span style="top:-5.0472em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:-0.0715em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:-0.044em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">G</span></span></span><span style="top:-3.5472em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0359em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:-0.0359em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord text"><span class="mord">P</span><span class="mord">r</span><span class="mord">o</span><span class="mord">v</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7615em;"><span style="margin-right:0.0556em;top:-2.3451em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.0744em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">φ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2549em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:-0.0715em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:-0.044em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-2.0472em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:-0.0715em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0359em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:-0.0359em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span><span style="top:-0.5472em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:-0.044em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1076em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:-0.1076em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">[</span><span class="mord mathnormal">n</span><span class="mclose">]]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span><span style="top:2.4528em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:4.0428em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="margin-right:0.0556em;top:-2.3389em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span></span></span><span style="top:5.5428em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span><span class="mord mathnormal">i</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0359em;">π</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span><span class="mord mathnormal">i</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span><span style="top:7.0428em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord">∃</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord">.</span><span class="mspace"> </span><span class="mord">¬</span><span class="mord"><span class="mord text"><span class="mord">V</span><span class="mord">e</span><span class="mord">r</span><span class="mord">i</span><span class="mord">f</span><span class="mord">y</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7em;"><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">φ</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0359em;">π</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">ji</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:-0.0715em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:8.5428em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span><span style="top:10.0428em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord mathnormal">x</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span><span class="mord mathnormal">i</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span><span style="top:11.7528em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:0em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="margin-left:0em;top:-1.8943em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3853em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">ji</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace"> </span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-1.8943em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3853em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:-0.0715em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="margin-left:0em;top:-1.8943em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3853em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:-0.1389em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span></span></span><span style="top:14.2781em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord">∃</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord">.</span><span class="mspace"> </span><span class="mopen">(</span><span class="mord text"><span class="mord">d</span><span class="mord">e</span><span class="mord">g</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:-0.1389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:-0.1389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">G</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:15.7781em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span><span style="top:17.2781em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="mclose">)</span></span></span><span style="top:20.2781em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">Z</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:21.8681em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">ji</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:25.7392em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-25.9553em;"><span class="pstrut" style="height:49.4606em;"></span><span class="stretchy fbox" style="border-width:0.04em;height:47.4606em;border-style:solid;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:23.5053em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em;"><span style="top:-5.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">Z</span><span class="mord">K</span></span><span class="mopen">(</span><span class="mord mathnormal">φ</span><span class="mclose">)]</span></span></span><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">⊗</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span></span><span class="mclose">]</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord amsrm">⊚</span></span></span><span style="top:-0.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">o</span><span class="mord">p</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-1.335em;"><span class="pstrut" style="height:25.9553em;"></span><span class="mord"></span></span><span style="top:-0.135em;"><span class="pstrut" style="height:25.9553em;"></span><span class="mord"><span class="mord text"><span class="mord">L</span><span class="mord">e</span><span class="mord">a</span><span class="mord">k</span><span class="mord">a</span><span class="mord">g</span><span class="mord">e</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">{</span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mclose">}</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:26.1803em;"><span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-29.0203em;"><span class="pstrut" style="height:55.5406em;"></span><span class="stretchy fbox" style="height:53.5406em;border-width:0.04em;border-style:solid;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:26.5203em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin amsrm">⊲</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="vertical-align:-0.25em;height:1em;"></span><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="mopen">[</span><span class="mord text"><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="mclose">]</span></span></span></span></span></span>
<p><span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">□</mi></mrow><annotation encoding="application/x-tex">\square</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.675em;"></span><span class="mord amsrm">□</span></span></span></span></span></p>
<p>The basic idea behind this protocol is that you first commit
to a polynomial you'll use for the threshold sharing,
without committing to the value you want to share.
Then, in a later step, you'll contribute your additive share of the secret
value,
and send threshold shares using this polynomial.</p>
<p>Next, we get to the ideal functionality this protocol implements.
The basic idea is that parties get <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>z</mi><mo>+</mo><mi>f</mi><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">z + f(j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.1076em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">)</span></span></span></span></span>,
where <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>z</mi></mrow><annotation encoding="application/x-tex">z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span></span></span></span></span> is the secret, and <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="mord mathnormal" style="margin-right:0.1076em;">f</span></span></span></span></span> is a random polynomial.
One slight catch is that <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.1076em;">f</span></span></span></span></span> isn't quite random, but rather
a random polynomial <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>f</mi><mi>h</mi></msup></mrow><annotation encoding="application/x-tex">f^h</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="vertical-align:-0.1944em;height:1.0435em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1076em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="margin-right:0.05em;top:-3.063em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span></span></span></span></span>, plus a polynomial <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>f</mi><mi>m</mi></msup></mrow><annotation encoding="application/x-tex">f^m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1076em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="margin-right:0.05em;top:-3.063em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span></span></span></span></span> to which the adversary
must commit in advance, via <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>f</mi><mi>m</mi></msup><mo>⋅</mo><mi>G</mi></mrow><annotation encoding="application/x-tex">f^m \cdot G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1076em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">G</span></span></span></span></span>.</p>
<p><strong>Definition (Ideal Conversion):</strong></p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="true"><mtable columnspacing="1em" rowspacing="0.16em" columnalign="center"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mpadded mathbackground="#FBCFE8" width="+6pt" lspace="3pt" height="+6pt" voffset="3pt"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>IdealConvert</mtext><mo stretchy="false">]</mo></mstyle><mtext> </mtext></mstyle></mpadded></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable columnspacing="0em" rowspacing="0.25em" columnalign="right left"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded lspace="3pt" width="+6pt" height="+6pt" voffset="3pt" mathbackground="#FBCFE8"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msub><mi>P</mi><mi>i</mi></msub></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>SetMask</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>SetMask</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitMask</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>WaitMask</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mtext mathvariant="monospace">true</mtext><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>Share</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>z</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>Share</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mi>z</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitShare</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><msub><mtext>WaitShare</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mtext mathvariant="monospace">true</mtext><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>Z</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><msub><mtext>Z</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mspace width="1em"/><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable columnspacing="0em" rowspacing="0.25em" columnalign="right left"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded voffset="3pt" lspace="3pt" width="+6pt" height="+6pt" mathbackground="#FBCFE8"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><mi>F</mi><mo stretchy="false">[</mo><mtext>Convert</mtext><mo stretchy="false">]</mo></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><msup><mi>f</mi><mi>h</mi></msup><mover><mo stretchy="true" minsize="1.75em">←</mo><mpadded width="+0.6em" lspace="0.3em"><mi mathvariant="normal">$</mi></mpadded></mover><mo stretchy="false">{</mo><mi>f</mi><mo>∈</mo><msub><mi mathvariant="double-struck">F</mi><mi>q</mi></msub><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo><mi mathvariant="normal">_</mi><mrow><mo>≤</mo><mi>t</mi><mo>−</mo><mn>1</mn></mrow><mo>∣</mo><mi>f</mi><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn><mo stretchy="false">}</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msup><mi>F</mi><mi>m</mi></msup><mo separator="true">,</mo><mtext>ready</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo separator="true">,</mo><mi>z</mi><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo separator="true">,</mo><msub><mi>x</mi><mi>j</mi></msub><mo>←</mo><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>SetMask</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mtext>ready</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><mtext mathvariant="monospace">true</mtext><mtext> </mtext><mo stretchy="false">(</mo><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mstyle mathcolor="#ef4444"><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><mtext>Cheat</mtext><mo stretchy="false">(</mo><mi>F</mi><mo stretchy="false">)</mo><mo>:</mo></mstyle><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">assert</mtext><mtext> </mtext></mrow><mi>F</mi><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn><mo>∧</mo><mtext>deg</mtext><mo stretchy="false">(</mo><mi>F</mi><mo stretchy="false">)</mo><mo>=</mo><mi>t</mi><mo>−</mo><mn>1</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msup><mi>F</mi><mi>m</mi></msup><mo>←</mo><mi>F</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitMask</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mi>m</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mtext mathvariant="monospace">wait</mtext><mi mathvariant="normal">_</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mi mathvariant="normal">.</mi><mtext> ready</mtext><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>i</mi></mrow><mo>∧</mo><mo stretchy="false">(</mo><mi>m</mi><mo>→</mo><msup><mi>F</mi><mi>m</mi></msup><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>Share</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mi>z</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">assert</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∃</mi><mi>j</mi><mi mathvariant="normal">.</mi><mtext> ready</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mi>z</mi><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><msub><mi>z</mi><mi>j</mi></msub><mtext> </mtext><mo stretchy="false">(</mo><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mstyle mathcolor="#ef4444"><mtext>CheatShare</mtext><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><mo stretchy="false">)</mo><mo>:</mo></mstyle><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">assert</mtext><mtext> </mtext></mrow><msup><mi>F</mi><mi>m</mi></msup><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo>∧</mo><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mi mathvariant="normal">.</mi><mtext> </mtext><msub><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi>j</mi></msub><mo>⋅</mo><mi>G</mi><mo>=</mo><msup><mi>F</mi><mi>m</mi></msup><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">for</mtext><mtext> </mtext></mrow><mi>j</mi><mi mathvariant="normal">.</mi><msub><mi>x</mi><mi>j</mi></msub><mo>=</mo><mi mathvariant="normal">⊥</mi><mo>:</mo><msub><mi>x</mi><mi>j</mi></msub><mo>←</mo><msub><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi>j</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitShare</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>h</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mi>h</mi><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mtext mathvariant="monospace">wait</mtext><mi mathvariant="normal">_</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><msub><mi>x</mi><mi>i</mi></msub><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo>∧</mo><mi mathvariant="normal">∀</mi><mi>j</mi><mi mathvariant="normal">.</mi><mo>∧</mo><mi>z</mi><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>i</mi></mrow><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mo>∑</mo><mi mathvariant="normal">_</mi><mi>j</mi><mi>z</mi><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>i</mi></mrow><mo>+</mo><msup><mi>f</mi><mi>h</mi></msup><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo><mo>+</mo><msub><mi>x</mi><mi>i</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mtext mathvariant="monospace">else</mtext><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mtext mathvariant="monospace">wait</mtext><mi mathvariant="normal">_</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi mathvariant="script">H</mi><mi mathvariant="normal">.</mi><mi>z</mi><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>i</mi></mrow><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mo>∑</mo><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mo>∈</mo><mi mathvariant="script">H</mi></mrow><mi>z</mi><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>i</mi></mrow><mo>+</mo><msup><mi>f</mi><mi>h</mi></msup><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>Z</mtext><mi>j</mi></msub><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mi>z</mi><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>⋅</mo><mi>G</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mstyle mathcolor="#ef4444"><msup><mtext>F</mtext><mi>h</mi></msup><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mstyle><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">wait</mtext><mtext> </mtext></mrow><msup><mi>F</mi><mi>m</mi></msup><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo>∧</mo><mi mathvariant="normal">∀</mi><mi>i</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">∃</mi><mi>j</mi><mi mathvariant="normal">.</mi><mtext>ready</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><msup><mi>f</mi><mi>h</mi></msup><mo>⋅</mo><mi>G</mi></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⊚</mo></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>F</mi><mo stretchy="false">[</mo><mtext>Stop</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Leakage</mtext><mo>:</mo><mo>=</mo><mo stretchy="false">{</mo><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">}</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></menclose></mrow><annotation encoding="application/x-tex">\boxed{
\begin{matrix}
\colorbox{FBCFE8}{\large
  $\mathscr{P}[\text{IdealConvert}]$
}\cr
\cr
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $P_i$
}\cr
\cr
&amp;\underline{
  (1)\text{SetMask}_i():
}\cr
  &amp;\enspace
    \text{SetMask}_i(\star)
  \cr
\cr
&amp;\underline{
  \text{WaitMask}_i():
}\cr
  &amp;\enspace
    \text{WaitMask}_i(\star, \texttt{true})
  \cr
\cr
&amp;\underline{
  (1)\text{Share}_i(z):
}\cr
  &amp;\enspace
    \text{Share}_i(\star, z)
  \cr
\cr
&amp;\underline{
  \text{WaitShare}_i():
}\cr
  &amp;\enspace
    \texttt{return } \text{WaitShare}_i(\texttt{true})
  \cr
\cr
&amp;\underline{
  \text{Z}_i(j):
}\cr
  &amp;\enspace
    \texttt{return } \text{Z}_i(j)
  \cr
\end{aligned}
}
}
\quad
\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $F[\text{Convert}]$
}\cr
\cr
&amp;f^h \xleftarrow{\$} \{f \in \mathbb{F}_q[X]\_{\leq t - 1} \mid f(0) = 0\}\cr
&amp;F^m, \text{ready}\_{ij}, z\_{ij}, x_j \gets \bot\cr
\cr
&amp;\underline{
  \text{SetMask}_i(S):
}\cr
  &amp;\enspace
    \text{ready}\_{ij} \gets \texttt{true}\ (\forall j \in S)
  \cr
\cr
&amp;\underline{
\textcolor{ef4444}{
  (1)\text{Cheat}(F):
}
}\cr
  &amp;\enspace
    \texttt{assert } F(0) = 0 \land \text{deg}(F) = t - 1
  \cr
  &amp;\enspace
    F^m \gets F
  \cr
\cr
&amp;\underline{
  \text{WaitMask}_i(S, m):
}\cr
  &amp;\enspace
    \texttt{wait}\_{(i, 0)} \forall j \in S.\ \text{ready}\_{ji} \land (m \to F^m \neq \bot)
  \cr
\cr
&amp;\underline{
  \text{Share}_i(S, z\_\bullet):
}\cr
  &amp;\enspace
    \texttt{assert } \exists j.\ \text{ready}\_{ij}
  \cr
  &amp;\enspace
    z\_{ij} \gets z_j\ (\forall j \in S)
  \cr
\cr
&amp;\underline{
\textcolor{ef4444}{
  \text{CheatShare}(S, \hat{x}\_\bullet):
}
}\cr
  &amp;\enspace
    \texttt{assert } F^m \neq \bot \land \forall j \in S.\ \hat{x}_j \cdot G = F^m(j)
  \cr
  &amp;\enspace
    \texttt{for } j. x_j = \bot: x_j \gets \hat{x}_j
  \cr
\cr
&amp;\underline{
  \text{WaitShare}_i(h):
}\cr
  &amp;\enspace
    \texttt{if } h:
  \cr
  &amp;\enspace\enspace
    \texttt{wait}\_{(i, 1)} x_i \neq \bot \land \forall j. \land z\_{ji} \neq \bot
  \cr
  &amp;\enspace\enspace
    \texttt{return } \sum\_j z\_{ji} + f^h(i) + x_i
  \cr
  &amp;\enspace
    \texttt{else}:
  \cr
  &amp;\enspace\enspace
    \texttt{wait}\_{(i, 1)} \forall j \in \mathcal{H}. z\_{ji} \neq \bot
  \cr
  &amp;\enspace\enspace
    \texttt{return } \sum\_{j \in \mathcal{H}} z\_{ji} + f^h(i)
  \cr
&amp;\underline{
  \text{Z}_j(i):
}\cr
  &amp;\enspace
    \texttt{return } z\_{ij} \cdot G
  \cr
\cr
&amp;\underline{
\textcolor{ef4444}{
  \text{F}^h():
}
}\cr
  &amp;\enspace
    \texttt{wait } F^m \neq \bot \land \forall i. \exists j. \text{ready}\_{ij}
  \cr
  &amp;\enspace
    \texttt{return } f^h \cdot G
  \cr
\end{aligned}
}
}\cr
\circledcirc \cr
F[\text{Stop}]
\end{matrix}\cr
\cr
\text{Leakage} := \{\texttt{stop}\}
\end{matrix}
}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:60.2412em;vertical-align:-29.8706em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:30.3706em;"><span style="top:-62.2412em;"><span class="pstrut" style="height:62.2412em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:30.0306em;"><span style="top:-58.1612em;"><span class="pstrut" style="height:29.3306em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2em;"><span style="top:-3.2em;"><span class="pstrut" style="height:3.8em;"></span><span class="stretchy colorbox" style="height:1.8em;background-color:#FBCFE8;"></span></span><span style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord boxpad"><span class="mord mathscr sizing reset-size6 size7" style="margin-right:0.0808em;">P</span><span class="mopen sizing reset-size6 size7">[</span><span class="mord text sizing reset-size6 size7"><span class="mord">I</span><span class="mord">d</span><span class="mord">e</span><span class="mord">a</span><span class="mord">l</span><span class="mord">C</span><span class="mord">o</span><span class="mord">n</span><span class="mord">v</span><span class="mord">e</span><span class="mord">r</span><span class="mord">t</span></span><span class="mclose sizing reset-size6 size7">]</span><span class="mord sizing reset-size6 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6em;"><span></span></span></span></span></span></span></span><span style="top:-56.7212em;"><span class="pstrut" style="height:29.3306em;"></span><span class="mord"></span></span><span style="top:-29.0306em;"><span class="pstrut" style="height:29.3306em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:11.7975em;"><span style="top:-25.145em;"><span class="pstrut" style="height:25.145em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:12.7306em;"><span style="top:-14.7306em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-13.0906em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-11.5906em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-10.0006em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-8.5006em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-7.0006em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-5.4106em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-3.9106em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-2.4106em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-0.8206em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:0.6794em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:2.1794em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:3.7694em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:5.2694em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:6.7694em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:8.3594em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:12.2306em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:12.7306em;"><span style="top:-14.7306em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2111em;"><span style="top:-3.2111em;"><span class="pstrut" style="height:3.7111em;"></span><span class="stretchy colorbox" style="height:1.7111em;background-color:#FBCFE8;"></span></span><span style="top:-3.7111em;"><span class="pstrut" style="height:3.7111em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord mathnormal" style="margin-right:0.1389em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0417em;margin-left:-0.1389em;top:-2.65em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5em;"><span></span></span></span></span></span></span></span><span style="top:-11.5906em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">M</span><span class="mord">a</span><span class="mord">s</span><span class="mord">k</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-10.0006em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">M</span><span class="mord">a</span><span class="mord">s</span><span class="mord">k</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mclose">)</span></span></span><span style="top:-7.0006em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">M</span><span class="mord">a</span><span class="mord">s</span><span class="mord">k</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-5.4106em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">M</span><span class="mord">a</span><span class="mord">s</span><span class="mord">k</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord texttt">true</span></span><span class="mclose">)</span></span></span><span style="top:-2.4106em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-0.8206em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mclose">)</span></span></span><span style="top:2.1794em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:3.7694em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord text"><span class="mord texttt">true</span></span><span class="mclose">)</span></span></span><span style="top:6.7694em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">Z</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:8.3594em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord"><span class="mord text"><span class="mord">Z</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:12.2306em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-13.7975em;"><span class="pstrut" style="height:25.145em;"></span><span class="stretchy fbox" style="border-width:0.04em;border-style:solid;height:23.145em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:11.3475em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:27.3306em;"><span style="top:-29.3306em;"><span class="pstrut" style="height:28.1056em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:26.1056em;"><span style="top:-53.7612em;"><span class="pstrut" style="height:53.7612em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:28.6285em;"><span style="top:-30.6285em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-28.8551em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-27.0731em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-25.5731em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-24.0731em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-22.5731em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-20.9831em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-19.4831em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-17.9831em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-16.3931em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-14.8931em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-13.3931em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-11.8931em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-10.3031em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-8.8031em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-7.3031em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-5.6531em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-4.1531em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-2.6531em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-1.1531em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:0.4969em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:1.9969em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:3.4969em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:4.9969em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:6.5869em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:8.0869em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:9.7969em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:11.4869em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:12.9869em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:14.6969em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:16.3869em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:18.0065em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:19.5065em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:21.0425em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:22.6325em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:24.1685em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:28.1285em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:28.6285em;"><span style="top:-30.6285em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3em;"><span style="top:-3.3em;"><span class="pstrut" style="height:3.9333em;"></span><span class="stretchy colorbox" style="background-color:#FBCFE8;height:1.9333em;"></span></span><span style="top:-3.9333em;"><span class="pstrut" style="height:3.9333em;"></span><span class="mord boxpad"><span class="mord mathnormal sizing reset-size5 size7" style="margin-right:0.1389em;">F</span><span class="mopen sizing reset-size5 size7">[</span><span class="mord text sizing reset-size5 size7"><span class="mord">C</span><span class="mord">o</span><span class="mord">n</span><span class="mord">v</span><span class="mord">e</span><span class="mord">r</span><span class="mord">t</span></span><span class="mclose sizing reset-size5 size7">]</span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6333em;"><span></span></span></span></span></span></span></span><span style="top:-27.0731em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1076em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.876em;"><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.122em;"><span style="top:-3.222em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mtight">$</span></span></span></span><span style="top:-2.589em;"><span class="pstrut" style="height:2.6em;"></span><span class="hide-tail" style="min-width:1.469em;height:0.522em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" preserveAspectRatio="xMinYMin slice" viewBox="0 0 400000 522" height="0.522em"><path d="M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.011em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">{</span><span class="mord mathnormal" style="margin-right:0.1076em;">f</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathbb">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.137em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0359em;">q</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.0785em;">X</span><span class="mclose">]</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.1076em;">f</span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mclose">}</span></span></span><span style="top:-25.5731em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7em;"><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord">r</span><span class="mord">e</span><span class="mord">a</span><span class="mord">d</span><span class="mord">y</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:-22.5731em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">M</span><span class="mord">a</span><span class="mord">s</span><span class="mord">k</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-20.9831em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord">r</span><span class="mord">e</span><span class="mord">a</span><span class="mord">d</span><span class="mord">y</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord texttt">true</span></span><span class="mspace"> </span><span class="mopen">(</span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span></span></span><span style="top:-17.9831em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen" style="color:#ef4444;">(</span><span class="mord" style="color:#ef4444;">1</span><span class="mclose" style="color:#ef4444;">)</span><span class="mord text" style="color:#ef4444;"><span class="mord" style="color:#ef4444;">C</span><span class="mord" style="color:#ef4444;">h</span><span class="mord" style="color:#ef4444;">e</span><span class="mord" style="color:#ef4444;">a</span><span class="mord" style="color:#ef4444;">t</span></span><span class="mopen" style="color:#ef4444;">(</span><span class="mord mathnormal" style="margin-right:0.1389em;color:#ef4444;">F</span><span class="mclose" style="color:#ef4444;">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel" style="color:#ef4444;">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-16.3931em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">assert </span></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">d</span><span class="mord">e</span><span class="mord">g</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span></span></span><span style="top:-14.8931em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7em;"><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span></span></span><span style="top:-11.8931em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">M</span><span class="mord">a</span><span class="mord">s</span><span class="mord">k</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-10.3031em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">wait</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mord">.</span><span class="mspace"> </span><span class="mord text"><span class="mord">r</span><span class="mord">e</span><span class="mord">a</span><span class="mord">d</span><span class="mord">y</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">ji</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7em;"><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mclose">)</span></span></span><span style="top:-7.3031em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.53em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.51em;"><span></span></span></span></span></span></span></span><span style="top:-5.6531em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">assert </span></span><span class="mord">∃</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord">.</span><span class="mspace"> </span><span class="mord text"><span class="mord">r</span><span class="mord">e</span><span class="mord">a</span><span class="mord">d</span><span class="mord">y</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span></span></span><span style="top:-4.1531em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:-0.044em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace"> </span><span class="mopen">(</span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span></span></span><span style="top:-1.1531em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.53em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text" style="color:#ef4444;"><span class="mord" style="color:#ef4444;">C</span><span class="mord" style="color:#ef4444;">h</span><span class="mord" style="color:#ef4444;">e</span><span class="mord" style="color:#ef4444;">a</span><span class="mord" style="color:#ef4444;">t</span><span class="mord" style="color:#ef4444;">S</span><span class="mord" style="color:#ef4444;">h</span><span class="mord" style="color:#ef4444;">a</span><span class="mord" style="color:#ef4444;">r</span><span class="mord" style="color:#ef4444;">e</span></span><span class="mopen" style="color:#ef4444;">(</span><span class="mord mathnormal" style="margin-right:0.0576em;color:#ef4444;">S</span><span class="mpunct" style="color:#ef4444;">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent" style="color:#ef4444;"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal" style="color:#ef4444;">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord" style="color:#ef4444;">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;color:#ef4444;">_</span><span class="mord" style="color:#ef4444;">∙</span><span class="mclose" style="color:#ef4444;">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel" style="color:#ef4444;">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.51em;"><span></span></span></span></span></span></span></span><span style="top:0.4969em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">assert </span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7em;"><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mord">.</span><span class="mspace"> </span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">G</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7em;"><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">)</span></span></span><span style="top:1.9969em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">for </span></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord">.</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span></span></span><span style="top:4.9969em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">h</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:6.5869em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:8.0869em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">wait</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord">.</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">ji</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:9.7969em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-symbol large-op" style="top:0em;position:relative;">∑</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">ji</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1076em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.876em;"><span style="margin-right:0.0556em;top:-3.013em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:11.4869em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">else</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:12.9869em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">wait</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mord">.</span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">ji</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:14.6969em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-symbol large-op" style="position:relative;top:0em;">∑</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">ji</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1076em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.876em;"><span style="margin-right:0.0556em;top:-3.013em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span></span></span><span style="top:16.3869em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.5604em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">Z</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4796em;"><span></span></span></span></span></span></span></span><span style="top:18.0065em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">G</span></span></span><span style="top:21.0425em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.876em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="color:#ef4444;"><span class="mord text" style="color:#ef4444;"><span class="mord" style="color:#ef4444;">F</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.876em;"><span style="margin-right:0.0556em;top:-3.013em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight" style="color:#ef4444;"><span class="mord mathnormal mtight" style="color:#ef4444;">h</span></span></span></span></span></span></span></span><span class="mopen" style="color:#ef4444;">(</span><span class="mclose" style="color:#ef4444;">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel" style="color:#ef4444;">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:22.6325em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">wait </span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7em;"><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">∀</span><span class="mord mathnormal">i</span><span class="mord">.</span><span class="mord">∃</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord">.</span><span class="mord text"><span class="mord">r</span><span class="mord">e</span><span class="mord">a</span><span class="mord">d</span><span class="mord">y</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span></span></span><span style="top:24.1685em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1076em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.876em;"><span style="margin-right:0.0556em;top:-3.013em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">G</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:28.1285em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-28.1056em;"><span class="pstrut" style="height:53.7612em;"></span><span class="stretchy fbox" style="border-style:solid;border-width:0.04em;height:51.7612em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:25.6556em;"><span></span></span></span></span></span></span></span><span style="top:-2.835em;"><span class="pstrut" style="height:28.1056em;"></span><span class="mord"><span class="mord amsrm">⊚</span></span></span><span style="top:-1.635em;"><span class="pstrut" style="height:28.1056em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">o</span><span class="mord">p</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:26.8306em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-1.36em;"><span class="pstrut" style="height:29.3306em;"></span><span class="mord"></span></span><span style="top:-0.16em;"><span class="pstrut" style="height:29.3306em;"></span><span class="mord"><span class="mord text"><span class="mord">L</span><span class="mord">e</span><span class="mord">a</span><span class="mord">k</span><span class="mord">a</span><span class="mord">g</span><span class="mord">e</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">{</span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mclose">}</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:29.5306em;"><span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-32.3706em;"><span class="pstrut" style="height:62.2412em;"></span><span class="stretchy fbox" style="border-width:0.04em;border-style:solid;height:60.2412em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:29.8706em;"><span></span></span></span></span></span></span></span></span></span></span>
<p><span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">□</mi></mrow><annotation encoding="application/x-tex">\square</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.675em;"></span><span class="mord amsrm">□</span></span></span></span></span></p>
<p>For slight technical reasons, this functionality can't be reduced
to one where the polynomial is simply chosen randomly,
although it's functionally equivalent.
This is because the adversary has to effectively commit to their contribution
to the random polynomial in advance, before having seen any other information,
which thus prevents this contribution from meaningfully affecting the randomness.</p>
<p>In fact, if you have a stronger model of how the group here functions,
like the AGM or something, then in fact this would reduce to the standard
functionality, because you would be able to extract out the discrete
logarithm of the cheating polynomial early.
However, to make the analysis more concrete, we instead deal with this
annoyance of functionality directly.</p>
<p><strong>Lemma:</strong></p>
<p>For a negligible <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding="application/x-tex">\epsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">ϵ</span></span></span></span></span>, and up to <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">t - 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="vertical-align:-0.0833em;height:0.6984em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></span> malicious corruptions,
we have:</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>Convert</mtext><mo stretchy="false">]</mo><mo><mover><mo><mo>⇝</mo></mo><mi>ϵ</mi></mover></mo><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>IdealConvert</mtext><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\mathscr{P}[\text{Convert}] \overset{\epsilon}{\leadsto} \mathscr{P}[\text{IdealConvert}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="vertical-align:-0.25em;height:1.2293em;"></span><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="mopen">[</span><span class="mord text"><span class="mord">C</span><span class="mord">o</span><span class="mord">n</span><span class="mord">v</span><span class="mord">e</span><span class="mord">r</span><span class="mord">t</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mop op-limits"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9793em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop amsrm">⇝</span></span></span><span style="top:-3.5779em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">ϵ</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="vertical-align:-0.25em;height:1em;"></span><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="mopen">[</span><span class="mord text"><span class="mord">I</span><span class="mord">d</span><span class="mord">e</span><span class="mord">a</span><span class="mord">l</span><span class="mord">C</span><span class="mord">o</span><span class="mord">n</span><span class="mord">v</span><span class="mord">e</span><span class="mord">r</span><span class="mord">t</span></span><span class="mclose">]</span></span></span></span></span></span>
<p><strong>Proof:</strong></p>
<p>First, <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>Convert</mtext><mo stretchy="false">]</mo><mo>⇝</mo><msup><mi mathvariant="script">P</mi><mn>0</mn></msup></mrow><annotation encoding="application/x-tex">\mathscr{P}[\text{Convert}] \leadsto \mathscr{P}^0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="vertical-align:-0.25em;height:1em;"></span><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="mopen">[</span><span class="mord text"><span class="mord">C</span><span class="mord">o</span><span class="mord">n</span><span class="mord">v</span><span class="mord">e</span><span class="mord">r</span><span class="mord">t</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">⇝</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span></span></span></span></span>,
where <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="script">P</mi><mn>0</mn></msup></mrow><annotation encoding="application/x-tex">\mathscr{P}^0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="margin-right:0.05em;top:-3.063em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span></span></span></span></span> replaces <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>Commit</mtext><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\mathscr{P}[\text{Commit}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="vertical-align:-0.25em;height:1em;"></span><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="mopen">[</span><span class="mord text"><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="mclose">]</span></span></span></span></span>
with <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>IdealCommit</mtext><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\mathscr{P}[\text{IdealCommit}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="mopen">[</span><span class="mord text"><span class="mord">I</span><span class="mord">d</span><span class="mord">e</span><span class="mord">a</span><span class="mord">l</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="mclose">]</span></span></span></span></span>.</p>
<p>Unrolling, we get:</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.16em" columnspacing="1em" columnalign="center"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable rowspacing="0.25em" columnspacing="0em" columnalign="right left"><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded height="+6pt" width="+6pt" lspace="3pt" voffset="3pt" mathbackground="#FBCFE8"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>0</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>SetMask</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mo>…</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mo>⊗</mo><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="false" scriptlevel="0"><mstyle displaystyle="true" scriptlevel="0"><mrow><mpadded lspace="3pt" height="+6pt" mathbackground="#FBCFE8" width="+6pt" voffset="3pt"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msubsup><mi mathvariant="normal">Γ</mi><mi>M</mi><mn>0</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded><mo>=</mo><mn>1</mn><mrow><mo fence="true">(</mo><mtable columnspacing="1em" rowspacing="0.16em" columnalign="center"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><msub><mo>↱</mo><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><msub><mo>↰</mo><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mtext>Prove</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mtext>Verify</mtext><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><msub><mtext>SetCommit</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mtext>WaitCommit</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><msub><mtext>Open</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mtext>WaitOpen</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><msub><mtext>Sync</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><msub><mtext>WaitSync</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mtext mathvariant="monospace">stop</mtext></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow></mstyle></mstyle></mstyle></menclose></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">∘</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>F</mi><mo stretchy="false">[</mo><mtext>ZK</mtext><mo stretchy="false">(</mo><mi>φ</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>SyncComm</mtext><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Commit</mtext><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Sync</mtext><mo stretchy="false">]</mo><mo>⊚</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Stop</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^0_H$
}\cr
\cr
&amp;\underline{
  (1)\text{SetMask}_i():
}\cr
&amp;\enspace
  \ldots
\cr
\end{aligned}
}
}
\otimes
\boxed{\colorbox{FBCFE8}{\large
  $\Gamma^0_M$
} = 1
\begin{pmatrix}
    \Rsh_k
  ,\cr
    \Lsh_k
  ,\cr
    \text{Prove}_k
  ,\cr
    \text{Verify}
  ,\cr
    \text{SetCommit}_k
  ,\cr
    \text{WaitCommit}_k
  ,\cr
    \text{Open}_k
  ,\cr
    \text{WaitOpen}_k
  ,\cr
    \text{Sync}_k
  ,\cr
    \text{WaitSync}_k
  ,\cr
    \texttt{stop}
\end{pmatrix}
}
\cr
  \circ
\cr
F[\text{ZK}(\varphi)] \otimes F[\text{SyncComm}] \otimes F[\text{Commit}] \otimes F[\text{Sync}] \circledcirc F[\text{Stop}]
\end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="vertical-align:-7.89em;height:16.2801em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:8.39em;"><span style="top:-10.39em;"><span class="pstrut" style="height:9.19em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.6626em;"><span style="top:-8.8752em;"><span class="pstrut" style="height:8.8752em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.6918em;"><span style="top:-5.6918em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-3.915em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-2.415em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-0.825em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.1918em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.6918em;"><span style="top:-5.6918em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="height:1.9936em;background-color:#FBCFE8;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="top:-2.5474em;margin-right:0.0417em;margin-left:0em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="margin-right:0.0417em;top:-3.163em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-2.415em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">M</span><span class="mord">a</span><span class="mord">s</span><span class="mord">k</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-0.825em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="minner">…</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.1918em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-5.6626em;"><span class="pstrut" style="height:8.8752em;"></span><span class="stretchy fbox" style="border-style:solid;border-width:0.04em;height:6.8752em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.2126em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:7.19em;"><span style="top:-15.8801em;"><span class="pstrut" style="height:15.8801em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2512em;"><span style="top:-3.2512em;"><span class="pstrut" style="height:3.8542em;"></span><span class="stretchy colorbox" style="height:1.8542em;background-color:#FBCFE8;"></span></span><span style="top:-3.8542em;"><span class="pstrut" style="height:3.8542em;"></span><span class="mord boxpad"><span class="mord sizing reset-size6 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-right:0.0417em;margin-left:0em;top:-2.5474em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.109em;">M</span></span></span><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size6 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6031em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:6.8499em;"><span style="top:-8.8499em;"><span class="pstrut" style="height:15.2em;"></span><span style="width:0.875em;height:13.200em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.875em" viewBox="0 0 875 13200" height="13.200em"><path d="M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,9684c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-9692c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:6.3501em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:6.85em;"><span style="top:-9.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="margin-left:0em;top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-7.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-right:0.05em;margin-left:0em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-6.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">P</span><span class="mord">r</span><span class="mord">o</span><span class="mord">v</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="margin-right:0.05em;top:-2.55em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-5.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">V</span><span class="mord">e</span><span class="mord">r</span><span class="mord">i</span><span class="mord">f</span><span class="mord">y</span></span><span class="mpunct">,</span></span></span><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.242em;"><span style="margin-right:0.05em;top:-2.4559em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-0.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.242em;"><span style="margin-right:0.05em;top:-2.4559em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:0.59em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.242em;"><span style="margin-right:0.05em;top:-2.4559em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:1.79em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.242em;"><span style="margin-right:0.05em;top:-2.4559em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:2.99em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord texttt">stop</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:6.35em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:6.8499em;"><span style="top:-8.8499em;"><span class="pstrut" style="height:15.2em;"></span><span style="width:0.875em;height:13.200em;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 875 13200" height="13.200em" width="0.875em"><path d="M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,9609
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-9744c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:6.3501em;"><span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-9.19em;"><span class="pstrut" style="height:15.8801em;"></span><span class="stretchy fbox" style="border-style:solid;border-width:0.04em;height:13.8801em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:6.6901em;"><span></span></span></span></span></span></span></span><span style="top:-2.8599em;"><span class="pstrut" style="height:9.19em;"></span><span class="mord"><span class="mord">∘</span></span></span><span style="top:-1.66em;"><span class="pstrut" style="height:9.19em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">Z</span><span class="mord">K</span></span><span class="mopen">(</span><span class="mord mathnormal">φ</span><span class="mclose">)]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin amsrm">⊚</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">o</span><span class="mord">p</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:7.89em;"><span></span></span></span></span></span></span></span></span></span></span></span></span>
<p>Next, inline messages to get rid of synchronous communication.
Our goal for now is to simplify the communication patterns, merging
what's going on into a functionality.</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable columnspacing="1em" rowspacing="0.16em" columnalign="center"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable columnalign="right left" columnspacing="0em" rowspacing="0.25em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded voffset="3pt" mathbackground="#FBCFE8" lspace="3pt" width="+6pt" height="+6pt"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>1</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>SetMask</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mi>f</mi><mi>i</mi></msub><mover><mo minsize="1.75em" stretchy="true">←</mo><mpadded lspace="0.3em" width="+0.6em"><mi mathvariant="normal">$</mi></mpadded></mover><mo stretchy="false">{</mo><msub><mi>f</mi><mi>i</mi></msub><mo>∈</mo><msub><mi mathvariant="double-struck">F</mi><mi>q</mi></msub><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo><mi mathvariant="normal">_</mi><mrow><mo>≤</mo><mi>t</mi><mo>−</mo><mn>1</mn></mrow><mo>∣</mo><msub><mi>f</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo><mo>=</mo><msub><mi>s</mi><mi>i</mi></msub><mo stretchy="false">}</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mi>F</mi><mi>i</mi></msub><mo>←</mo><msub><mi>f</mi><mi>i</mi></msub><mo>⋅</mo><mi>G</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>SetCommit</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><msub><mi>F</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>Commit</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitMask</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>WaitCommit</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>Sync</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>Share</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><msub><mi>z</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>Open</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mi>Z</mi><mi>i</mi></msub><mo>←</mo><msub><mi>z</mi><mi>i</mi></msub><mo>⋅</mo><mi>G</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mi>π</mi><mi>i</mi></msub><mo>←</mo><msub><mtext>Prove</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><msub><mi>Z</mi><mi>i</mi></msub><mo separator="true">;</mo><msub><mi>z</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mpadded lspace="3pt" height="+6pt" width="+6pt" voffset="3pt" mathbackground="#bae6fd"><mstyle scriptlevel="0" displaystyle="false"><mi>Z</mi><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><msub><mi>Z</mi><mi>i</mi></msub><mo separator="true">,</mo><mtext> </mtext><mi>π</mi><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><msub><mi>π</mi><mi>i</mi></msub></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mpadded voffset="3pt" mathbackground="#bae6fd" height="+6pt" lspace="3pt" width="+6pt"><mstyle displaystyle="false" scriptlevel="0"><mi>x</mi><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><msub><mi>z</mi><mi>i</mi></msub><mo>+</mo><msub><mi>f</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitShare</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>WaitSync</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mpadded mathbackground="#bae6fd" width="+6pt" height="+6pt" lspace="3pt" voffset="3pt"><mstyle scriptlevel="0" displaystyle="false"><mi>F</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo>←</mo><msub><mtext>WaitOpen</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo stretchy="false">)</mo></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mpadded height="+6pt" voffset="3pt" width="+6pt" lspace="3pt" mathbackground="#bae6fd"><mstyle scriptlevel="0" displaystyle="false"><mtext mathvariant="monospace">wait</mtext><mi mathvariant="normal">_</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><mi mathvariant="normal">∀</mi><mi>j</mi><mi mathvariant="normal">.</mi><mtext> </mtext><mi>Z</mi><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>i</mi></mrow><mo separator="true">,</mo><mi>π</mi><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>i</mi></mrow><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∃</mi><mi>j</mi><mi mathvariant="normal">.</mi><mtext> deg</mtext><mo stretchy="false">(</mo><msub><mi>F</mi><mi>j</mi></msub><mo stretchy="false">)</mo><mi mathvariant="normal">≠</mi><mi>t</mi><mo>−</mo><mn>1</mn><mo>∨</mo><msub><mi>F</mi><mi>j</mi></msub><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo><mi mathvariant="normal">≠</mi><mn>0</mn><mo>∨</mo><mi mathvariant="normal">¬</mi><mtext>Verify</mtext><mo stretchy="false">(</mo><mi>π</mi><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>i</mi></mrow><mo separator="true">,</mo><mi>Z</mi><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>i</mi></mrow><mo stretchy="false">)</mo><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mpadded voffset="3pt" width="+6pt" lspace="3pt" mathbackground="#bae6fd" height="+6pt"><mstyle scriptlevel="0" displaystyle="false"><mtext mathvariant="monospace">wait</mtext><mi mathvariant="normal">_</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo></mrow><mi mathvariant="normal">∀</mi><mi>j</mi><mi mathvariant="normal">.</mi><mtext> </mtext><mi>x</mi><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>i</mi></mrow><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mi>x</mi><mi>i</mi></msub><mo>←</mo><munder><mo>∑</mo><mi>j</mi></munder><mi>x</mi><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>i</mi></mrow><mo separator="true">,</mo><mspace width="0.5em"/><mi>F</mi><mo>←</mo><munder><mo>∑</mo><mi>j</mi></munder><mi>Z</mi><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>i</mi></mrow><mo>+</mo><munder><mo>∑</mo><mi>j</mi></munder><msub><mi>F</mi><mi>j</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><msub><mi>x</mi><mi>i</mi></msub><mo>⋅</mo><mi>G</mi><mi mathvariant="normal">≠</mi><mi>F</mi><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo separator="true">,</mo><mi>F</mi><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mo>⊗</mo><mtable columnspacing="1em" rowspacing="0.16em" columnalign="center"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable columnalign="right left" rowspacing="0.25em" columnspacing="0em"><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded height="+6pt" width="+6pt" lspace="3pt" mathbackground="#FBCFE8" voffset="3pt"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><msubsup><mi mathvariant="normal">Γ</mi><mi>M</mi><mn>1</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mo>…</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mo>↱</mo><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mi>m</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mi mathvariant="normal">.</mi><mtext> </mtext><mo stretchy="false">(</mo><mi>Z</mi><mi mathvariant="normal">_</mi><mrow><mi>k</mi><mi>j</mi></mrow><mo separator="true">,</mo><mi>π</mi><mi mathvariant="normal">_</mi><mrow><mi>k</mi><mi>j</mi></mrow><mo stretchy="false">)</mo><mo>←</mo><mi>m</mi><mi mathvariant="normal">_</mi><mi>j</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mo>↱</mo><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mi>m</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mi mathvariant="normal">.</mi><mtext> </mtext><mi>x</mi><mi mathvariant="normal">_</mi><mrow><mi>k</mi><mi>j</mi></mrow><mo>←</mo><mi>m</mi><mi mathvariant="normal">_</mi><mi>j</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mo>↰</mo><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mtext mathvariant="monospace">wait</mtext><mi mathvariant="normal">_</mi><mrow><mo stretchy="false">(</mo><mi>k</mi><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mi mathvariant="normal">.</mi><mtext> </mtext><mi>Z</mi><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>k</mi></mrow><mo separator="true">,</mo><mi>π</mi><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>k</mi></mrow><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mo stretchy="false">[</mo><mo stretchy="false">(</mo><mi>Z</mi><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>k</mi></mrow><mo separator="true">,</mo><mi>π</mi><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>k</mi></mrow><mo stretchy="false">)</mo><mo>∣</mo><mi>j</mi><mo>∈</mo><mi>S</mi><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mo>↰</mo><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mtext mathvariant="monospace">wait</mtext><mi mathvariant="normal">_</mi><mrow><mo stretchy="false">(</mo><mi>k</mi><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo></mrow><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mi mathvariant="normal">.</mi><mtext> </mtext><mi>x</mi><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>k</mi></mrow><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mo stretchy="false">[</mo><mi>x</mi><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>k</mi></mrow><mo>∣</mo><mi>j</mi><mo>∈</mo><mi>S</mi><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mo lspace="0em" rspace="0em">⊗</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>1</mn><mo stretchy="false">(</mo><mo>…</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mo lspace="0em" rspace="0em">∘</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable columnalign="right left" columnspacing="0em" rowspacing="0.25em"><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded width="+6pt" lspace="3pt" height="+6pt" mathbackground="#bae6fd" voffset="3pt"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msup><mi>F</mi><mn>0</mn></msup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><msub><mi>F</mi><mi>i</mi></msub><mo separator="true">,</mo><mtext>com</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo separator="true">,</mo><mtext>open</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mrow><mtext mathvariant="monospace">pub</mtext><mtext> </mtext></mrow><mi>Z</mi><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo separator="true">,</mo><mi>π</mi><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo separator="true">,</mo><mi>x</mi><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>SetCommit</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>F</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mi>F</mi><mi>i</mi></msub><mo>←</mo><mi>F</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>Commit</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">assert</mtext><mtext> </mtext></mrow><msub><mi>F</mi><mi>i</mi></msub><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mtext>com</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><mtext mathvariant="monospace">true</mtext><mtext> </mtext><mo stretchy="false">(</mo><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitCommit</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mtext mathvariant="monospace">wait</mtext><mi mathvariant="normal">_</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mi mathvariant="normal">.</mi><mtext> com</mtext><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>i</mi></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>Open</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">assert</mtext><mtext> </mtext></mrow><msub><mi>F</mi><mi>i</mi></msub><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mtext>open</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><mtext mathvariant="monospace">true</mtext><mo stretchy="false">(</mo><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitOpen</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mtext>wait</mtext><mi mathvariant="normal">_</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo></mrow><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mi mathvariant="normal">.</mi><mtext> open</mtext><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>i</mi></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mi>F</mi><mi mathvariant="normal">_</mi><mo>∙</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>ZK</mtext><mo stretchy="false">(</mo><mi>φ</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>SyncComm</mtext><mo stretchy="false">]</mo><mo>⊚</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Stop</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^1_H$
}\cr
\cr
&amp;\underline{
  (1)\text{SetMask}_i():
}\cr
  &amp;\enspace
    f_i \xleftarrow{\$} \{ f_i \in \mathbb{F}_q[X]\_{\leq t - 1} \mid f_i(0) = s_i \}
  \cr
  &amp;\enspace
    F_i \gets f_i \cdot G
  \cr
  &amp;\enspace
    \text{SetCommit}_i(F_i)
  \cr
  &amp;\enspace
    \text{Commit}_i(\star)
  \cr
\cr
&amp;\underline{
  \text{WaitMask}_i():
}\cr
  &amp;\enspace
    \text{WaitCommit}_i(\star)
  \cr
  &amp;\enspace
    \text{Sync}_i(\star, 0)
  \cr
\cr
&amp;\underline{
  (1)\text{Share}_i(z_i):
}\cr
  &amp;\enspace
    \text{Open}_i(\star)
  \cr
  &amp;\enspace
    Z_i \gets z_i \cdot G
  \cr
  &amp;\enspace
    \pi_i \gets \text{Prove}_i(Z_i; z_i)
  \cr
  &amp;\enspace
  \colorbox{bae6fd}{$
    Z\_{ij} \gets Z_i,\ \pi\_{ij} \gets \pi_i
  $}
  \cr
  &amp;\enspace
  \colorbox{bae6fd}{$
    x\_{ij} \gets z_i + f_i(j)
  $}
  \cr
\cr
&amp;\underline{
  \text{WaitShare}_i():
}\cr
  &amp;\enspace
    \text{WaitSync}_i(\star, 0)
  \cr
  &amp;\enspace
  \colorbox{bae6fd}{$
    F\_\bullet \gets \text{WaitOpen}_i(\star)
  $}
  \cr
  &amp;\enspace
  \colorbox{bae6fd}{$
    \texttt{wait}\_{(i, 1)} \forall j.\ Z\_{ji}, \pi\_{ji} \neq \bot
  $}
  \cr
  &amp;\enspace
    \texttt{if } \exists j.\ \text{deg}(F_j) \neq t - 1 \lor F_j(0) \neq 0 \lor \neg \text{Verify}(\pi\_{ji}, Z\_{ji}):
  \cr
  &amp;\enspace\enspace
    \texttt{stop}(\star, 1)
  \cr
  &amp;\enspace
  \colorbox{bae6fd}{$
    \texttt{wait}\_{(i, 2)} \forall j.\ x\_{ji} \neq \bot
  $}
  \cr
  &amp;\enspace
    x_i \gets \sum_j x\_{ji}, \enspace F \gets \sum_j Z\_{ji} + \sum_j F_j
  \cr
  &amp;\enspace
    \texttt{if } x_i \cdot G \neq F(i):
  \cr
  &amp;\enspace\enspace
    \texttt{stop}(\star, 2)
  \cr
  &amp;\enspace
    \texttt{return } (x_i, F(0))
  \cr
\end{aligned}
}
}
\otimes
\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^1_M$
}\cr
&amp;\ldots\cr
\cr
&amp;\underline{
  \Rsh_k(S, m\_\bullet, 1):
}\cr
  &amp;\enspace
    \forall j \in S.\ (Z\_{kj}, \pi\_{kj}) \gets m\_j
  \cr
\cr
&amp;\underline{
  \Rsh_k(S, m\_\bullet, 2):
}\cr
  &amp;\enspace
    \forall j \in S.\ x\_{kj} \gets m\_j
  \cr
\cr
&amp;\underline{
  \Lsh_k(S, 1):
}\cr
  &amp;\enspace
    \texttt{wait}\_{(k, 1)} \forall j \in S.\ Z\_{jk}, \pi\_{jk} \neq \bot
  \cr
  &amp;\enspace
    \texttt{return } [(Z\_{jk}, \pi\_{jk}) \mid j \in S]
  \cr
\cr
&amp;\underline{
  \Lsh_k(S, 2):
}\cr
  &amp;\enspace
    \texttt{wait}\_{(k, 2)} \forall j \in S.\ x\_{jk} \neq \bot
  \cr
  &amp;\enspace
    \texttt{return } [x\_{jk} \mid j \in S]
  \cr
\end{aligned}
}
}\cr
\otimes\cr1(\ldots)
\end{matrix}
\cr
  \circ
\cr
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{bae6fd}{\large
  $F^0$
}\cr
\cr
&amp;F_i, \text{com}\_{ij}, \text{open}\_{ij} \gets \bot\cr
&amp;\texttt{pub } Z\_{ij}, \pi\_{ij}, x\_{ij} \gets \bot\cr
\cr
&amp;\underline{
  (1)\text{SetCommit}_i(F):
}\cr
  &amp;\enspace
    F_i \gets F
  \cr
\cr
&amp;\underline{
  \text{Commit}_i(S):
}\cr
  &amp;\enspace
    \texttt{assert } F_i \neq \bot
  \cr
  &amp;\enspace
    \text{com}\_{ij} \gets \texttt{true}\ (\forall j \in S)
  \cr
\cr
&amp;\underline{
  \text{WaitCommit}_i(S):
}\cr
  &amp;\enspace
    \texttt{wait}\_{(i, 0)} \forall j \in S.\ \text{com}\_{ji}
  \cr
\cr
&amp;\underline{
  \text{Open}_i(S):
}\cr
  &amp;\enspace
    \texttt{assert } F_i \neq \bot
  \cr
  &amp;\enspace
    \text{open}\_{ij} \gets \texttt{true} (\forall j \in S)
  \cr
\cr
&amp;\underline{
  \text{WaitOpen}_i(S):
}\cr
  &amp;\enspace
    \text{wait}\_{(i, 2)} \forall j \in S.\ \text{open}\_{ji}
  \cr
  &amp;\enspace
    \texttt{return } F\_\bullet
  \cr
\end{aligned}
}
}
\otimes
F[\text{ZK}(\varphi)] \otimes F[\text{SyncComm}] \circledcirc F[\text{Stop}]
\end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="vertical-align:-38.782em;height:78.0639em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:39.282em;"><span style="top:-41.282em;"><span class="pstrut" style="height:25.0219em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:23.0219em;"><span style="top:-47.5938em;"><span class="pstrut" style="height:47.5938em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:25.2021em;"><span style="top:-27.2021em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-25.4254em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-23.9254em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-22.0534em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-20.5534em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-19.0534em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-17.5534em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-16.0534em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-14.5534em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-12.9634em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-11.4634em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-9.9634em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-8.4634em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-6.8734em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-5.3734em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-3.8734em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-2.23em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-0.27em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:1.48em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:2.98em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:4.57em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:6.28em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:8.24em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:9.99em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:11.49em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:13.2em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:15.16em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:17.6853em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:19.1853em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:20.6853em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:24.7021em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:25.2021em;"><span style="top:-27.2021em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="height:1.9936em;background-color:#FBCFE8;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="top:-2.5474em;margin-left:0em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-23.9254em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">M</span><span class="mord">a</span><span class="mord">s</span><span class="mord">k</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-22.0534em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1076em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:-0.1076em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.122em;"><span style="top:-3.222em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mtight">$</span></span></span></span><span style="top:-2.589em;"><span class="pstrut" style="height:2.6em;"></span><span class="hide-tail" style="height:0.522em;min-width:1.469em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" viewBox="0 0 400000 522" preserveAspectRatio="xMinYMin slice" height="0.522em"><path d="M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.011em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1076em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:-0.1076em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathbb">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.137em;"><span style="margin-left:0em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0359em;">q</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.0785em;">X</span><span class="mclose">]</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1076em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:-0.1076em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:0em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span><span style="top:-20.5534em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:-0.1389em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1076em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:-0.1076em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">G</span></span></span><span style="top:-19.0534em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:-0.1389em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-17.5534em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mclose">)</span></span></span><span style="top:-14.5534em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">M</span><span class="mord">a</span><span class="mord">s</span><span class="mord">k</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-12.9634em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mclose">)</span></span></span><span style="top:-11.4634em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.3389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span><span style="top:-8.4634em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:-0.044em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-6.8734em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.3389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mclose">)</span></span></span><span style="top:-5.3734em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:-0.0715em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:-0.044em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">G</span></span></span><span style="top:-3.8734em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0359em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:-0.0359em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord text"><span class="mord">P</span><span class="mord">r</span><span class="mord">o</span><span class="mord">v</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:-0.0715em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:-0.044em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-2.23em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9833em;"><span style="top:-2.9833em;"><span class="pstrut" style="height:3.5933em;"></span><span class="stretchy colorbox" style="background-color:#bae6fd;height:1.5933em;"></span></span><span style="top:-3.5933em;"><span class="pstrut" style="height:3.5933em;"></span><span class="mord boxpad"><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:-0.0715em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace"> </span><span class="mord mathnormal" style="margin-right:0.0359em;">π</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0359em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:-0.0359em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.61em;"><span></span></span></span></span></span></span></span><span style="top:-0.27em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.66em;"></span><span class="stretchy colorbox" style="height:1.66em;background-color:#bae6fd;"></span></span><span style="top:-3.66em;"><span class="pstrut" style="height:3.66em;"></span><span class="mord boxpad"><span class="mord mathnormal">x</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:-0.044em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1076em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:-0.1076em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.61em;"><span></span></span></span></span></span></span></span><span style="top:2.98em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:4.57em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.3389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span><span style="top:6.28em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.66em;"></span><span class="stretchy colorbox" style="background-color:#bae6fd;height:1.66em;"></span></span><span style="top:-3.66em;"><span class="pstrut" style="height:3.66em;"></span><span class="mord boxpad"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.3389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.61em;"><span></span></span></span></span></span></span></span><span style="top:8.24em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.66em;"></span><span class="stretchy colorbox" style="height:1.66em;background-color:#bae6fd;"></span></span><span style="top:-3.66em;"><span class="pstrut" style="height:3.66em;"></span><span class="mord boxpad"><span class="mord text"><span class="mord texttt">wait</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord">.</span><span class="mspace"> </span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">ji</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0359em;">π</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">ji</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.61em;"><span></span></span></span></span></span></span></span><span style="top:9.99em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord">∃</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord">.</span><span class="mspace"> </span><span class="mord text"><span class="mord">d</span><span class="mord">e</span><span class="mord">g</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:-0.1389em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:-0.1389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">¬</span><span class="mord text"><span class="mord">V</span><span class="mord">e</span><span class="mord">r</span><span class="mord">i</span><span class="mord">f</span><span class="mord">y</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0359em;">π</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">ji</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">ji</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:11.49em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span><span style="top:13.2em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.66em;"></span><span class="stretchy colorbox" style="height:1.66em;background-color:#bae6fd;"></span></span><span style="top:-3.66em;"><span class="pstrut" style="height:3.66em;"></span><span class="mord boxpad"><span class="mord text"><span class="mord texttt">wait</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">)</span></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord">.</span><span class="mspace"> </span><span class="mord mathnormal">x</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">ji</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.61em;"><span></span></span></span></span></span></span></span><span style="top:15.16em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="margin-left:0em;top:-1.8943em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3853em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">ji</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-1.8943em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3853em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">ji</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-1.8943em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3853em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:-0.1389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span></span></span><span style="top:17.6853em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">G</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:19.1853em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span><span style="top:20.6853em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">))</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:24.7021em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-25.0219em;"><span class="pstrut" style="height:47.5938em;"></span><span class="stretchy fbox" style="height:45.5938em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:22.5719em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:13.1631em;"><span style="top:-15.1631em;"><span class="pstrut" style="height:13.9381em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:11.9381em;"><span style="top:-25.4262em;"><span class="pstrut" style="height:25.4262em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:12.8868em;"><span style="top:-14.8868em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-13.11em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-11.61em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-10.11em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-8.46em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-6.96em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-5.46em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-3.81em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-2.31em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-0.81em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:0.78em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:2.28em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:3.78em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:5.28em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:6.87em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:8.37em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:12.3868em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:12.8868em;"><span style="top:-14.8868em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="height:1.9936em;background-color:#FBCFE8;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="top:-2.5474em;margin-left:0em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.109em;">M</span></span></span><span style="margin-right:0.0417em;top:-3.163em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-13.11em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span></span></span><span style="top:-10.11em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.53em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-left:0em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.51em;"><span></span></span></span></span></span></span></span><span style="top:-8.46em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mord">.</span><span class="mspace"> </span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">kj</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0359em;">π</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">kj</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">m</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span></span></span><span style="top:-5.46em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.53em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.51em;"><span></span></span></span></span></span></span></span><span style="top:-3.81em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mord">.</span><span class="mspace"> </span><span class="mord mathnormal">x</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">kj</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">m</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span></span></span><span style="top:-0.81em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:0.78em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">wait</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0315em;">k</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mord">.</span><span class="mspace"> </span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0315em;">jk</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0359em;">π</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0315em;">jk</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:2.28em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mopen">[(</span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0315em;">jk</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0359em;">π</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0315em;">jk</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">]</span></span></span><span style="top:5.28em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;margin-left:0em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:6.87em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">wait</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0315em;">k</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">)</span></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mord">.</span><span class="mspace"> </span><span class="mord mathnormal">x</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0315em;">jk</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:8.37em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0315em;">jk</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:12.3868em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-13.9381em;"><span class="pstrut" style="height:25.4262em;"></span><span class="stretchy fbox" style="border-style:solid;height:23.4262em;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:11.4881em;"><span></span></span></span></span></span></span></span><span style="top:-2.835em;"><span class="pstrut" style="height:13.9381em;"></span><span class="mord"><span class="mord">⊗</span></span></span><span style="top:-1.635em;"><span class="pstrut" style="height:13.9381em;"></span><span class="mord"><span class="mord">1</span><span class="mopen">(</span><span class="minner">…</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:12.6631em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-17.8701em;"><span class="pstrut" style="height:25.0219em;"></span><span class="mord"><span class="mord">∘</span></span></span><span style="top:-1.65em;"><span class="pstrut" style="height:25.0219em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:15.8601em;"><span style="top:-33.2701em;"><span class="pstrut" style="height:33.2701em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:17.2445em;"><span style="top:-19.2445em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-17.7445em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-16.2445em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-14.7445em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-13.2445em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-11.7445em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-10.1545em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-8.6545em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-7.1545em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-5.5645em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-4.0645em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-2.5645em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-1.0645em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:0.5255em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:2.0255em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:3.5255em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:5.1266em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:6.6266em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:8.1266em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:9.6266em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:11.2277em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:12.7277em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:16.7445em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:17.2445em;"><span style="top:-19.2445em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.6568em;"></span><span class="stretchy colorbox" style="height:1.6568em;background-color:#bae6fd;"></span></span><span style="top:-3.6568em;"><span class="pstrut" style="height:3.6568em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-right:0.0417em;top:-3.163em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3em;"><span></span></span></span></span></span></span></span><span style="top:-16.2445em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:-0.1389em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord">c</span><span class="mord">o</span><span class="mord">m</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord">o</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:-14.7445em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord text"><span class="mord texttt">pub </span></span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0359em;">π</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:-11.7445em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-10.1545em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:-0.1389em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span></span></span><span style="top:-7.1545em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-5.5645em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">assert </span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:-0.1389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:-4.0645em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord">c</span><span class="mord">o</span><span class="mord">m</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord texttt">true</span></span><span class="mspace"> </span><span class="mopen">(</span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span></span></span><span style="top:-1.0645em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:0.5255em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">wait</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mord">.</span><span class="mspace"> </span><span class="mord text"><span class="mord">c</span><span class="mord">o</span><span class="mord">m</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">ji</span></span></span></span><span style="top:3.5255em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.5789em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="margin-right:0.0556em;top:-2.3389em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4611em;"><span></span></span></span></span></span></span></span><span style="top:5.1266em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">assert </span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:-0.1389em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:6.6266em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord">o</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord texttt">true</span></span><span class="mopen">(</span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span></span></span><span style="top:9.6266em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.5789em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.3389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4611em;"><span></span></span></span></span></span></span></span><span style="top:11.2277em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord">w</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">)</span></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mord">.</span><span class="mspace"> </span><span class="mord text"><span class="mord">o</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">ji</span></span></span></span><span style="top:12.7277em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:16.7445em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-17.8601em;"><span class="pstrut" style="height:33.2701em;"></span><span class="stretchy fbox" style="border-style:solid;height:31.2701em;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:15.4101em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">Z</span><span class="mord">K</span></span><span class="mopen">(</span><span class="mord mathnormal">φ</span><span class="mclose">)]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin amsrm">⊚</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">o</span><span class="mord">p</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:38.782em;"><span></span></span></span></span></span></span></span></span></span></span></span></span>
<p>By stopping inside <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Γ</mi><mi>M</mi></msub></mrow><annotation encoding="application/x-tex">\Gamma_M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="vertical-align:-0.15em;height:0.8333em;"></span><span class="mord"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.109em;">M</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span>, we can merge the last two messages
more easily.
Any proof not coming from the prove function is false, except with neglible probability.</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable columnalign="center" rowspacing="0.16em" columnspacing="1em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable columnalign="right left" columnspacing="0em" rowspacing="0.25em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded height="+6pt" lspace="3pt" voffset="3pt" width="+6pt" mathbackground="#FBCFE8"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>2</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitMask</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mo>…</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mtext mathvariant="monospace">wait</mtext><mi mathvariant="normal">_</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><mi mathvariant="normal">∀</mi><mi>j</mi><mi mathvariant="normal">.</mi><mtext> </mtext><mi>Z</mi><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>i</mi></mrow><mo separator="true">,</mo><mi>π</mi><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>i</mi></mrow><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mpadded voffset="3pt" lspace="3pt" mathbackground="#bae6fd" width="+6pt" height="+6pt"><mstyle displaystyle="false" scriptlevel="0"><mtext mathvariant="monospace">wait</mtext><mi mathvariant="normal">_</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><mi mathvariant="normal">∀</mi><mi>j</mi><mi mathvariant="normal">.</mi><mtext> </mtext><mi>x</mi><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>i</mi></mrow><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∃</mi><mi>j</mi><mi mathvariant="normal">.</mi><mtext> deg</mtext><mo stretchy="false">(</mo><msub><mi>F</mi><mi>j</mi></msub><mo stretchy="false">)</mo><mi mathvariant="normal">≠</mi><mi>t</mi><mo>−</mo><mn>1</mn><mo>∨</mo><msub><mi>F</mi><mi>j</mi></msub><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo><mi mathvariant="normal">≠</mi><mn>0</mn><mo>∨</mo><mi mathvariant="normal">¬</mi><mtext>Verify</mtext><mo stretchy="false">(</mo><mi>π</mi><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>i</mi></mrow><mo separator="true">,</mo><mi>Z</mi><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>i</mi></mrow><mo stretchy="false">)</mo><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mo>…</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mo>⊗</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable columnspacing="0em" rowspacing="0.25em" columnalign="right left"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded lspace="3pt" voffset="3pt" mathbackground="#FBCFE8" height="+6pt" width="+6pt"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><msubsup><mi mathvariant="normal">Γ</mi><mi>M</mi><mn>2</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>…</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded height="+6pt" width="+6pt" lspace="3pt" voffset="3pt" mathbackground="#bae6fd"><mstyle displaystyle="false" scriptlevel="0"><msub><mi>F</mi><mi>k</mi></msub><mo separator="true">,</mo><mi>μ</mi><mo stretchy="false">[</mo><mo>∙</mo><mo stretchy="false">]</mo><mo>←</mo><mi mathvariant="normal">⊥</mi></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>SetCommit</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>F</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mpadded voffset="3pt" mathbackground="#bae6fd" height="+6pt" width="+6pt" lspace="3pt"><mstyle displaystyle="false" scriptlevel="0"><msub><mi>F</mi><mi>k</mi></msub><mo>←</mo><mi>F</mi></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>SetCommit</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>F</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>Prove</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>Z</mi><mo separator="true">;</mo><mi>z</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mpadded mathbackground="#bae6fd" width="+6pt" lspace="3pt" height="+6pt" voffset="3pt"><mstyle displaystyle="false" scriptlevel="0"><mi>π</mi><mo>←</mo><msub><mtext>Prove</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>B</mi><mo separator="true">;</mo><mi>b</mi><mo stretchy="false">)</mo></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mpadded height="+6pt" lspace="3pt" mathbackground="#bae6fd" width="+6pt" voffset="3pt"><mstyle displaystyle="false" scriptlevel="0"><mi>μ</mi><mo stretchy="false">[</mo><mi>π</mi><mo stretchy="false">]</mo><mo>←</mo><mi>Z</mi></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mi>π</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mo>↱</mo><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mi>m</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mpadded width="+6pt" height="+6pt" lspace="3pt" voffset="3pt" mathbackground="#bae6fd"><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext mathvariant="monospace">for</mtext><mtext> </mtext></mrow><mi>j</mi><mo>∈</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">H</mi><mo>:</mo></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mpadded voffset="3pt" lspace="3pt" mathbackground="#bae6fd" height="+6pt" width="+6pt"><mstyle displaystyle="false" scriptlevel="0"><mo stretchy="false">(</mo><msub><mi>Z</mi><mi>j</mi></msub><mo separator="true">,</mo><msub><mi>π</mi><mi>j</mi></msub><mo stretchy="false">)</mo><mo>←</mo><msub><mi>m</mi><mi>j</mi></msub></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mpadded voffset="3pt" mathbackground="#bae6fd" height="+6pt" width="+6pt" lspace="3pt"><mstyle displaystyle="false" scriptlevel="0"><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mtext>deg</mtext><mo stretchy="false">(</mo><msub><mi>F</mi><mi>k</mi></msub><mo stretchy="false">)</mo><mi mathvariant="normal">≠</mi><mi>t</mi><mo>−</mo><mn>1</mn><mo>∨</mo><msub><mi>F</mi><mi>k</mi></msub><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo><mi mathvariant="normal">≠</mi><mn>0</mn><mo>∨</mo><mi>μ</mi><mo stretchy="false">[</mo><mi>π</mi><mo stretchy="false">]</mo><mi mathvariant="normal">≠</mi><msub><mi>Z</mi><mi>j</mi></msub></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mspace width="0.5em"/><mpadded voffset="3pt" mathbackground="#bae6fd" height="+6pt" width="+6pt" lspace="3pt"><mstyle scriptlevel="0" displaystyle="false"><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">(</mo><mo stretchy="false">{</mo><mi>j</mi><mo stretchy="false">}</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mi mathvariant="normal">.</mi><mtext> </mtext><mo stretchy="false">(</mo><mi>Z</mi><mi mathvariant="normal">_</mi><mrow><mi>k</mi><mi>j</mi></mrow><mo separator="true">,</mo><mi>π</mi><mi mathvariant="normal">_</mi><mrow><mi>k</mi><mi>j</mi></mrow><mo stretchy="false">)</mo><mo>←</mo><mi>m</mi><mi mathvariant="normal">_</mi><mi>j</mi></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mo rspace="0em" lspace="0em">⊗</mo></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mn>1</mn><mo stretchy="false">(</mo><mo>…</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">∘</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msup><mi>F</mi><mn>0</mn></msup><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>ZK</mtext><mo stretchy="false">(</mo><mi>φ</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>SyncComm</mtext><mo stretchy="false">]</mo><mo>⊚</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Stop</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^2_H$
}\cr
\cr
&amp;\underline{
  \text{WaitMask}_i():
}\cr
  &amp;\enspace
    \ldots
  \cr
  &amp;\enspace
    \texttt{wait}\_{(i, 1)} \forall j.\ Z\_{ji}, \pi\_{ji} \neq \bot
  \cr
  &amp;\enspace
  \colorbox{bae6fd}{$
    \texttt{wait}\_{(i, 1)} \forall j.\ x\_{ji} \neq \bot
  $}
  \cr
  &amp;\enspace
    \texttt{if } \exists j.\ \text{deg}(F_j) \neq t - 1 \lor F_j(0) \neq 0 \lor \neg \text{Verify}(\pi\_{ji}, Z\_{ji}):
  \cr
  &amp;\enspace\enspace
    \texttt{stop}(\star, 1)
  \cr
  &amp;\enspace
    \ldots
  \cr
\end{aligned}
}
}
\otimes
\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^2_M$
}\cr
&amp;\ldots\cr
&amp;\colorbox{bae6fd}{$
F_k, \mu[\bullet] \gets \bot
$}\cr
\cr
&amp;\underline{
  (1)\text{SetCommit}_k(F):
}\cr
  &amp;\enspace
  \colorbox{bae6fd}{$
    F_k \gets F
  $}
  \cr
  &amp;\enspace
    \text{SetCommit}_k(F)
  \cr
\cr
&amp;\underline{
  \text{Prove}_k(Z;z):
}\cr
  &amp;\enspace
  \colorbox{bae6fd}{$
    \pi \gets \text{Prove}_k(B;b)
  $}
  \cr
  &amp;\enspace
  \colorbox{bae6fd}{$
    \mu[\pi] \gets Z
  $}
  \cr
  &amp;\enspace
    \texttt{return } \pi
  \cr
\cr
&amp;\underline{
  \Rsh_k(S, m\_\bullet, 1):
}\cr
  &amp;\enspace
  \colorbox{bae6fd}{$
    \texttt{for } j \in S \cap \mathcal{H}:
  $}
  \cr
  &amp;\enspace\enspace
  \colorbox{bae6fd}{$
    (Z_j, \pi_j) \gets m_j
  $}
  \cr
  &amp;\enspace\enspace
  \colorbox{bae6fd}{$
    \texttt{if } \text{deg}(F_k) \neq t - 1 \lor F_k(0) \neq 0 \lor \mu[\pi] \neq Z_j
  $}
  \cr
  &amp;\enspace\enspace\enspace
  \colorbox{bae6fd}{$
    \texttt{stop}(\{j\}, 1)
  $}
  \cr
  &amp;\enspace
    \forall j \in S.\ (Z\_{kj}, \pi\_{kj}) \gets m\_j
  \cr
\end{aligned}
}
}\cr
\otimes\cr
1(\ldots)
\end{matrix}
\cr
  \circ
\cr
F^0
\otimes
F[\text{ZK}(\varphi)] \otimes F[\text{SyncComm}] \circledcirc F[\text{Stop}]
\end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:34.8145em;vertical-align:-17.1573em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:17.6573em;"><span style="top:-19.6573em;"><span class="pstrut" style="height:18.4573em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:7.2446em;"><span style="top:-16.0392em;"><span class="pstrut" style="height:16.0392em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:7.6718em;"><span style="top:-9.6718em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-7.895em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-6.395em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-4.805em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-3.305em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-1.595em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:0.155em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:1.655em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:3.155em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:7.1718em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:7.6718em;"><span style="top:-9.6718em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="background-color:#FBCFE8;height:1.9936em;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="top:-2.5474em;margin-left:0em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-6.395em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">M</span><span class="mord">a</span><span class="mord">s</span><span class="mord">k</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-4.805em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="minner">…</span></span></span><span style="top:-3.305em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">wait</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord">.</span><span class="mspace"> </span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">ji</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0359em;">π</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">ji</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:-1.595em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.66em;"></span><span class="stretchy colorbox" style="background-color:#bae6fd;height:1.66em;"></span></span><span style="top:-3.66em;"><span class="pstrut" style="height:3.66em;"></span><span class="mord boxpad"><span class="mord text"><span class="mord texttt">wait</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord">.</span><span class="mspace"> </span><span class="mord mathnormal">x</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">ji</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.61em;"><span></span></span></span></span></span></span></span><span style="top:0.155em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord">∃</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord">.</span><span class="mspace"> </span><span class="mord text"><span class="mord">d</span><span class="mord">e</span><span class="mord">g</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:-0.1389em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:-0.1389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">¬</span><span class="mord text"><span class="mord">V</span><span class="mord">e</span><span class="mord">r</span><span class="mord">i</span><span class="mord">f</span><span class="mord">y</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0359em;">π</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">ji</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">ji</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:1.655em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span><span style="top:3.155em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="minner">…</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:7.1718em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-9.2446em;"><span class="pstrut" style="height:16.0392em;"></span><span class="stretchy fbox" style="border-width:0.04em;height:14.0392em;border-style:solid;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:6.7946em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:16.4573em;"><span style="top:-18.4573em;"><span class="pstrut" style="height:17.2323em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:15.2323em;"><span style="top:-32.0145em;"><span class="pstrut" style="height:32.0145em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:16.547em;"><span style="top:-18.547em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-16.7702em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-15.0602em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-13.3702em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-11.8702em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-10.1369em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-8.5469em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-7.0469em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-5.5469em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-3.7469em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-1.8469em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-0.1569em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:1.3431em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:2.8431em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:4.6364em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:6.4809em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:8.4105em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:10.3401em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:12.0301em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:16.047em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:16.547em;"><span style="top:-18.547em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="background-color:#FBCFE8;height:1.9936em;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="top:-2.5474em;margin-left:0em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.109em;">M</span></span></span><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-16.7702em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span></span></span><span style="top:-15.0602em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.6em;"></span><span class="stretchy colorbox" style="background-color:#bae6fd;height:1.6em;"></span></span><span style="top:-3.6em;"><span class="pstrut" style="height:3.6em;"></span><span class="mord boxpad"><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-left:-0.1389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">μ</span><span class="mopen">[</span><span class="mord">∙</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.55em;"><span></span></span></span></span></span></span></span><span style="top:-11.8702em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-10.1369em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9833em;"><span style="top:-2.9833em;"><span class="pstrut" style="height:3.4333em;"></span><span class="stretchy colorbox" style="background-color:#bae6fd;height:1.4333em;"></span></span><span style="top:-3.4333em;"><span class="pstrut" style="height:3.4333em;"></span><span class="mord boxpad"><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-left:-0.1389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-8.5469em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mclose">)</span></span></span><span style="top:-5.5469em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">P</span><span class="mord">r</span><span class="mord">o</span><span class="mord">v</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-3.7469em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.6em;"></span><span class="stretchy colorbox" style="background-color:#bae6fd;height:1.6em;"></span></span><span style="top:-3.6em;"><span class="pstrut" style="height:3.6em;"></span><span class="mord boxpad"><span class="mord mathnormal" style="margin-right:0.0359em;">π</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord text"><span class="mord">P</span><span class="mord">r</span><span class="mord">o</span><span class="mord">v</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0502em;">B</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.55em;"><span></span></span></span></span></span></span></span><span style="top:-1.8469em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.6em;"></span><span class="stretchy colorbox" style="height:1.6em;background-color:#bae6fd;"></span></span><span style="top:-3.6em;"><span class="pstrut" style="height:3.6em;"></span><span class="mord boxpad"><span class="mord mathnormal">μ</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.0359em;">π</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.55em;"><span></span></span></span></span></span></span></span><span style="top:-0.1569em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord mathnormal" style="margin-right:0.0359em;">π</span></span></span><span style="top:2.8431em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.53em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-left:0em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.51em;"><span></span></span></span></span></span></span></span><span style="top:4.6364em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9833em;"><span style="top:-2.9833em;"><span class="pstrut" style="height:3.4778em;"></span><span class="stretchy colorbox" style="background-color:#bae6fd;height:1.4778em;"></span></span><span style="top:-3.4778em;"><span class="pstrut" style="height:3.4778em;"></span><span class="mord boxpad"><span class="mord text"><span class="mord texttt">for </span></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4944em;"><span></span></span></span></span></span></span></span><span style="top:6.4809em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.6296em;"></span><span class="stretchy colorbox" style="height:1.6296em;background-color:#bae6fd;"></span></span><span style="top:-3.6296em;"><span class="pstrut" style="height:3.6296em;"></span><span class="mord boxpad"><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:-0.0715em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0359em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:-0.0359em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5796em;"><span></span></span></span></span></span></span></span><span style="top:8.4105em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.6296em;"></span><span class="stretchy colorbox" style="height:1.6296em;background-color:#bae6fd;"></span></span><span style="top:-3.6296em;"><span class="pstrut" style="height:3.6296em;"></span><span class="mord boxpad"><span class="mord text"><span class="mord texttt">if </span></span><span class="mord text"><span class="mord">d</span><span class="mord">e</span><span class="mord">g</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-left:-0.1389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:-0.1389em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">μ</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.0359em;">π</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:-0.0715em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5796em;"><span></span></span></span></span></span></span></span><span style="top:10.3401em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.6em;"></span><span class="stretchy colorbox" style="background-color:#bae6fd;height:1.6em;"></span></span><span style="top:-3.6em;"><span class="pstrut" style="height:3.6em;"></span><span class="mord boxpad"><span class="mord text"><span class="mord texttt">stop</span></span><span class="mopen">({</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">}</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.55em;"><span></span></span></span></span></span></span></span><span style="top:12.0301em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mord">.</span><span class="mspace"> </span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">kj</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0359em;">π</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">kj</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">m</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:16.047em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-17.2323em;"><span class="pstrut" style="height:32.0145em;"></span><span class="stretchy fbox" style="border-style:solid;border-width:0.04em;height:30.0145em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:14.7823em;"><span></span></span></span></span></span></span></span><span style="top:-2.835em;"><span class="pstrut" style="height:17.2323em;"></span><span class="mord"><span class="mord">⊗</span></span></span><span style="top:-1.635em;"><span class="pstrut" style="height:17.2323em;"></span><span class="mord"><span class="mord">1</span><span class="mopen">(</span><span class="minner">…</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:15.9573em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-2.86em;"><span class="pstrut" style="height:18.4573em;"></span><span class="mord"><span class="mord">∘</span></span></span><span style="top:-1.66em;"><span class="pstrut" style="height:18.4573em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="margin-right:0.05em;top:-3.063em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">Z</span><span class="mord">K</span></span><span class="mopen">(</span><span class="mord mathnormal">φ</span><span class="mclose">)]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin amsrm">⊚</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">o</span><span class="mord">p</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:17.1573em;"><span></span></span></span></span></span></span></span></span></span></span></span></span>
<p>Next, make it so that we open 3 things at once.</p><pre><code>$$\begin{matrix}
\boxed{
\small{
\begin{aligned}
&\colorbox{FBCFE8}{\large
  $\Gamma^4_H$
}\cr
\cr
&\underline{
  (1)\text{SetMask}_i():
}\cr
  &\enspace
    f_i \xleftarrow{\$} \{ f_i \in \mathbb{F}_q[X]\_{\leq t - 1} \mid f_i(0) = s_i \\}
  \cr
  &\enspace
    F_i \gets f_i \cdot G
  \cr
  &\enspace
    \text{SetCommit}_i(F_i)
  \cr
  &\enspace
    \text{Commit}_i(\star)
  \cr
\cr
&\underline{
  \text{WaitMask}_i():
}\cr
  &\enspace
    \text{WaitCommit}_i(\star)
  \cr
  &\enspace
    \text{Sync}_i(\star, 0)
  \cr
\cr
&\underline{
  (1)\text{Share}_i(z_i):
}\cr
  &\enspace
    Z_i \gets z_i \cdot G
  \cr
  &\enspace
    \pi_i \gets \text{Prove}_i(Z_i; z_i)
  \cr
  &\enspace
  \colorbox{bae6fd}{$
    \text{Open}_i(\star, Z_i, \pi_i, z_i + f_i(j))
  $}
  \cr
\cr
&\underline{
  \text{WaitShare}_i():
}\cr
  &\enspace
    \text{WaitSync}_i(\star, 0)
  \cr
  &\enspace
  \colorbox{bae6fd}{$
    (F\_\bullet, Z\_\bullet, \pi\_\bullet, x\_\bullet) \gets \text{WaitOpen}_i(\star)
  $}
  \cr
  &\enspace
    \texttt{if } \exists j.\ \text{deg}(F_j) \neq t - 1 \lor F_j(0) \neq 0 \lor \neg \text{Verify}(\pi\_{ji}, Z\_{ji}):
  \cr
  &\enspace\enspace
    \texttt{stop}(\star, 1)
  \cr
  &\enspace
    x_i \gets \sum_j x\_{ji}, \enspace F \gets \sum_j Z\_{ji} + \sum_j F_j
  \cr
  &\enspace
    \texttt{if } x_i \cdot G \neq F(i):
  \cr
  &\enspace\enspace
    \texttt{stop}(\star, 1)
  \cr
  &\enspace
    \texttt{return } (x_i, F(0))
  \cr
\cr
\end{aligned}
}
}
\otimes
\begin{matrix}
\boxed{
\small{
\begin{aligned}
&\colorbox{bae6fd}{\large
  $\Gamma^4_M$
}\cr
\cr
&\mu[\bullet], \text{open}\_{kj}, \text{sync}\_{kj}, Z\_{kj}, \pi\_{kj}, x\_{kj} \gets \bot\cr
\cr
&\underline{
  (1)\text{SetCommit}_k(F):
}\cr
  &\enspace
    F_k \gets F
  \cr
  &\enspace
    \text{SetCommit}_k(F)
  \cr
\cr
&\underline{
  (1)\text{Prove}_k(Z;z):
}\cr
  &\enspace
    \pi \gets \text{Prove}_k(Z;z)
  \cr
  &\enspace
    \mu[Z] \gets z
  \cr
  &\enspace
    \texttt{return } \pi
  \cr
\cr
&\underline{
  \Rsh_k(S, m\_\bullet, 1):
}\cr
  &\enspace
    \texttt{for } j \in S \cap \mathcal{H}:
  \cr
  &\enspace\enspace
  \colorbox{bae6fd}{$
    (Z_j, \pi_j) \gets m_j
  $}
  \cr
  &\enspace\enspace
  \colorbox{bae6fd}{$
    \texttt{if } \text{deg}(F_k) \neq t - 1 \lor F_k(0) \neq 0 \lor \mu[\pi] \neq Z_j
  $}
  \cr
  &\enspace\enspace\enspace
  \colorbox{bae6fd}{$
    \texttt{stop}(\{j\}, 1)
  $}
  \cr
  &\enspace
    \forall j \in S.\ (Z\_{kj}, \pi\_{kj}) \gets m\_j
  \cr
  &\enspace
    \text{Open?}_k()
  \cr
\cr
&\underline{
  \Rsh_k(S, m\_\bullet, 2):
}\cr
  &\enspace
    \forall j \in S.\ x\_{kj} \gets m\_j
  \cr
  &\enspace
    \text{Open?}_k()
  \cr
\cr
&\underline{
  \Lsh_k(S, 1):
}\cr
  &\enspace
    (\forall j \in \mathcal{H})\ (\bullet, Z\_{jk}, \pi\_{j k}, \bullet) \gets \texttt{nowait } \text{WaitOpen}\_k(\{j\})
  \cr
  &\enspace
    \texttt{wait}\_{(k, 3)} \forall j \in S.\ Z\_{jk}, \pi\_{jk} \neq \bot
  \cr
  &\enspace
    \texttt{return } [(Z\_{jk}, \pi\_{jk}) \mid j \in S]
  \cr
\cr
&\underline{
  \Lsh_k(S, 2):
}\cr
  &\enspace
    (\forall j \in \mathcal{H})\ (\bullet, \bullet, \bullet, x\_{j k}) \gets \texttt{nowait } \text{WaitOpen}\_k(\{j\})
  \cr
  &\enspace
    \texttt{wait}\_{(k, 3)} \forall j \in S.\ x\_{jk} \neq \bot
  \cr
  &\enspace
    \texttt{return } [x\_{jk} \mid j \in S]
  \cr
\cr
&\underline{
  \text{Sync}_k(S):
}\cr
  &\enspace
    \forall j \in S.\ \text{sync}\_{kj} \gets \texttt{true}
  \cr
  &\enspace
    \text{Open?}_k()
  \cr
\cr
&\underline{
  \text{WaitSync}_k(S):
}\cr
  &\enspace
    o\_{kj} \gets \texttt{nowait } \text{WaitOpen}_k(\{j\})\ (j \in S \cap \mathcal{H})
  \cr
  &\enspace
    o\_{kj} \gets \text{sync}\_{kj}\ (j \in S \cap \mathcal{M})
  \cr
  &\enspace
    \texttt{wait}\_{(k, 1)} \forall j \in S.\ o\_{kj}
  \cr
\cr
&\underline{
  \text{Open}_k(S):
}\cr
  &\enspace
    \text{open}\_{kj} \gets \texttt{true}\ (\forall j \in S)
  \cr
  &\enspace
    \text{Open?}_k()
  \cr
\cr
&\underline{
  \text{WaitOpen}_k(S):
}\cr
  &\enspace
    (F_j, \bullet, \bullet, \bullet) \gets \text{WaitOpen}_k(S \cap \mathcal{H})\ (j \in S \cap \mathcal{H})
  \cr
  &\enspace
    \texttt{wait}\_{(k, 1)} \forall j \in S \cap \mathcal{M}.\ \text{open}\_{kj}
  \cr
  &\enspace
    \texttt{return } [F_j \mid j \in S]
  \cr
\cr
&\underline{
  \text{Open?}_k():
}\cr
  &\enspace
    \texttt{for } j \in \mathcal{H}.\ \text{open}\_{kj}, \text{sync}\_{kj}, Z\_{kj}, \pi\_{kj}, x\_{kj} \neq \bot:
  \cr
  &\enspace\enspace
    \text{Open}_i(\{j\}, Z\_{kj}, \pi\_{kj}, x\_{kj})
  \cr
\cr
\ldots
\end{aligned}
}
}\cr
\otimes\cr1(\ldots)
\end{matrix}
\cr
  \circ
\cr
\boxed{
\small{
\begin{aligned}
&\colorbox{FBCFE8}{\large
  $F^1$
}\cr
\cr
&F_i, \text{com}\_{ij}, \text{open}\_{ij} \gets \bot\cr
&Z\_{ij}, \pi\_{ij}, x\_{ij} \gets \bot\cr
\cr
&\ldots\cr
\cr
&\colorbox{bae6fd}{$
\underline{
  \text{Open}_i(S, Z\_\bullet, \pi\_\bullet, x\_\bullet):
}$}\cr
  &\enspace
    \texttt{assert } F_i \neq \bot
  \cr
  &\enspace
    \text{open}\_{ij} \gets \texttt{true} (\forall j \in S)
  \cr
  &\enspace
    \texttt{for } j \in S.\ Z\_{ij}, \pi\_{ij}, x\_{ij} = \bot:
  \cr
  &\enspace\enspace
    Z\_{ij}, \pi\_{ij}, x\_{ij} \gets Z_j, \pi_j, x\_j
  \cr
\cr
&\underline{
  \text{WaitOpen}_i(S):
}\cr
  &\enspace
    \text{wait}\_{(i, 1)} \forall j \in S.\ \text{open}\_{ji}
  \cr
  &\enspace
  \colorbox{bae6fd}{$
    \texttt{return } (F\_\bullet, Z\_{\bullet i}, \pi\_{\bullet i}, x\_{\bullet i})
  $}
  \cr
\end{aligned}
}
}
\otimes
F[\text{ZK}(\varphi)] \circledcirc F[\text{Stop}]
\end{matrix}$$</code></pre>
<p>This is just a simulation of a protocol <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">P</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\mathscr{P}_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.85em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="margin-left:-0.0808em;margin-right:0.05em;top:-2.55em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span> where we need
to open along with a proof and shares,
simplifying communication substantially.</p>
<p>Let's unroll again.</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="false" scriptlevel="0"><mstyle displaystyle="true" scriptlevel="0"><mstyle mathsize="0.9em"><mtable columnalign="right left" rowspacing="0.25em" columnspacing="0em"><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded voffset="3pt" width="+6pt" lspace="3pt" height="+6pt" mathbackground="#FBCFE8"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>5</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>SetMask</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mo>…</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mo>⊗</mo><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="true"><mrow><mpadded lspace="3pt" mathbackground="#FBCFE8" width="+6pt" voffset="3pt" height="+6pt"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msubsup><mi mathvariant="normal">Γ</mi><mi>M</mi><mn>5</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded><mo>=</mo><mn>1</mn><mrow><mo fence="true">(</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mtext>Prove</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Verify</mtext><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><msub><mtext>SetCommit</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mtext>WaitCommit</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mtext>Open</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mtext>WaitOpen</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mtext mathvariant="monospace">stop</mtext></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow></mstyle></mstyle></mstyle></menclose></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mo rspace="0em" lspace="0em">∘</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msup><mi>F</mi><mn>1</mn></msup><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>ZK</mtext><mo stretchy="false">(</mo><mi>φ</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo>⊚</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Stop</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^5_H$
}\cr
\cr
&amp;\underline{
  (1)\text{SetMask}_i():
}\cr
&amp;\enspace
  \ldots
\cr
\end{aligned}
}
}
\otimes
\boxed{\colorbox{FBCFE8}{\large
  $\Gamma^5_M$
} = 1
\begin{pmatrix}
    \text{Prove}_k
  ,\cr
    \text{Verify}
  ,\cr
    \text{SetCommit}_k
  ,\cr
    \text{WaitCommit}_k
  ,\cr
    \text{Open}_k
  ,\cr
    \text{WaitOpen}_k
  ,\cr
    \texttt{stop}
\end{pmatrix}
}
\cr
  \circ
\cr
F^1 \otimes F[\text{ZK}(\varphi)] \circledcirc F[\text{Stop}]
\end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="vertical-align:-5.49em;height:11.4801em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:5.99em;"><span style="top:-7.99em;"><span class="pstrut" style="height:6.79em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.6626em;"><span style="top:-8.8752em;"><span class="pstrut" style="height:8.8752em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.6918em;"><span style="top:-5.6918em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-3.915em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-2.415em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-0.825em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.1918em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.6918em;"><span style="top:-5.6918em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="height:1.9936em;background-color:#FBCFE8;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="top:-2.5474em;margin-left:0em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="margin-right:0.0417em;top:-3.163em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-2.415em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">M</span><span class="mord">a</span><span class="mord">s</span><span class="mord">k</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-0.825em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="minner">…</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.1918em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-5.6626em;"><span class="pstrut" style="height:8.8752em;"></span><span class="stretchy fbox" style="border-width:0.04em;height:6.8752em;border-style:solid;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.2126em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:4.79em;"><span style="top:-11.0801em;"><span class="pstrut" style="height:11.0801em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2512em;"><span style="top:-3.2512em;"><span class="pstrut" style="height:3.8542em;"></span><span class="stretchy colorbox" style="background-color:#FBCFE8;height:1.8542em;"></span></span><span style="top:-3.8542em;"><span class="pstrut" style="height:3.8542em;"></span><span class="mord boxpad"><span class="mord sizing reset-size6 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-left:0em;margin-right:0.0417em;top:-2.5474em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.109em;">M</span></span></span><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size6 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6031em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:4.4499em;"><span style="top:-6.4499em;"><span class="pstrut" style="height:10.4em;"></span><span style="width:0.875em;height:8.400em;"><svg xmlns="http://www.w3.org/2000/svg" height="8.400em" viewBox="0 0 875 8400" width="0.875em"><path d="M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,4884c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-4892c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.9501em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:4.45em;"><span style="top:-6.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">P</span><span class="mord">r</span><span class="mord">o</span><span class="mord">v</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-5.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">V</span><span class="mord">e</span><span class="mord">r</span><span class="mord">i</span><span class="mord">f</span><span class="mord">y</span></span><span class="mpunct">,</span></span></span><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.242em;"><span style="margin-right:0.05em;top:-2.4559em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-0.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.242em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:0.59em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord texttt">stop</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.95em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:4.4499em;"><span style="top:-6.4499em;"><span class="pstrut" style="height:10.4em;"></span><span style="width:0.875em;height:8.400em;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 875 8400" width="0.875em" height="8.400em"><path d="M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,4809
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-4944c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.9501em;"><span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-6.79em;"><span class="pstrut" style="height:11.0801em;"></span><span class="stretchy fbox" style="border-width:0.04em;border-style:solid;height:9.0801em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:4.2901em;"><span></span></span></span></span></span></span></span><span style="top:-2.86em;"><span class="pstrut" style="height:6.79em;"></span><span class="mord"><span class="mord">∘</span></span></span><span style="top:-1.66em;"><span class="pstrut" style="height:6.79em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="margin-right:0.05em;top:-3.063em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">Z</span><span class="mord">K</span></span><span class="mopen">(</span><span class="mord mathnormal">φ</span><span class="mclose">)]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin amsrm">⊚</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">o</span><span class="mord">p</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:5.49em;"><span></span></span></span></span></span></span></span></span></span></span></span></span>
<p>Next, except with negligible probability, we can extract
a <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>z</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">z_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="margin-left:-0.044em;margin-right:0.05em;top:-2.55em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span> value because of the ZK proof.</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable columnalign="center" rowspacing="0.16em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded lspace="3pt" voffset="3pt" width="+6pt" height="+6pt" mathbackground="#FBCFE8"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>6</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>SetMask</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mo>…</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mo>⊗</mo><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="true" scriptlevel="0"><mstyle mathsize="0.9em"><mtable columnalign="right left" rowspacing="0.25em" columnspacing="0em"><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded voffset="3pt" width="+6pt" mathbackground="#FBCFE8" height="+6pt" lspace="3pt"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><msubsup><mi mathvariant="normal">Γ</mi><mi>M</mi><mn>6</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>…</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mi>μ</mi><mo stretchy="false">[</mo><mo>∙</mo><mo stretchy="false">]</mo><mo>←</mo><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded mathbackground="#bae6fd" width="+6pt" lspace="3pt" voffset="3pt" height="+6pt"><mstyle scriptlevel="0" displaystyle="false"><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>Prove</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>Z</mi><mo separator="true">;</mo><mi>z</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mi>π</mi><mo>←</mo><msub><mtext>Prove</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>Z</mi><mo separator="true">;</mo><mi>z</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mi>μ</mi><mo stretchy="false">[</mo><mi>π</mi><mo stretchy="false">]</mo><mo>←</mo><mi>z</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mi>π</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>Open</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mi>Z</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo separator="true">,</mo><mi>π</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo separator="true">,</mo><mi>x</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mpadded height="+6pt" lspace="3pt" voffset="3pt" mathbackground="#bae6fd" width="+6pt"><mstyle displaystyle="false" scriptlevel="0"><mrow><mtext mathvariant="monospace">for</mtext><mtext> </mtext></mrow><mi>j</mi><mo>∈</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">H</mi><mi mathvariant="normal">.</mi><mtext> </mtext><mi>μ</mi><mo stretchy="false">[</mo><msub><mi>π</mi><mi>j</mi></msub><mo stretchy="false">]</mo><mo>⋅</mo><mi>G</mi><mi mathvariant="normal">≠</mi><msub><mi>Z</mi><mi>j</mi></msub><mo>:</mo></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mpadded height="+6pt" lspace="3pt" voffset="3pt" mathbackground="#bae6fd" width="+6pt"><mstyle displaystyle="false" scriptlevel="0"><mrow><mtext mathvariant="monospace">stop</mtext><mtext> </mtext></mrow><mo stretchy="false">(</mo><mo stretchy="false">{</mo><mi>j</mi><mo stretchy="false">}</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>Open</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mi>Z</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo separator="true">,</mo><mi>π</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo separator="true">,</mo><mi>x</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mo lspace="0em" rspace="0em">∘</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msup><mi>F</mi><mn>1</mn></msup><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>ZK</mtext><mo stretchy="false">(</mo><mi>φ</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo>⊚</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Stop</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^6_H$
}\cr
\cr
&amp;\underline{
  (1)\text{SetMask}_i():
}\cr
&amp;\enspace
  \ldots
\cr
\end{aligned}
}
}
\otimes
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^6_M$
}\cr
&amp;\ldots\cr
&amp;\mu[\bullet] \gets \bot\cr
\cr
&amp;\colorbox{bae6fd}{$
\underline{
  (1)\text{Prove}_k(Z; z):
}$}\cr
  &amp;\enspace
    \pi \gets \text{Prove}_k(Z; z)
  \cr
  &amp;\enspace
    \mu[\pi] \gets z
  \cr
  &amp;\enspace
    \texttt{return } \pi
  \cr
\cr
&amp;\underline{
  \text{Open}_k(S, Z\_\bullet, \pi\_\bullet, x\_\bullet):
}\cr
  &amp;\enspace
  \colorbox{bae6fd}{$
    \texttt{for } j \in S \cap \mathcal{H}.\ \mu[\pi_j] \cdot G \neq Z_j:
  $}
  \cr
  &amp;\enspace\enspace
  \colorbox{bae6fd}{$
    \texttt{stop }(\{j\}, 1)
  $}
  \cr
  &amp;\enspace
    \text{Open}_k(S, Z\_\bullet, \pi\_\bullet, x\_\bullet)
  \cr
\end{aligned}
}
}
\cr
  \circ
\cr
F^1 \otimes F[\text{ZK}(\varphi)] \circledcirc F[\text{Stop}]
\end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:22.7659em;vertical-align:-11.1329em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:11.6329em;"><span style="top:-13.6329em;"><span class="pstrut" style="height:12.4079em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.6626em;"><span style="top:-8.8752em;"><span class="pstrut" style="height:8.8752em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.6918em;"><span style="top:-5.6918em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-3.915em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-2.415em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-0.825em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.1918em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.6918em;"><span style="top:-5.6918em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="height:1.9936em;background-color:#FBCFE8;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-left:0em;margin-right:0.0417em;top:-2.5474em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="margin-right:0.0417em;top:-3.163em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">6</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-2.415em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">M</span><span class="mord">a</span><span class="mord">s</span><span class="mord">k</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-0.825em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="minner">…</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.1918em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-5.6626em;"><span class="pstrut" style="height:8.8752em;"></span><span class="stretchy fbox" style="height:6.8752em;border-width:0.04em;border-style:solid;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.2126em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:10.4079em;"><span style="top:-22.3659em;"><span class="pstrut" style="height:22.3659em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:11.1866em;"><span style="top:-13.1866em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-11.4099em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-9.9099em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-8.4099em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-6.6999em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-4.8099em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-3.3099em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-1.8099em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-0.3099em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:1.1901em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:3.0501em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:4.9798em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:6.6698em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:10.6866em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:11.1866em;"><span style="top:-13.1866em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="background-color:#FBCFE8;height:1.9936em;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-left:0em;margin-right:0.0417em;top:-2.5474em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.109em;">M</span></span></span><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">6</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-11.4099em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span></span></span><span style="top:-9.9099em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord mathnormal">μ</span><span class="mopen">[</span><span class="mord">∙</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:-6.6999em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.8em;"></span><span class="stretchy colorbox" style="height:1.8em;background-color:#bae6fd;"></span></span><span style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord boxpad"><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">P</span><span class="mord">r</span><span class="mord">o</span><span class="mord">v</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span></span></span></span></span></span></span></span><span style="top:-4.8099em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord mathnormal" style="margin-right:0.0359em;">π</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord text"><span class="mord">P</span><span class="mord">r</span><span class="mord">o</span><span class="mord">v</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mclose">)</span></span></span><span style="top:-3.3099em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord mathnormal">μ</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.0359em;">π</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span></span></span><span style="top:-1.8099em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord mathnormal" style="margin-right:0.0359em;">π</span></span></span><span style="top:1.1901em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.53em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2019em;"><span style="top:-2.3389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0359em;">π</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.51em;"><span></span></span></span></span></span></span></span><span style="top:3.0501em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.6296em;"></span><span class="stretchy colorbox" style="background-color:#bae6fd;height:1.6296em;"></span></span><span style="top:-3.6296em;"><span class="pstrut" style="height:3.6296em;"></span><span class="mord boxpad"><span class="mord text"><span class="mord texttt">for </span></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mord">.</span><span class="mspace"> </span><span class="mord mathnormal">μ</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0359em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:-0.0359em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">G</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:-0.0715em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5796em;"><span></span></span></span></span></span></span></span><span style="top:4.9798em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.6em;"></span><span class="stretchy colorbox" style="height:1.6em;background-color:#bae6fd;"></span></span><span style="top:-3.6em;"><span class="pstrut" style="height:3.6em;"></span><span class="mord boxpad"><span class="mord text"><span class="mord texttt">stop </span></span><span class="mopen">({</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">}</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.55em;"><span></span></span></span></span></span></span></span><span style="top:6.6698em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2019em;"><span style="top:-2.3389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0359em;">π</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:10.6866em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-12.4079em;"><span class="pstrut" style="height:22.3659em;"></span><span class="stretchy fbox" style="height:20.3659em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:9.9579em;"><span></span></span></span></span></span></span></span><span style="top:-2.835em;"><span class="pstrut" style="height:12.4079em;"></span><span class="mord"><span class="mord">∘</span></span></span><span style="top:-1.635em;"><span class="pstrut" style="height:12.4079em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">Z</span><span class="mord">K</span></span><span class="mopen">(</span><span class="mord mathnormal">φ</span><span class="mclose">)]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin amsrm">⊚</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">o</span><span class="mord">p</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:11.1329em;"><span></span></span></span></span></span></span></span></span></span></span></span></span>
<p>Now, we can get rid of the ZK proofs entirely,
by adding verification to the functionality itself.</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable columnalign="center" rowspacing="0.16em" columnspacing="1em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded mathbackground="#FBCFE8" voffset="3pt" lspace="3pt" width="+6pt" height="+6pt"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>7</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>Share</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><msub><mi>z</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mo>…</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mpadded width="+6pt" voffset="3pt" mathbackground="#bae6fd" lspace="3pt" height="+6pt"><mstyle scriptlevel="0" displaystyle="false"><msub><mtext>Open</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><msub><mi>z</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>z</mi><mi>i</mi></msub><mo>+</mo><msub><mi>f</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mo>∙</mo><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitShare</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mpadded width="+6pt" lspace="3pt" mathbackground="#bae6fd" height="+6pt" voffset="3pt"><mstyle displaystyle="false" scriptlevel="0"><mo stretchy="false">(</mo><mi>F</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo separator="true">,</mo><mi>Z</mi><mi mathvariant="normal">_</mi><mrow><mo>∙</mo><mi>i</mi></mrow><mo separator="true">,</mo><mi>x</mi><mi mathvariant="normal">_</mi><mrow><mo>∙</mo><mi>i</mi></mrow><mo stretchy="false">)</mo><mo>←</mo><msub><mtext>WaitOpen</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo stretchy="false">)</mo></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mpadded height="+6pt" width="+6pt" lspace="3pt" voffset="3pt" mathbackground="#bae6fd"><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∃</mi><mi>j</mi><mi mathvariant="normal">.</mi><mtext> deg</mtext><mo stretchy="false">(</mo><msub><mi>F</mi><mi>j</mi></msub><mo stretchy="false">)</mo><mi mathvariant="normal">≠</mi><mi>t</mi><mo>−</mo><mn>1</mn><mo>∨</mo><msub><mi>F</mi><mi>j</mi></msub><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo><mi mathvariant="normal">≠</mi><mn>0</mn><mo>:</mo></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mo>…</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mo>⊗</mo><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="false" scriptlevel="0"><mstyle displaystyle="true" scriptlevel="0"><mstyle mathsize="0.9em"><mtable columnalign="right left" columnspacing="0em" rowspacing="0.25em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded voffset="3pt" width="+6pt" mathbackground="#FBCFE8" height="+6pt" lspace="3pt"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><msubsup><mi mathvariant="normal">Γ</mi><mi>M</mi><mn>7</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mo>…</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded voffset="3pt" lspace="3pt" mathbackground="#bae6fd" height="+6pt" width="+6pt"><mstyle scriptlevel="0" displaystyle="false"><msub><mi>π</mi><mn>1</mn></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>π</mi><mi>n</mi></msub><mover><mo minsize="1.75em" stretchy="true">←</mo><mpadded lspace="0.3em" width="+0.6em"><mi mathvariant="normal">$</mi></mpadded></mover><msup><mtext mathvariant="monospace">01</mtext><mi>λ</mi></msup></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded mathbackground="#bae6fd" lspace="3pt" width="+6pt" voffset="3pt" height="+6pt"><mstyle scriptlevel="0" displaystyle="false"><msub><mi>F</mi><mi>k</mi></msub><mo separator="true">,</mo><mi>m</mi><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo separator="true">,</mo><mi>μ</mi><mo stretchy="false">[</mo><mo>∙</mo><mo stretchy="false">]</mo><mo>←</mo><mi mathvariant="normal">⊥</mi></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded width="+6pt" voffset="3pt" height="+6pt" lspace="3pt" mathbackground="#bae6fd"><mstyle scriptlevel="0" displaystyle="false"><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>SetCommit</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>F</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mi>F</mi><mi>k</mi></msub><mo>←</mo><mi>F</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>SetCommit</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>F</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded mathbackground="#bae6fd" voffset="3pt" width="+6pt" height="+6pt" lspace="3pt"><mstyle displaystyle="false" scriptlevel="0"><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>Prove</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>B</mi><mo separator="true">;</mo><mi>b</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mi>μ</mi><mo stretchy="false">[</mo><msub><mi>π</mi><mi>k</mi></msub><mo stretchy="false">]</mo><mo>←</mo><mi>b</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><msub><mi>π</mi><mi>k</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded mathbackground="#bae6fd" lspace="3pt" height="+6pt" voffset="3pt" width="+6pt"><mstyle scriptlevel="0" displaystyle="false"><munder accentunder="true"><mrow><msub><mtext>Open</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mi>Z</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo separator="true">,</mo><mi>π</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo separator="true">,</mo><mi>x</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">for</mtext><mtext> </mtext></mrow><mi>j</mi><mo>∈</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">H</mi><mi mathvariant="normal">.</mi><mtext> </mtext><mi>μ</mi><mo stretchy="false">[</mo><msub><mi>π</mi><mi>j</mi></msub><mo stretchy="false">]</mo><mo>⋅</mo><mi>G</mi><mi mathvariant="normal">≠</mi><mi>Z</mi><mi mathvariant="normal">_</mi><mi>j</mi><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">stop</mtext><mtext> </mtext></mrow><mo stretchy="false">(</mo><mo stretchy="false">{</mo><mi>j</mi><mo stretchy="false">}</mo><mo separator="true">,</mo><mn>3</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mi mathvariant="normal">.</mi><mtext> </mtext><mi>m</mi><mi mathvariant="normal">_</mi><mrow><mi>k</mi><mi>j</mi></mrow><mo>←</mo><msub><mi>π</mi><mi>j</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>Open</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mi>μ</mi><mo stretchy="false">[</mo><mi>π</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo stretchy="false">]</mo><mo separator="true">,</mo><mi>x</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded height="+6pt" lspace="3pt" width="+6pt" mathbackground="#bae6fd" voffset="3pt"><mstyle displaystyle="false" scriptlevel="0"><munder accentunder="true"><mrow><msub><mtext>WaitOpen</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mo stretchy="false">(</mo><mi>F</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo separator="true">,</mo><mi>Z</mi><mi mathvariant="normal">_</mi><mrow><mo>∙</mo><mi>k</mi></mrow><mo separator="true">,</mo><mi>x</mi><mi mathvariant="normal">_</mi><mrow><mo>∙</mo><mi>k</mi></mrow><mo stretchy="false">)</mo><mo>←</mo><msub><mtext>WaitOpen</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">H</mi><mi mathvariant="normal">.</mi><mtext> </mtext><msub><mi>m</mi><mi>j</mi></msub><mo>←</mo><msub><mi>π</mi><mi>j</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">M</mi><mi mathvariant="normal">.</mi><mtext> </mtext><msub><mi>m</mi><mi>j</mi></msub><mo>←</mo><mi>m</mi><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>k</mi></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mo stretchy="false">(</mo><mi>F</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo separator="true">,</mo><mi>Z</mi><mi mathvariant="normal">_</mi><mrow><mo>∙</mo><mi>k</mi></mrow><mo separator="true">,</mo><mi>m</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo separator="true">,</mo><mi>x</mi><mi mathvariant="normal">_</mi><mrow><mo>∙</mo><mi>k</mi></mrow><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">∘</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle displaystyle="false" scriptlevel="0"><mstyle displaystyle="true" scriptlevel="0"><mstyle mathsize="0.9em"><mtable rowspacing="0.25em" columnspacing="0em" columnalign="right left"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded height="+6pt" lspace="3pt" voffset="3pt" mathbackground="#FBCFE8" width="+6pt"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msup><mi>F</mi><mn>2</mn></msup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msub><mi>F</mi><mi>i</mi></msub><mo separator="true">,</mo><mtext>com</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo separator="true">,</mo><mtext>open</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mi>z</mi><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo separator="true">,</mo><mi>x</mi><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mo>…</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded width="+6pt" voffset="3pt" mathbackground="#bae6fd" height="+6pt" lspace="3pt"><mstyle scriptlevel="0" displaystyle="false"><munder accentunder="true"><mrow><msub><mtext>Open</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mi>z</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo separator="true">,</mo><mi>x</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">assert</mtext><mtext> </mtext></mrow><msub><mi>F</mi><mi>i</mi></msub><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mtext>open</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><mtext mathvariant="monospace">true</mtext><mo stretchy="false">(</mo><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">for</mtext><mtext> </mtext></mrow><mi>j</mi><mo>∈</mo><mi>S</mi><mi mathvariant="normal">.</mi><mtext> </mtext><mi>z</mi><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo separator="true">,</mo><mi>x</mi><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>=</mo><mi mathvariant="normal">⊥</mi><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mi>z</mi><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo separator="true">,</mo><mi>x</mi><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><msub><mi>z</mi><mi>j</mi></msub><mo separator="true">,</mo><msub><mi>x</mi><mi>j</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitOpen</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mtext>wait</mtext><mi mathvariant="normal">_</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo></mrow><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mi mathvariant="normal">.</mi><mtext> open</mtext><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>i</mi></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mpadded lspace="3pt" height="+6pt" voffset="3pt" mathbackground="#bae6fd" width="+6pt"><mstyle displaystyle="false" scriptlevel="0"><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mo stretchy="false">(</mo><mi>F</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo separator="true">,</mo><mi>z</mi><mi mathvariant="normal">_</mi><mrow><mo>∙</mo><mi>i</mi></mrow><mo>⋅</mo><mi>G</mi><mo separator="true">,</mo><mi>x</mi><mi mathvariant="normal">_</mi><mrow><mo>∙</mo><mi>i</mi></mrow><mo stretchy="false">)</mo></mstyle></mpadded></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mo>⊚</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Stop</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^7_H$
}\cr
\cr
&amp;\underline{
  (1)\text{Share}_i(z_i):
}\cr
  &amp;\enspace
    \ldots
  \cr
  &amp;\enspace
  \colorbox{bae6fd}{$
    \text{Open}_i(\star, z_i, z_i + f_i(\bullet))
  $}
  \cr
\cr
&amp;\underline{
  \text{WaitShare}_i():
}\cr
  &amp;\enspace
  \colorbox{bae6fd}{$
    (F\_\bullet, Z\_{\bullet i}, x\_{\bullet i}) \gets \text{WaitOpen}_i(\star)
  $}
  \cr
  &amp;\enspace
  \colorbox{bae6fd}{$
    \texttt{if } \exists j.\ \text{deg}(F_j) \neq t - 1 \lor F_j(0) \neq 0:
  $}
  \cr
  &amp;\enspace
    \ldots
  \cr
\end{aligned}
}
}
\otimes
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^7_M$
}\cr
&amp;\ldots\cr
&amp;\colorbox{bae6fd}{$
\pi_1, \ldots, \pi_n \xleftarrow{\$} \texttt{01}^{\lambda}
$}\cr
&amp;\colorbox{bae6fd}{$
F_k, m\_{ij}, \mu[\bullet] \gets \bot
$}\cr
\cr
&amp;\colorbox{bae6fd}{$
\underline{
  (1)\text{SetCommit}_k(F):
}$}\cr
  &amp;\enspace
    F_k \gets F
  \cr
  &amp;\enspace
    \text{SetCommit}_k(F)
  \cr
\cr
&amp;\colorbox{bae6fd}{$
\underline{
  (1)\text{Prove}_k(B; b):
}$}\cr
  &amp;\enspace
    \mu[\pi_k] \gets b
  \cr
  &amp;\enspace
    \texttt{return } \pi_k
  \cr
\cr
&amp;\colorbox{bae6fd}{$
\underline{
  \text{Open}_k(S, Z\_\bullet, \pi\_\bullet, x\_\bullet):
}$}\cr
  &amp;\enspace
    \texttt{for } j \in S \cap \mathcal{H}.\ \mu[\pi_j] \cdot G \neq Z\_j:
  \cr
  &amp;\enspace\enspace
    \texttt{stop }(\{j\}, 3)
  \cr
  &amp;\enspace
    \forall j \in S.\ m\_{kj} \gets \pi_j
  \cr
  &amp;\enspace
    \text{Open}_k(S, \mu[\pi\_\bullet], x\_\bullet)
  \cr
\cr
&amp;\colorbox{bae6fd}{$
\underline{
  \text{WaitOpen}_k(S):
}$}\cr
  &amp;\enspace
    (F\_\bullet, Z\_{\bullet k}, x\_{\bullet k}) \gets \text{WaitOpen}_i(\star)
  \cr
  &amp;\enspace
    \forall j \in S \cap \mathcal{H}.\ m_j \gets \pi_j
  \cr
  &amp;\enspace
    \forall j \in S \cap \mathcal{M}.\ m_j \gets m\_{j k}
  \cr
  &amp;\enspace
    \texttt{return } (F\_\bullet, Z\_{\bullet k}, m\_\bullet, x\_{\bullet k})
  \cr
\end{aligned}
}
}
\cr
  \circ
\cr
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $F^2$
}\cr
\cr
&amp;F_i, \text{com}\_{ij}, \text{open}\_{ij} \gets \bot\cr
&amp;z\_{ij}, x\_{ij} \gets \bot\cr
\cr
&amp;\ldots\cr
\cr
&amp;\colorbox{bae6fd}{$
\underline{
  \text{Open}_i(S, z\_\bullet, x\_\bullet):
}$}\cr
  &amp;\enspace
    \texttt{assert } F_i \neq \bot
  \cr
  &amp;\enspace
    \text{open}\_{ij} \gets \texttt{true} (\forall j \in S)
  \cr
  &amp;\enspace
    \texttt{for } j \in S.\ z\_{ij}, x\_{ij} = \bot:
  \cr
  &amp;\enspace\enspace
    z\_{ij}, x\_{ij} \gets z_j, x_j
  \cr
\cr
&amp;\underline{
  \text{WaitOpen}_i(S):
}\cr
  &amp;\enspace
    \text{wait}\_{(i, 2)} \forall j \in S.\ \text{open}\_{ji}
  \cr
  &amp;\enspace
  \colorbox{bae6fd}{$
    \texttt{return } (F\_\bullet, z\_{\bullet i } \cdot G, x\_{\bullet i})
  $}
  \cr
\end{aligned}
}
} \circledcirc F[\text{Stop}]
\end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:62.1212em;vertical-align:-30.8106em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:31.3106em;"><span style="top:-33.3106em;"><span class="pstrut" style="height:20.7635em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:8.3384em;"><span style="top:-18.2269em;"><span class="pstrut" style="height:18.2269em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:8.8872em;"><span style="top:-10.8872em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-9.1104em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-7.6104em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-6.0204em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-4.3104em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-2.6093em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-1.1093em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:0.6907em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:2.6507em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:4.3703em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:8.3872em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:8.8872em;"><span style="top:-10.8872em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="height:1.9936em;background-color:#FBCFE8;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-right:0.0417em;margin-left:0em;top:-2.5474em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">7</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-7.6104em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:-0.044em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-6.0204em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="minner">…</span></span></span><span style="top:-4.3104em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.6111em;"></span><span class="stretchy colorbox" style="background-color:#bae6fd;height:1.6111em;"></span></span><span style="top:-3.6111em;"><span class="pstrut" style="height:3.6111em;"></span><span class="mord boxpad"><span class="mord"><span class="mord text"><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="margin-right:0.0556em;top:-2.3389em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:-0.044em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:-0.044em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1076em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:-0.1076em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">∙</span><span class="mclose">))</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5611em;"><span></span></span></span></span></span></span></span><span style="top:-1.1093em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:0.6907em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.66em;"></span><span class="stretchy colorbox" style="height:1.66em;background-color:#bae6fd;"></span></span><span style="top:-3.66em;"><span class="pstrut" style="height:3.66em;"></span><span class="mord boxpad"><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span><span class="mord mathnormal">i</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span><span class="mord mathnormal">i</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.3389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.61em;"><span></span></span></span></span></span></span></span><span style="top:2.6507em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.6296em;"></span><span class="stretchy colorbox" style="background-color:#bae6fd;height:1.6296em;"></span></span><span style="top:-3.6296em;"><span class="pstrut" style="height:3.6296em;"></span><span class="mord boxpad"><span class="mord text"><span class="mord texttt">if </span></span><span class="mord">∃</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord">.</span><span class="mspace"> </span><span class="mord text"><span class="mord">d</span><span class="mord">e</span><span class="mord">g</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:-0.1389em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:-0.1389em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5796em;"><span></span></span></span></span></span></span></span><span style="top:4.3703em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="minner">…</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:8.3872em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-10.3384em;"><span class="pstrut" style="height:18.2269em;"></span><span class="stretchy fbox" style="height:16.2269em;border-width:0.04em;border-style:solid;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:7.8884em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:18.7635em;"><span style="top:-39.077em;"><span class="pstrut" style="height:39.077em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:20.4706em;"><span style="top:-22.5357em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:-20.759em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:-18.677em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:-16.8325em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:-15.0825em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:-13.3725em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:-11.4825em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:-9.9825em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:-8.4825em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:-6.7725em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:-4.8825em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:-3.3825em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:-1.8825em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:-0.1725em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:1.7775em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:3.2775em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:4.7775em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:6.2775em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:7.7775em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:9.4875em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:11.3886em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:12.8886em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:14.3886em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:15.8886em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:19.9706em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:20.4706em;"><span style="top:-22.5357em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="height:1.9936em;background-color:#FBCFE8;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-right:0.0417em;top:-2.5474em;margin-left:0em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.109em;">M</span></span></span><span style="margin-right:0.0417em;top:-3.163em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">7</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-20.759em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span></span></span><span style="top:-18.677em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.422em;"><span style="top:-3.422em;"><span class="pstrut" style="height:3.9164em;"></span><span class="stretchy colorbox" style="height:1.9164em;background-color:#bae6fd;"></span></span><span style="top:-3.9164em;"><span class="pstrut" style="height:3.9164em;"></span><span class="mord boxpad"><span class="mord"><span class="mord mathnormal" style="margin-right:0.0359em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span style="margin-left:-0.0359em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0359em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.137em;"><span style="margin-left:-0.0359em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.122em;"><span style="top:-3.222em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mtight">$</span></span></span></span><span style="top:-2.589em;"><span class="pstrut" style="height:2.6em;"></span><span class="hide-tail" style="min-width:1.469em;height:0.522em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" viewBox="0 0 400000 522" preserveAspectRatio="xMinYMin slice" height="0.522em"><path d="M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.011em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord text"><span class="mord texttt">01</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.826em;"><span style="margin-right:0.0556em;top:-2.963em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">λ</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4944em;"><span></span></span></span></span></span></span></span><span style="top:-16.8325em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.66em;"></span><span class="stretchy colorbox" style="height:1.66em;background-color:#bae6fd;"></span></span><span style="top:-3.66em;"><span class="pstrut" style="height:3.66em;"></span><span class="mord boxpad"><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:-0.1389em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">μ</span><span class="mopen">[</span><span class="mord">∙</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.61em;"><span></span></span></span></span></span></span></span><span style="top:-13.3725em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.8em;"></span><span class="stretchy colorbox" style="height:1.8em;background-color:#bae6fd;"></span></span><span style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord boxpad"><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span></span></span></span></span></span></span></span><span style="top:-11.4825em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:-0.1389em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span></span></span><span style="top:-9.9825em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mclose">)</span></span></span><span style="top:-6.7725em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.8em;"></span><span class="stretchy colorbox" style="height:1.8em;background-color:#bae6fd;"></span></span><span style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord boxpad"><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">P</span><span class="mord">r</span><span class="mord">o</span><span class="mord">v</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0502em;">B</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span></span></span></span></span></span></span></span><span style="top:-4.8825em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord mathnormal">μ</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0359em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-left:-0.0359em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">b</span></span></span><span style="top:-3.3825em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0359em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;margin-left:-0.0359em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-0.1725em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.86em;"></span><span class="stretchy colorbox" style="background-color:#bae6fd;height:1.86em;"></span></span><span style="top:-3.86em;"><span class="pstrut" style="height:3.86em;"></span><span class="mord boxpad"><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.53em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2019em;"><span style="top:-2.3389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0359em;">π</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.51em;"><span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.81em;"><span></span></span></span></span></span></span></span><span style="top:1.7775em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">for </span></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mord">.</span><span class="mspace"> </span><span class="mord mathnormal">μ</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0359em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:-0.0359em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">G</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:3.2775em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">stop </span></span><span class="mopen">({</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">}</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mclose">)</span></span></span><span style="top:4.7775em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mord">.</span><span class="mspace"> </span><span class="mord mathnormal">m</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">kj</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0359em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:-0.0359em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span></span></span><span style="top:6.2775em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2019em;"><span style="top:-2.3389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">μ</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.0359em;">π</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mclose">)</span></span></span><span style="top:9.4875em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.8111em;"></span><span class="stretchy colorbox" style="background-color:#bae6fd;height:1.8111em;"></span></span><span style="top:-3.8111em;"><span class="pstrut" style="height:3.8111em;"></span><span class="mord boxpad"><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.5789em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2019em;"><span style="top:-2.3389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4611em;"><span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7611em;"><span></span></span></span></span></span></span></span><span style="top:11.3886em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span><span class="mord mathnormal" style="margin-right:0.0315em;">k</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span><span class="mord mathnormal" style="margin-right:0.0315em;">k</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.3389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mclose">)</span></span></span><span style="top:12.8886em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mord">.</span><span class="mspace"> </span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0359em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:-0.0359em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span></span></span><span style="top:14.3886em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal">M</span><span class="mord">.</span><span class="mspace"> </span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">m</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0315em;">jk</span></span></span></span><span style="top:15.8886em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span><span class="mord mathnormal" style="margin-right:0.0315em;">k</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span><span class="mord mathnormal" style="margin-right:0.0315em;">k</span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:19.9706em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-20.7635em;"><span class="pstrut" style="height:39.077em;"></span><span class="stretchy fbox" style="height:37.077em;border-width:0.04em;border-style:solid;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:18.3135em;"><span></span></span></span></span></span></span></span><span style="top:-14.1571em;"><span class="pstrut" style="height:20.7635em;"></span><span class="mord"><span class="mord">∘</span></span></span><span style="top:-1.65em;"><span class="pstrut" style="height:20.7635em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:12.1471em;"><span style="top:-25.8441em;"><span class="pstrut" style="height:25.8441em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:13.119em;"><span style="top:-15.119em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-13.619em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-12.119em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-10.619em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-9.119em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-7.619em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-6.119em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-4.409em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-2.459em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-0.959em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:0.541em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:2.041em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:3.541em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:5.041em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:6.6421em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:8.3521em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:12.619em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:13.119em;"><span style="top:-15.119em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.6568em;"></span><span class="stretchy colorbox" style="background-color:#FBCFE8;height:1.6568em;"></span></span><span style="top:-3.6568em;"><span class="pstrut" style="height:3.6568em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-right:0.0417em;top:-3.163em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3em;"><span></span></span></span></span></span></span></span><span style="top:-12.119em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:-0.1389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord">c</span><span class="mord">o</span><span class="mord">m</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord">o</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:-10.619em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:-7.619em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span></span></span><span style="top:-4.409em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.86em;"></span><span class="stretchy colorbox" style="background-color:#bae6fd;height:1.86em;"></span></span><span style="top:-3.86em;"><span class="pstrut" style="height:3.86em;"></span><span class="mord boxpad"><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.53em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.3389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.51em;"><span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.81em;"><span></span></span></span></span></span></span></span><span style="top:-2.459em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">assert </span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:-0.1389em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:-0.959em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord">o</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord texttt">true</span></span><span class="mopen">(</span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span></span></span><span style="top:0.541em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">for </span></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mord">.</span><span class="mspace"> </span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:2.041em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:-0.044em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span></span></span><span style="top:5.041em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.5789em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="margin-right:0.0556em;top:-2.3389em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4611em;"><span></span></span></span></span></span></span></span><span style="top:6.6421em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord">w</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">)</span></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mord">.</span><span class="mspace"> </span><span class="mord text"><span class="mord">o</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">ji</span></span></span></span><span style="top:8.3521em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.66em;"></span><span class="stretchy colorbox" style="background-color:#bae6fd;height:1.66em;"></span></span><span style="top:-3.66em;"><span class="pstrut" style="height:3.66em;"></span><span class="mord boxpad"><span class="mord text"><span class="mord texttt">return </span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span><span class="mord mathnormal">i</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">G</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span><span class="mord mathnormal">i</span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.61em;"><span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:12.619em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-14.1471em;"><span class="pstrut" style="height:25.8441em;"></span><span class="stretchy fbox" style="border-width:0.04em;height:23.8441em;border-style:solid;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:11.6971em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin amsrm">⊚</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">o</span><span class="mord">p</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:30.8106em;"><span></span></span></span></span></span></span></span></span></span></span></span></span>
<p>At this point, we're simulating a protocol <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="script">P</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">\mathscr{P}^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="margin-right:0.05em;top:-3.063em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span>,
which uses this functionality instead of having ZK proofs,
and so we can reset and unroll again.</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable columnalign="center" columnspacing="1em" rowspacing="0.16em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="true" scriptlevel="0"><mstyle mathsize="0.9em"><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded height="+6pt" voffset="3pt" mathbackground="#FBCFE8" width="+6pt" lspace="3pt"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>8</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>SetMask</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mo>…</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mo>⊗</mo><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="true"><mrow><mpadded voffset="3pt" mathbackground="#FBCFE8" width="+6pt" height="+6pt" lspace="3pt"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><msubsup><mi mathvariant="normal">Γ</mi><mi>M</mi><mn>8</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded><mo>=</mo><mn>1</mn><mrow><mo fence="true">(</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><msub><mtext>SetCommit</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mtext>Commit</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mtext>WaitCommit</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mtext>Open</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><msub><mtext>WaitOpen</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext mathvariant="monospace">stop</mtext></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow></mstyle></mstyle></mstyle></menclose></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mo lspace="0em" rspace="0em">∘</mo></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><msup><mi>F</mi><mn>2</mn></msup><mo>⊚</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Stop</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^8_H$
}\cr
\cr
&amp;\underline{
  (1)\text{SetMask}_i():
}\cr
&amp;\enspace
  \ldots
\cr
\end{aligned}
}
}
\otimes
\boxed{\colorbox{FBCFE8}{\large
  $\Gamma^8_M$
} = 1
\begin{pmatrix}
    \text{SetCommit}_k
  ,\cr
    \text{Commit}_k
  ,\cr
    \text{WaitCommit}_k
  ,\cr
    \text{Open}_k
  ,\cr
    \text{WaitOpen}_k
  ,\cr
    \texttt{stop}
\end{pmatrix}
}
\cr
  \circ
\cr
F^2 \circledcirc F[\text{Stop}]
\end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="vertical-align:-4.89em;height:10.28em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:5.39em;"><span style="top:-7.39em;"><span class="pstrut" style="height:6.19em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.6626em;"><span style="top:-8.8752em;"><span class="pstrut" style="height:8.8752em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.6918em;"><span style="top:-5.6918em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-3.915em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-2.415em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-0.825em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.1918em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.6918em;"><span style="top:-5.6918em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="background-color:#FBCFE8;height:1.9936em;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-left:0em;margin-right:0.0417em;top:-2.5474em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="margin-right:0.0417em;top:-3.163em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">8</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-2.415em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">M</span><span class="mord">a</span><span class="mord">s</span><span class="mord">k</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-0.825em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="minner">…</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.1918em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-5.6626em;"><span class="pstrut" style="height:8.8752em;"></span><span class="stretchy fbox" style="height:6.8752em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.2126em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:4.19em;"><span style="top:-9.8801em;"><span class="pstrut" style="height:9.8801em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2512em;"><span style="top:-3.2512em;"><span class="pstrut" style="height:3.8542em;"></span><span class="stretchy colorbox" style="height:1.8542em;background-color:#FBCFE8;"></span></span><span style="top:-3.8542em;"><span class="pstrut" style="height:3.8542em;"></span><span class="mord boxpad"><span class="mord sizing reset-size6 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-left:0em;top:-2.5474em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.109em;">M</span></span></span><span style="margin-right:0.0417em;top:-3.163em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">8</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size6 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6031em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.85em;"><span style="top:-5.8499em;"><span class="pstrut" style="height:9.2em;"></span><span style="height:7.200em;width:0.875em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.875em" height="7.200em" viewBox="0 0 875 7200"><path d="M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,3684c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-3692c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.35em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.85em;"><span style="top:-6.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.242em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.242em;"><span style="margin-right:0.05em;top:-2.4559em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-0.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord texttt">stop</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.35em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.85em;"><span style="top:-5.8499em;"><span class="pstrut" style="height:9.2em;"></span><span style="width:0.875em;height:7.200em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.875em" height="7.200em" viewBox="0 0 875 7200"><path d="M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,3609
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-3744c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.35em;"><span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-6.19em;"><span class="pstrut" style="height:9.8801em;"></span><span class="stretchy fbox" style="border-style:solid;border-width:0.04em;height:7.8801em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.69em;"><span></span></span></span></span></span></span></span><span style="top:-2.86em;"><span class="pstrut" style="height:6.19em;"></span><span class="mord"><span class="mord">∘</span></span></span><span style="top:-1.66em;"><span class="pstrut" style="height:6.19em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin amsrm">⊚</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">o</span><span class="mord">p</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:4.89em;"><span></span></span></span></span></span></span></span></span></span></span></span></span>
<p>From this point, we can jump directly to our desired protocol.</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable columnspacing="1em" columnalign="center" rowspacing="0.16em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable columnspacing="0em" rowspacing="0.25em" columnalign="right left"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded lspace="3pt" width="+6pt" voffset="3pt" height="+6pt" mathbackground="#FBCFE8"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><msub><mi>P</mi><mi>i</mi></msub></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>SetMask</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>SetMask</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitMask</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>WaitMask</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mtext mathvariant="monospace">true</mtext><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>Share</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>z</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>Share</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mi>z</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitShare</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><msub><mtext>WaitShare</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mtext mathvariant="monospace">true</mtext><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mo>⊗</mo><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="true" scriptlevel="0"><mstyle mathsize="0.9em"><mtable columnspacing="0em" rowspacing="0.25em" columnalign="right left"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded mathbackground="#bae6fd" lspace="3pt" width="+6pt" voffset="3pt" height="+6pt"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><mi>S</mi></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mtext>left</mtext><mo>←</mo><mi mathvariant="script">H</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><msub><mtext>bad</mtext><mi>k</mi></msub><mo separator="true">,</mo><msub><mtext>sampled</mtext><mi>i</mi></msub><mo>←</mo><mtext mathvariant="monospace">false</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msup><mi>F</mi><mi>m</mi></msup><mo separator="true">,</mo><msub><mi>F</mi><mi>i</mi></msub><mo separator="true">,</mo><mi>α</mi><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>k</mi></mrow><mo>←</mo><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>SetCommit</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>F</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mi>F</mi><mi>k</mi></msub><mo>←</mo><mi>F</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>bad</mtext><mi>k</mi></msub><mo>←</mo><mtext>deg</mtext><mo stretchy="false">(</mo><mi>F</mi><mo stretchy="false">)</mo><mi mathvariant="normal">≠</mi><mi>t</mi><mo>−</mo><mn>1</mn><mo>∨</mo><mi>F</mi><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo><mi mathvariant="normal">≠</mi><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∀</mi><mi>k</mi><mo>∈</mo><mi mathvariant="script">M</mi><mi mathvariant="normal">.</mi><mtext> </mtext><msub><mi>F</mi><mi>k</mi></msub><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo>∧</mo><msup><mi>F</mi><mi>h</mi></msup><mo>=</mo><mi mathvariant="normal">⊥</mi><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><msup><mi>F</mi><mi>m</mi></msup><mo>←</mo><munder><mo>∑</mo><mi>k</mi></munder><msub><mi>F</mi><mi>k</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mtext>Cheat</mtext><mo stretchy="false">(</mo><msup><mi>F</mi><mi>m</mi></msup><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>Commit</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">assert</mtext><mtext> </mtext></mrow><msub><mi>F</mi><mi>k</mi></msub><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>SetMask</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitCommit</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>WaitMask</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mtext mathvariant="monospace">false</mtext><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>Open</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mi>z</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo separator="true">,</mo><mi>x</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><msub><mtext>bad</mtext><mi>k</mi></msub><mo>:</mo><mtext> </mtext><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">(</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">H</mi><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">for</mtext><mtext> </mtext></mrow><mi>j</mi><mo>∈</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">H</mi><mi mathvariant="normal">.</mi><mtext> </mtext><mi mathvariant="normal">∀</mi><mi>k</mi><mi mathvariant="normal">.</mi><mtext> </mtext><mi>x</mi><mi mathvariant="normal">_</mi><mrow><mi>k</mi><mi>j</mi></mrow><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo>∧</mo><munder><mo>∑</mo><mi>k</mi></munder><mi>x</mi><mi mathvariant="normal">_</mi><mrow><mi>k</mi><mi>j</mi></mrow><mo>⋅</mo><mi>G</mi><mi mathvariant="normal">≠</mi><msup><mi>F</mi><mi>m</mi></msup><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">(</mo><mo stretchy="false">{</mo><mi>j</mi><mo stretchy="false">}</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mtext>Share</mtext><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mi>z</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mtext>CheatShare</mtext><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mi>x</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitOpen</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mi>r</mi><mi>j</mi></msub><mo>←</mo><mo stretchy="false">(</mo><msub><mi>F</mi><mi>j</mi></msub><mo separator="true">,</mo><mi>z</mi><mi mathvariant="normal">_</mi><mrow><mi>k</mi><mi>j</mi></mrow><mo>⋅</mo><mi>G</mi><mo separator="true">,</mo><mi>x</mi><mi mathvariant="normal">_</mi><mrow><mi>k</mi><mi>j</mi></mrow><mo stretchy="false">)</mo><mtext> </mtext><mo stretchy="false">(</mo><mi>j</mi><mo>∈</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">M</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mi>r</mi><mi>j</mi></msub><mo>←</mo><msub><mtext>Sim</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo><mtext> </mtext><mo stretchy="false">(</mo><mi>j</mi><mo>∈</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">H</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mo stretchy="false">[</mo><msub><mi>r</mi><mi>j</mi></msub><mo>∣</mo><mi>j</mi><mo>∈</mo><mi>S</mi><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>Sim</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mtext mathvariant="monospace">wait</mtext><mi mathvariant="normal">_</mi><mrow><mo stretchy="false">(</mo><mi>k</mi><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><msub><mtext>Z</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mtext>left</mtext><mo>←</mo><mtext>left</mtext><mi mathvariant="normal">/</mi><mo stretchy="false">{</mo><mi>j</mi><mo stretchy="false">}</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∣</mi><mtext>left</mtext><mi mathvariant="normal">∣</mi><mo>=</mo><mn>0</mn><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mi>Z</mi><mo>←</mo><mo>∑</mo><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mo>∈</mo><mi mathvariant="script">H</mi></mrow><msub><mtext>Z</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mi>F</mi><mo>←</mo><msup><mtext>F</mtext><mi>h</mi></msup><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>−</mo><mo>∑</mo><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mo>∈</mo><mi mathvariant="script">H</mi><mi mathvariant="normal">/</mi><mo stretchy="false">{</mo><mi>j</mi><mo stretchy="false">}</mo></mrow><msub><mi>F</mi><mi>j</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><msub><mi>x</mi><mi>k</mi></msub><mo>←</mo><msub><mtext>WaitShare</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mtext mathvariant="monospace">false</mtext><mo stretchy="false">)</mo><mo>−</mo><mo>∑</mo><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mo>∈</mo><mi mathvariant="script">H</mi><mi mathvariant="normal">/</mi><mo stretchy="false">{</mo><mi>j</mi><mo stretchy="false">}</mo></mrow><mi>α</mi><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>k</mi></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mtext mathvariant="monospace">else</mtext><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mo stretchy="false">(</mo><mi>Z</mi><mo separator="true">,</mo><mi>F</mi><mo separator="true">,</mo><mi>x</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo stretchy="false">)</mo><mo>←</mo><msub><mtext>Sample</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mo stretchy="false">(</mo><mi>Z</mi><mo separator="true">,</mo><mi>F</mi><mo stretchy="false">(</mo><mi>k</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><msub><mi>x</mi><mi>k</mi></msub><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>Sample</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mi mathvariant="normal">¬</mi><msub><mtext>sampled</mtext><mi>j</mi></msub><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><msub><mtext>sampled</mtext><mi>j</mi></msub><mo>←</mo><mtext mathvariant="monospace">true</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><msub><mi>Z</mi><mi>j</mi></msub><mo>←</mo><msub><mtext>Z</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mi>f</mi><mover><mo stretchy="true" minsize="1.75em">←</mo><mpadded lspace="0.3em" width="+0.6em"><mi mathvariant="normal">$</mi></mpadded></mover><msub><mi mathvariant="double-struck">F</mi><mi>q</mi></msub><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo><mi mathvariant="normal">_</mi><mrow><mo>≤</mo><mi>t</mi><mo>−</mo><mn>1</mn></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><msub><mi>F</mi><mi>j</mi></msub><mo>←</mo><mi>f</mi><mo>⋅</mo><mi>G</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><msub><mi>F</mi><mi>j</mi></msub><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo><mo>←</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mi>α</mi><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>k</mi></mrow><mover><mo minsize="1.75em" stretchy="true">←</mo><mpadded width="+0.6em" lspace="0.3em"><mi mathvariant="normal">$</mi></mpadded></mover><msub><mi mathvariant="double-struck">F</mi><mi>q</mi></msub><mtext> </mtext><mo stretchy="false">(</mo><mi mathvariant="normal">∀</mi><mi>k</mi><mo>∈</mo><mi mathvariant="script">M</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><msub><mi>F</mi><mi>j</mi></msub><mo stretchy="false">(</mo><mi>k</mi><mo stretchy="false">)</mo><mo>←</mo><mi>α</mi><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>k</mi></mrow><mo>⋅</mo><mi>G</mi><mo>−</mo><msub><mi>Z</mi><mi>j</mi></msub><mtext> </mtext><mo stretchy="false">(</mo><mi mathvariant="normal">∀</mi><mi>k</mi><mo>∈</mo><mi mathvariant="script">M</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mo stretchy="false">(</mo><msub><mi>Z</mi><mi>j</mi></msub><mo separator="true">,</mo><msub><mi>F</mi><mi>j</mi></msub><mo separator="true">,</mo><mi>α</mi><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mo>∙</mo></mrow><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mo>…</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo rspace="0em" lspace="0em">∘</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>F</mi><mo stretchy="false">[</mo><mtext>Convert</mtext><mo stretchy="false">]</mo><mo>⊚</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Stop</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $P_i$
}\cr
\cr
&amp;\underline{
  (1)\text{SetMask}_i():
}\cr
  &amp;\enspace
    \text{SetMask}_i(\star)
  \cr
\cr
&amp;\underline{
  \text{WaitMask}_i():
}\cr
  &amp;\enspace
    \text{WaitMask}_i(\star, \texttt{true})
  \cr
\cr
&amp;\underline{
  (1)\text{Share}_i(z):
}\cr
  &amp;\enspace
    \text{Share}_i(\star, z)
  \cr
\cr
&amp;\underline{
  \text{WaitShare}_i():
}\cr
  &amp;\enspace
    \texttt{return } \text{WaitShare}_i(\texttt{true})
  \cr
\end{aligned}
}
}
\otimes
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{bae6fd}{\large
  $S$
}\cr
\cr
&amp;\text{left} \gets \mathcal{H}\cr
&amp;\text{bad}_k, \text{sampled}_i \gets \texttt{false}\cr
&amp;F^m, F_i, \alpha\_{ik} \gets \bot\cr
\cr
&amp;\underline{
  (1)\text{SetCommit}_k(F):
}\cr
  &amp;\enspace
    F_k \gets F
  \cr
  &amp;\enspace
    \text{bad}_k \gets \text{deg}(F) \neq t - 1 \lor F(0) \neq 0
  \cr
  &amp;\enspace
    \texttt{if } \forall k \in \mathcal{M}.\ F_k \neq \bot \land F^h = \bot:
  \cr
  &amp;\enspace\enspace
    F^m \gets \sum_k F_k
  \cr
  &amp;\enspace\enspace
    \text{Cheat}(F^m)
  \cr
\cr
&amp;\underline{
  \text{Commit}_k(S):
}\cr
  &amp;\enspace
    \texttt{assert } F_k \neq \bot
  \cr
  &amp;\enspace
    \text{SetMask}_k(S)
  \cr
\cr
&amp;\underline{
  \text{WaitCommit}_k(S):
}\cr
  &amp;\enspace
    \text{WaitMask}_k(S, \texttt{false})
  \cr
\cr
&amp;\underline{
  \text{Open}_k(S, z\_\bullet, x\_\bullet):
}\cr
  &amp;\enspace
    \texttt{if } \text{bad}_k:\ \texttt{stop}(S \cap \mathcal{H}, 1)
  \cr
  &amp;\enspace
    \texttt{for } j \in S \cap \mathcal{H}.\ \forall k.\ x\_{kj} \neq \bot \land \sum_k x\_{kj} \cdot G \neq F^m(j):
  \cr
  &amp;\enspace\enspace
    \texttt{stop}(\{j\}, 1)
  \cr
  &amp;\enspace
    \text{Share}(S, z\_\bullet)
  \cr
  &amp;\enspace
    \text{CheatShare}(S, x\_\bullet)
  \cr
\cr
&amp;\underline{
  \text{WaitOpen}_k(S):
}\cr
  &amp;\enspace
   r_j \gets (F_j, z\_{kj} \cdot G, x\_{kj})\ (j \in S \cap \mathcal{M})
  \cr
  &amp;\enspace
    r_j \gets \text{Sim}_k(j)\ (j \in S \cap \mathcal{H})
  \cr
  &amp;\enspace
    \texttt{return } [r_j \mid j \in S]
  \cr
\cr
&amp;\underline{
  \text{Sim}_k(j):
}\cr
  &amp;\enspace
     \texttt{wait}\_{(k, 1)} \text{Z}_k(j) \neq \bot
  \cr
  &amp;\enspace
    \text{left} \gets \text{left} / \{j\}
  \cr
  &amp;\enspace
    \texttt{if } |\text{left}| = 0:
  \cr
  &amp;\enspace\enspace
    Z \gets \sum\_{i \in \mathcal{H}} \text{Z}_k(i)
  \cr
  &amp;\enspace\enspace
    F \gets \text{F}^h() - \sum\_{i \in \mathcal{H} / \{j\}} F_j
  \cr
  &amp;\enspace\enspace
    x_k \gets \text{WaitShare}_k(\texttt{false}) - \sum\_{i \in \mathcal{H} / \{j \}} \alpha\_{ik}
  \cr
  &amp;\enspace
    \texttt{else}:
  \cr
  &amp;\enspace\enspace
    (Z, F, x\_\bullet) \gets \text{Sample}_k()
  \cr
  &amp;\enspace
    \texttt{return } (Z, F(k), x_k)
  \cr
\cr
&amp;\underline{
  \text{Sample}_k(j)
}\cr
  &amp;\enspace
    \texttt{if } \neg \text{sampled}_j:
  \cr
  &amp;\enspace\enspace
    \text{sampled}_j \gets \texttt{true}
  \cr
  &amp;\enspace\enspace
    Z_j \gets \text{Z}_k(j) 
  \cr
  &amp;\enspace\enspace
    f \xleftarrow{\$} \mathbb{F}_q[X]\_{\leq t - 1}
  \cr
  &amp;\enspace\enspace
    F_j \gets f \cdot G
  \cr
  &amp;\enspace\enspace
    F_j(0) \gets 0
  \cr
  &amp;\enspace\enspace
    \alpha\_{jk} \xleftarrow{\$} \mathbb{F}_q \ (\forall k \in \mathcal{M})
  \cr
  &amp;\enspace\enspace
    F_j(k) \gets \alpha\_{jk} \cdot G - Z_j\ (\forall k \in \mathcal{M})
  \cr
  &amp;\enspace
    \texttt{return } (Z_j, F_j, \alpha\_{j \bullet})
  \cr
\cr
&amp;\ldots
\end{aligned}
}
}
\cr
  \circ
\cr
F[\text{Convert}] \circledcirc F[\text{Stop}]
\end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:82.0124em;vertical-align:-40.7562em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:41.2562em;"><span style="top:-43.2562em;"><span class="pstrut" style="height:42.0312em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:9.732em;"><span style="top:-21.014em;"><span class="pstrut" style="height:21.014em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:10.4356em;"><span style="top:-12.4356em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-10.7956em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-9.2956em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-7.7056em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-6.2056em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-4.7056em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-3.1156em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-1.6156em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-0.1156em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:1.4744em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:2.9744em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:4.4744em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:6.0644em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:9.9356em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:10.4356em;"><span style="top:-12.4356em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2111em;"><span style="top:-3.2111em;"><span class="pstrut" style="height:3.7111em;"></span><span class="stretchy colorbox" style="background-color:#FBCFE8;height:1.7111em;"></span></span><span style="top:-3.7111em;"><span class="pstrut" style="height:3.7111em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord mathnormal" style="margin-right:0.1389em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:-0.1389em;top:-2.65em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5em;"><span></span></span></span></span></span></span></span><span style="top:-9.2956em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">M</span><span class="mord">a</span><span class="mord">s</span><span class="mord">k</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-7.7056em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">M</span><span class="mord">a</span><span class="mord">s</span><span class="mord">k</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mclose">)</span></span></span><span style="top:-4.7056em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">M</span><span class="mord">a</span><span class="mord">s</span><span class="mord">k</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-3.1156em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">M</span><span class="mord">a</span><span class="mord">s</span><span class="mord">k</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord texttt">true</span></span><span class="mclose">)</span></span></span><span style="top:-0.1156em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:1.4744em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mclose">)</span></span></span><span style="top:4.4744em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:6.0644em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord text"><span class="mord texttt">true</span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:9.9356em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-11.732em;"><span class="pstrut" style="height:21.014em;"></span><span class="stretchy fbox" style="height:19.014em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:9.282em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:40.0312em;"><span style="top:-81.6124em;"><span class="pstrut" style="height:81.6124em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:44.1014em;"><span style="top:-46.1014em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-44.6014em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-43.1014em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-41.6014em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-40.1014em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-38.6014em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-37.1014em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-35.5114em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-34.0114em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-32.4754em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-30.7654em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-28.3464em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-26.8464em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-25.3464em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-23.7564em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-22.2564em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-20.7564em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-19.2564em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-17.6664em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-16.1664em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-14.6664em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-13.0164em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-11.3064em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-8.8875em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-7.3875em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-5.8875em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-4.3875em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-2.8875em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-1.2864em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:0.2136em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:1.7136em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:3.2136em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:4.7136em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:6.3036em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:7.8036em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:9.3036em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:11.0136em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:12.9137em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:14.8137em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:16.5037em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:18.0037em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:19.5037em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:21.0037em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:22.5037em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:24.1048em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:25.6355em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:27.1663em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:28.9483em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:30.4483em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:31.9483em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:33.7303em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:35.2303em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:36.7303em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:38.2303em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:39.7303em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:43.6014em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:44.1014em;"><span style="top:-46.1014em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2111em;"><span style="top:-3.2111em;"><span class="pstrut" style="height:3.5111em;"></span><span class="stretchy colorbox" style="background-color:#bae6fd;height:1.5111em;"></span></span><span style="top:-3.5111em;"><span class="pstrut" style="height:3.5111em;"></span><span class="mord boxpad"><span class="mord mathnormal sizing reset-size5 size7" style="margin-right:0.0576em;">S</span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3em;"><span></span></span></span></span></span></span></span><span style="top:-43.1014em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord text"><span class="mord">l</span><span class="mord">e</span><span class="mord">f</span><span class="mord">t</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span></span></span><span style="top:-41.6014em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord text"><span class="mord">b</span><span class="mord">a</span><span class="mord">d</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord text"><span class="mord">s</span><span class="mord">a</span><span class="mord">m</span><span class="mord">p</span><span class="mord">l</span><span class="mord">e</span><span class="mord">d</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="margin-right:0.0556em;top:-2.3389em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord texttt">false</span></span></span></span><span style="top:-40.1014em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7em;"><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:-0.1389em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0315em;">ik</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:-37.1014em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-35.5114em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:-0.1389em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span></span></span><span style="top:-34.0114em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">b</span><span class="mord">a</span><span class="mord">d</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord">d</span><span class="mord">e</span><span class="mord">g</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span></span></span><span style="top:-32.4754em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0315em;">k</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathcal">M</span><span class="mord">.</span><span class="mspace"> </span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-left:-0.1389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.876em;"><span style="margin-right:0.0556em;top:-3.013em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:-30.7654em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7em;"><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="margin-left:0em;top:-1.871em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.279em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;margin-left:-0.1389em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-28.3464em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord">C</span><span class="mord">h</span><span class="mord">e</span><span class="mord">a</span><span class="mord">t</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7em;"><span style="margin-right:0.0556em;top:-3.013em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-25.3464em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-23.7564em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">assert </span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;margin-left:-0.1389em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:-22.2564em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">M</span><span class="mord">a</span><span class="mord">s</span><span class="mord">k</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span></span></span><span style="top:-19.2564em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-17.6664em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">M</span><span class="mord">a</span><span class="mord">s</span><span class="mord">k</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord texttt">false</span></span><span class="mclose">)</span></span></span><span style="top:-14.6664em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.53em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2019em;"><span style="margin-right:0.0556em;top:-2.3389em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.51em;"><span></span></span></span></span></span></span></span><span style="top:-13.0164em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord"><span class="mord text"><span class="mord">b</span><span class="mord">a</span><span class="mord">d</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace"> </span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span><span style="top:-11.3064em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">for </span></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mord">.</span><span class="mspace"> </span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0315em;">k</span><span class="mord">.</span><span class="mspace"> </span><span class="mord mathnormal">x</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">kj</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-1.871em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.279em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">kj</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">G</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7em;"><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:-8.8875em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mopen">({</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">}</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span><span style="top:-7.3875em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mclose">)</span></span></span><span style="top:-5.8875em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord">C</span><span class="mord">h</span><span class="mord">e</span><span class="mord">a</span><span class="mord">t</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mclose">)</span></span></span><span style="top:-2.8875em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.5789em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2019em;"><span style="top:-2.3389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4611em;"><span></span></span></span></span></span></span></span><span style="top:-1.2864em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0278em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:-0.0278em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:-0.1389em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">kj</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">G</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">kj</span></span><span class="mclose">)</span><span class="mspace"> </span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal">M</span><span class="mclose">)</span></span></span><span style="top:0.2136em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0278em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:-0.0278em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">i</span><span class="mord">m</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">)</span><span class="mspace"> </span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mclose">)</span></span></span><span style="top:1.7136em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0278em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:-0.0278em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">]</span></span></span><span style="top:4.7136em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">i</span><span class="mord">m</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:6.3036em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">wait</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0315em;">k</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span><span class="mord"><span class="mord text"><span class="mord">Z</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:7.8036em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord">l</span><span class="mord">e</span><span class="mord">f</span><span class="mord">t</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord">l</span><span class="mord">e</span><span class="mord">f</span><span class="mord">t</span></span><span class="mord">/</span><span class="mopen">{</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">}</span></span></span><span style="top:9.3036em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord">∣</span><span class="mord text"><span class="mord">l</span><span class="mord">e</span><span class="mord">f</span><span class="mord">t</span></span><span class="mord">∣</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:11.0136em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mop op-symbol large-op" style="top:0em;position:relative;">∑</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span></span><span class="mord"><span class="mord text"><span class="mord">Z</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span></span></span><span style="top:12.9137em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord text"><span class="mord">F</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.876em;"><span style="margin-right:0.0556em;top:-3.013em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mop op-symbol large-op" style="position:relative;top:0em;">∑</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mord">/</span><span class="mopen">{</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">}</span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:-0.1389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span></span></span><span style="top:14.8137em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord text"><span class="mord texttt">false</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mop op-symbol large-op" style="top:0em;position:relative;">∑</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mord">/</span><span class="mopen">{</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">}</span></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0315em;">ik</span></span></span></span><span style="top:16.5037em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">else</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:18.0037em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">a</span><span class="mord">m</span><span class="mord">p</span><span class="mord">l</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2019em;"><span style="top:-2.3389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span></span></span><span style="top:19.5037em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0315em;">k</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:22.5037em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.5789em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">a</span><span class="mord">m</span><span class="mord">p</span><span class="mord">l</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2019em;"><span style="top:-2.3389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4611em;"><span></span></span></span></span></span></span></span><span style="top:24.1048em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord">¬</span><span class="mord"><span class="mord text"><span class="mord">s</span><span class="mord">a</span><span class="mord">m</span><span class="mord">p</span><span class="mord">l</span><span class="mord">e</span><span class="mord">d</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.3389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3907em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:25.6355em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">s</span><span class="mord">a</span><span class="mord">m</span><span class="mord">p</span><span class="mord">l</span><span class="mord">e</span><span class="mord">d</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="margin-right:0.0556em;top:-2.3389em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3907em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord texttt">true</span></span></span></span><span style="top:27.1663em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:-0.0715em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord text"><span class="mord">Z</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">)</span></span></span><span style="top:28.9483em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord mathnormal" style="margin-right:0.1076em;">f</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.122em;"><span style="top:-3.222em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mtight">$</span></span></span></span><span style="top:-2.589em;"><span class="pstrut" style="height:2.6em;"></span><span class="hide-tail" style="height:0.522em;min-width:1.469em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" viewBox="0 0 400000 522" preserveAspectRatio="xMinYMin slice" height="0.522em"><path d="M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.011em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathbb">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.137em;"><span style="margin-right:0.0556em;margin-left:0em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0359em;">q</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.0785em;">X</span><span class="mclose">]</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span></span></span></span><span style="top:30.4483em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:-0.1389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.1076em;">f</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">G</span></span></span><span style="top:31.9483em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:-0.1389em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span></span></span><span style="top:33.7303em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0315em;">jk</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.122em;"><span style="top:-3.222em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mtight">$</span></span></span></span><span style="top:-2.589em;"><span class="pstrut" style="height:2.6em;"></span><span class="hide-tail" style="min-width:1.469em;height:0.522em;"><svg xmlns="http://www.w3.org/2000/svg" height="0.522em" width="400em" viewBox="0 0 400000 522" preserveAspectRatio="xMinYMin slice"><path d="M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.011em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathbb">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.137em;"><span style="margin-right:0.0556em;margin-left:0em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0359em;">q</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace"> </span><span class="mopen">(</span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0315em;">k</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathcal">M</span><span class="mclose">)</span></span></span><span style="top:35.2303em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:-0.1389em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0315em;">k</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0315em;">jk</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">G</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:-0.0715em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace"> </span><span class="mopen">(</span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0315em;">k</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathcal">M</span><span class="mclose">)</span></span></span><span style="top:36.7303em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:-0.0715em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:-0.1389em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord">∙</span></span><span class="mclose">)</span></span></span><span style="top:39.7303em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:43.6014em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-42.0312em;"><span class="pstrut" style="height:81.6124em;"></span><span class="stretchy fbox" style="height:79.6124em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:39.5812em;"><span></span></span></span></span></span></span></span><span style="top:-2.835em;"><span class="pstrut" style="height:42.0312em;"></span><span class="mord"><span class="mord">∘</span></span></span><span style="top:-1.635em;"><span class="pstrut" style="height:42.0312em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">C</span><span class="mord">o</span><span class="mord">n</span><span class="mord">v</span><span class="mord">e</span><span class="mord">r</span><span class="mord">t</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin amsrm">⊚</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">o</span><span class="mord">p</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:40.7562em;"><span></span></span></span></span></span></span></span></span></span></span></span></span>
<p>The main trick used in the simulator here is that all of the shares
of the honest parties, save one, can be completely random.
All we need to do is ensure
that the <em>sum</em> of the honest parties shares corresponds to the
honest part generated by the ideal functionality.</p>
<p><span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">■</mi></mrow><annotation encoding="application/x-tex">\blacksquare</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.675em;"></span><span class="mord amsrm">■</span></span></span></span></span></p>
<h1>Sharing</h1>
<p>Next we look at key sharing, which is like conversion,
except that we know our share from the very start of the protocol,
allowing us to commit to it, and thus provide stronger guarantees.</p>
<p>We also look at a "split" version, where each phase of the protocol
has its own function.</p>
<p><strong>Definition: (Key Sharing)</strong></p><pre><code>$$\boxed{
\begin{matrix}
\colorbox{FBCFE8}{\large
  $\mathscr{P}[\text{SplitShare}]$
}\cr
\cr
\boxed{
\small{
\begin{aligned}
&\colorbox{FBCFE8}{\large
  $P_i$
}\cr
\cr
&\underline{
  (1)\text{Set}_i(z):
}\cr
  &\enspace
    f_i \xleftarrow{\$} \{ f_i \in \mathbb{F}_q[X]\_{\leq t - 1} \mid f_i(0) = z \\}
  \cr
  &\enspace
    F_i \gets f_i \cdot G
  \cr
  &\enspace
    \text{SetCommit}_i(F_i)
  \cr
  &\enspace
    \text{Commit}_i()
  \cr
\cr
&\underline{
  \text{WaitSet}_i():
}\cr
  &\enspace
    \text{WaitCommit}_i()
  \cr
\cr
&\underline{
  \text{Share}_i():
}\cr
  &\enspace
    \text{Open}_i()
  \cr
  &\enspace
    \pi_i \gets \text{Prove}_i^\varphi(F_i(0); z_i)
  \cr
  &\enspace
    \Rsh_i(\star, \pi_i, 0)
  \cr
  &\enspace
    \Rsh_i(\star, [f_i(j) \mid j \in [n]], 1)
  \cr
\cr
&\underline{
  \text{WaitShare}_i():
}\cr
  &\enspace
    F\_\bullet \gets \text{WaitOpen}_i()
  \cr
  &\enspace
    \pi\_{\bullet i} \gets \Lsh_i(\star, 1)
  \cr
  &\enspace
    \texttt{if } \exists j.\ \neg \text{Verify}^\varphi(\pi\_{ji}, F_j(0))
  \cr
  &\enspace\enspace
    \texttt{stop}(\star, 0)
  \cr
  &\enspace
    x\_{\bullet i} \gets \Lsh_i(\star, 1)
  \cr
  &\enspace
    x_i \gets \sum_j x\_{ji}, \enspace F \gets \sum_j F_j(0)
  \cr
  &\enspace
    \texttt{if } \exists j.\ \text{deg}(F_j) \neq t - 1 \lor x_i \cdot G \neq F(i):
  \cr
  &\enspace\enspace
    \texttt{stop}(\star, 3)
  \cr
  &\enspace
    \texttt{return } (x_i, F(0))
  \cr
\end{aligned}
}
}
\quad
\begin{matrix}
F[\text{SyncComm}]\cr
\circledcirc \cr
F[\text{Stop}]
\end{matrix}\cr
\cr
\text{Leakage} := \{\texttt{stop}\}
\end{matrix}
}
\lhd \mathscr{P}[\text{Commit}]$$</code></pre>
<p><span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">□</mi></mrow><annotation encoding="application/x-tex">\square</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.675em;"></span><span class="mord amsrm">□</span></span></span></span></span></p>
<p>This protocol is basically the same as conversion, just with an earlier
secret value.</p>
<p>Thus, the ideal protocol it implements is going to look quite similar:</p>
<p><strong>Definition: (Ideal Key Sharing)</strong></p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="true"><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mpadded mathbackground="#FBCFE8" height="+6pt" voffset="3pt" lspace="3pt" width="+6pt"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>IdealSplitShare</mtext><mo stretchy="false">]</mo></mstyle><mtext> </mtext></mstyle></mpadded></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="false" scriptlevel="0"><mstyle displaystyle="true" scriptlevel="0"><mstyle mathsize="0.9em"><mtable columnalign="right left" rowspacing="0.25em" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded lspace="3pt" mathbackground="#FBCFE8" voffset="3pt" width="+6pt" height="+6pt"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msub><mi>P</mi><mi>i</mi></msub></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>Set</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>z</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>Set</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mi>z</mi><mo separator="true">,</mo><mi mathvariant="normal">⊥</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitSet</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>WaitSet</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mtext mathvariant="monospace">true</mtext><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>Share</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>Share</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitShare</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><msub><mtext>WaitShare</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mtext mathvariant="monospace">true</mtext><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mspace width="1em"/><mtable columnalign="center" columnspacing="1em" rowspacing="0.16em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded width="+6pt" lspace="3pt" mathbackground="#FBCFE8" voffset="3pt" height="+6pt"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><mi>F</mi><mo stretchy="false">[</mo><mtext>SplitShare</mtext><mo stretchy="false">]</mo></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msup><mi>f</mi><mi>h</mi></msup><mover><mo stretchy="true" minsize="1.75em">←</mo><mpadded width="+0.6em" lspace="0.3em"><mi mathvariant="normal">$</mi></mpadded></mover><mo stretchy="false">{</mo><mi>f</mi><mo>∈</mo><msub><mi mathvariant="double-struck">F</mi><mi>q</mi></msub><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo><mi mathvariant="normal">_</mi><mrow><mo>≤</mo><mi>t</mi><mo>−</mo><mn>1</mn></mrow><mo>∣</mo><mi>f</mi><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn><mo stretchy="false">}</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msup><mi>F</mi><mi>m</mi></msup><mo separator="true">,</mo><mtext>ready</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo separator="true">,</mo><mi>z</mi><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo separator="true">,</mo><msub><mi>x</mi><mi>j</mi></msub><mo>←</mo><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>Set</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mi>z</mi><mo separator="true">,</mo><mi>Z</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mtext>ready</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><mtext mathvariant="monospace">true</mtext><mtext> </mtext><mo stretchy="false">(</mo><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">assert</mtext><mtext> </mtext></mrow><mi>z</mi><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo>∨</mo><mi>Z</mi><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><msub><mi>z</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>Z</mi><mi>i</mi></msub><mo>=</mo><mi mathvariant="normal">⊥</mi><mo>∧</mo><mi>z</mi><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo>:</mo><mtext> </mtext><msub><mi>z</mi><mi>i</mi></msub><mo>←</mo><mi>z</mi><mo separator="true">,</mo><msub><mi>Z</mi><mi>i</mi></msub><mo>←</mo><msub><mi>z</mi><mi>i</mi></msub><mo>⋅</mo><mi>G</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><msub><mi>Z</mi><mi>i</mi></msub><mo>=</mo><mi mathvariant="normal">⊥</mi><mo>∧</mo><mi>z</mi><mo>=</mo><mi mathvariant="normal">⊥</mi><mo>=</mo><mo>:</mo><mtext> </mtext><msub><mi>Z</mi><mi>i</mi></msub><mo>←</mo><mi>Z</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mstyle mathcolor="#ef4444"><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><mtext>Cheat</mtext><mo stretchy="false">(</mo><mi>F</mi><mo stretchy="false">)</mo><mo>:</mo></mstyle><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">assert</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∀</mi><mi>i</mi><mi>j</mi><mi mathvariant="normal">.</mi><mtext> ready</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>∧</mo><mi>F</mi><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn><mo>∧</mo><mtext>deg</mtext><mo stretchy="false">(</mo><mi>F</mi><mo stretchy="false">)</mo><mo>=</mo><mi>t</mi><mo>−</mo><mn>1</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msup><mi>F</mi><mi>m</mi></msup><mo>←</mo><mi>F</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitSet</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mi>m</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mtext mathvariant="monospace">wait</mtext><mi mathvariant="normal">_</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mi mathvariant="normal">.</mi><mtext> ready</mtext><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>i</mi></mrow><mo>∧</mo><mo stretchy="false">(</mo><mi>m</mi><mo>→</mo><msup><mi>F</mi><mi>m</mi></msup><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>Share</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mi>z</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">assert</mtext><mtext> </mtext></mrow><msub><mi>Z</mi><mi>i</mi></msub><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><msub><mi>z</mi><mi>i</mi></msub><mo>=</mo><mi mathvariant="normal">⊥</mi><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">assert</mtext><mtext> </mtext></mrow><mi>z</mi><mo>⋅</mo><mi>G</mi><mo>=</mo><msub><mi>Z</mi><mi>i</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><msub><mi>z</mi><mi>i</mi></msub><mo>←</mo><mi>z</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mstyle mathcolor="#ef4444"><mtext>CheatShare</mtext><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><mo stretchy="false">)</mo><mo>:</mo></mstyle><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">assert</mtext><mtext> </mtext></mrow><msup><mi>F</mi><mi>m</mi></msup><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo>∧</mo><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mi mathvariant="normal">.</mi><mtext> </mtext><msub><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi>j</mi></msub><mo>⋅</mo><mi>G</mi><mo>=</mo><msup><mi>F</mi><mi>m</mi></msup><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">for</mtext><mtext> </mtext></mrow><mi>j</mi><mi mathvariant="normal">.</mi><msub><mi>x</mi><mi>j</mi></msub><mo>=</mo><mi mathvariant="normal">⊥</mi><mo>:</mo><msub><mi>x</mi><mi>j</mi></msub><mo>←</mo><msub><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi>j</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitShare</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>h</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mi>h</mi><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mtext mathvariant="monospace">wait</mtext><mi mathvariant="normal">_</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><msub><mi>x</mi><mi>i</mi></msub><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo>∧</mo><mi mathvariant="normal">∀</mi><mi>j</mi><mi mathvariant="normal">.</mi><mo>∧</mo><msub><mi>z</mi><mi>j</mi></msub><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mo>∑</mo><mi mathvariant="normal">_</mi><mi>j</mi><msub><mi>z</mi><mi>j</mi></msub><mo>+</mo><msup><mi>f</mi><mi>h</mi></msup><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo><mo>+</mo><msub><mi>x</mi><mi>i</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mtext mathvariant="monospace">else</mtext><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mtext mathvariant="monospace">wait</mtext><mi mathvariant="normal">_</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi mathvariant="script">H</mi><mi mathvariant="normal">.</mi><msub><mi>z</mi><mi>j</mi></msub><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mo>∑</mo><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mo>∈</mo><mi mathvariant="script">H</mi></mrow><msub><mi>z</mi><mi>j</mi></msub><mo>+</mo><msup><mi>f</mi><mi>h</mi></msup><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><mtext>Z</mtext><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><msub><mi>z</mi><mi>i</mi></msub><mo>⋅</mo><mi>G</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mstyle mathcolor="#ef4444"><msup><mtext>F</mtext><mi>h</mi></msup><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mstyle><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">wait</mtext><mtext> </mtext></mrow><msup><mi>F</mi><mi>m</mi></msup><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo>∧</mo><mi mathvariant="normal">∀</mi><mi>i</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">∃</mi><mi>j</mi><mi mathvariant="normal">.</mi><mtext>ready</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><msup><mi>f</mi><mi>h</mi></msup><mo>⋅</mo><mi>G</mi></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mo rspace="0em" lspace="0em">⊗</mo></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>F</mi><mo stretchy="false">[</mo><mtext>Sync</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mo lspace="0em" rspace="0em">⊚</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>F</mi><mo stretchy="false">[</mo><mtext>Stop</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mtext>Leakage</mtext><mo>:</mo><mo>=</mo><mo stretchy="false">{</mo><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">}</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></menclose></mrow><annotation encoding="application/x-tex">\boxed{
\begin{matrix}
\colorbox{FBCFE8}{\large
  $\mathscr{P}[\text{IdealSplitShare}]$
}\cr
\cr
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $P_i$
}\cr
\cr
&amp;\underline{
  (1)\text{Set}_i(z):
}\cr
  &amp;\enspace
    \text{Set}_i(\star, z, \bot)
  \cr
\cr
&amp;\underline{
  \text{WaitSet}_i():
}\cr
  &amp;\enspace
    \text{WaitSet}_i(\star, \texttt{true})
  \cr
\cr
&amp;\underline{
  (1)\text{Share}_i():
}\cr
  &amp;\enspace
    \text{Share}_i(\star)
  \cr
\cr
&amp;\underline{
  \text{WaitShare}_i():
}\cr
  &amp;\enspace
    \texttt{return } \text{WaitShare}_i(\texttt{true})
  \cr
\end{aligned}
}
}
\quad
\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $F[\text{SplitShare}]$
}\cr
\cr
&amp;f^h \xleftarrow{\$} \{f \in \mathbb{F}_q[X]\_{\leq t - 1} \mid f(0) = 0\}\cr
&amp;F^m, \text{ready}\_{ij}, z\_{ij}, x_j \gets \bot\cr
\cr
&amp;\underline{
  \text{Set}_i(S, z, Z):
}\cr
  &amp;\enspace
    \text{ready}\_{ij} \gets \texttt{true}\ (\forall j \in S)
  \cr
  &amp;\enspace
    \texttt{assert } z \neq \bot \lor Z \neq \bot
  \cr
  &amp;\enspace
    \texttt{if } z_i, Z_i = \bot \land z \neq \bot:\ z_i \gets z, Z_i \gets z_i \cdot G
  \cr
  &amp;\enspace
    \texttt{if } Z_i = \bot \land z = \bot = :\ Z_i \gets Z
  \cr
\cr
&amp;\underline{
\textcolor{ef4444}{
  (1)\text{Cheat}(F):
}
}\cr
  &amp;\enspace
    \texttt{assert } \forall ij.\ \text{ready}\_{ij} \land F(0) = 0 \land \text{deg}(F) = t - 1
  \cr
  &amp;\enspace
    F^m \gets F
  \cr
\cr
&amp;\underline{
  \text{WaitSet}_i(S, m):
}\cr
  &amp;\enspace
    \texttt{wait}\_{(i, 0)} \forall j \in S.\ \text{ready}\_{ji} \land (m \to F^m \neq \bot)
  \cr
\cr
&amp;\underline{
  \text{Share}_i(S, z):
}\cr
  &amp;\enspace
    \texttt{assert } Z_i \neq \bot
  \cr
  &amp;\enspace
    \texttt{if } z_i = \bot:
  \cr
  &amp;\enspace\enspace
    \texttt{assert } z \cdot G = Z_i
  \cr
  &amp;\enspace\enspace
    z_i \gets z
  \cr
\cr
&amp;\underline{
\textcolor{ef4444}{
  \text{CheatShare}(S, \hat{x}\_\bullet):
}
}\cr
  &amp;\enspace
    \texttt{assert } F^m \neq \bot \land \forall j \in S.\ \hat{x}_j \cdot G = F^m(j)
  \cr
  &amp;\enspace
    \texttt{for } j. x_j = \bot: x_j \gets \hat{x}_j
  \cr
\cr
&amp;\underline{
  \text{WaitShare}_i(h):
}\cr
  &amp;\enspace
    \texttt{if } h:
  \cr
  &amp;\enspace\enspace
    \texttt{wait}\_{(i, 1)} x_i \neq \bot \land \forall j. \land z_j \neq \bot
  \cr
  &amp;\enspace\enspace
    \texttt{return } \sum\_j z_j + f^h(i) + x_i
  \cr
  &amp;\enspace
    \texttt{else}:
  \cr
  &amp;\enspace\enspace
    \texttt{wait}\_{(i, 1)} \forall j \in \mathcal{H}. z_j \neq \bot
  \cr
  &amp;\enspace\enspace
    \texttt{return } \sum\_{j \in \mathcal{H}} z_j + f^h(i)
  \cr
&amp;\underline{
  \text{Z}(i):
}\cr
  &amp;\enspace
    \texttt{return } z_i \cdot G
  \cr
&amp;\underline{
\textcolor{ef4444}{
  \text{F}^h():
}
}\cr
  &amp;\enspace
    \texttt{wait } F^m \neq \bot \land \forall i. \exists j. \text{ready}\_{ij}
  \cr
  &amp;\enspace
    \texttt{return } f^h \cdot G
  \cr
\end{aligned}
}
}\cr
\otimes\cr
F[\text{Sync}]\cr
\circledcirc \cr
F[\text{Stop}]
\end{matrix}\cr
\cr
\text{Leakage} := \{\texttt{stop}\}
\end{matrix}
}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:67.9605em;vertical-align:-33.7303em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:34.2303em;"><span style="top:-69.9605em;"><span class="pstrut" style="height:69.9605em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:33.8903em;"><span style="top:-65.8805em;"><span class="pstrut" style="height:33.1903em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2em;"><span style="top:-3.2em;"><span class="pstrut" style="height:3.8em;"></span><span class="stretchy colorbox" style="height:1.8em;background-color:#FBCFE8;"></span></span><span style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord boxpad"><span class="mord mathscr sizing reset-size6 size7" style="margin-right:0.0808em;">P</span><span class="mopen sizing reset-size6 size7">[</span><span class="mord text sizing reset-size6 size7"><span class="mord">I</span><span class="mord">d</span><span class="mord">e</span><span class="mord">a</span><span class="mord">l</span><span class="mord">S</span><span class="mord">p</span><span class="mord">l</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="mclose sizing reset-size6 size7">]</span><span class="mord sizing reset-size6 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6em;"><span></span></span></span></span></span></span></span><span style="top:-64.4405em;"><span class="pstrut" style="height:33.1903em;"></span><span class="mord"></span></span><span style="top:-32.8903em;"><span class="pstrut" style="height:33.1903em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:9.732em;"><span style="top:-21.014em;"><span class="pstrut" style="height:21.014em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:10.4356em;"><span style="top:-12.4356em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-10.7956em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-9.2956em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-7.7056em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-6.2056em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-4.7056em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-3.1156em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-1.6156em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-0.1156em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:1.4744em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:2.9744em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:4.4744em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:6.0644em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:9.9356em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:10.4356em;"><span style="top:-12.4356em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2111em;"><span style="top:-3.2111em;"><span class="pstrut" style="height:3.7111em;"></span><span class="stretchy colorbox" style="height:1.7111em;background-color:#FBCFE8;"></span></span><span style="top:-3.7111em;"><span class="pstrut" style="height:3.7111em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord mathnormal" style="margin-right:0.1389em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:-0.1389em;margin-right:0.0417em;top:-2.65em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5em;"><span></span></span></span></span></span></span></span><span style="top:-9.2956em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-7.7056em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">⊥</span><span class="mclose">)</span></span></span><span style="top:-4.7056em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-3.1156em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord texttt">true</span></span><span class="mclose">)</span></span></span><span style="top:-0.1156em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:1.4744em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mclose">)</span></span></span><span style="top:4.4744em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:6.0644em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord text"><span class="mord texttt">true</span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:9.9356em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-11.732em;"><span class="pstrut" style="height:21.014em;"></span><span class="stretchy fbox" style="border-style:solid;border-width:0.04em;height:19.014em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:9.282em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:31.1903em;"><span style="top:-33.1903em;"><span class="pstrut" style="height:30.7653em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:28.7653em;"><span style="top:-59.0805em;"><span class="pstrut" style="height:59.0805em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:31.5836em;"><span style="top:-33.5836em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-31.8103em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-30.0283em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-28.5283em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-27.0283em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-25.5283em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-23.9383em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-22.4383em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-20.9383em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-19.4383em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-17.9383em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-16.4383em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-14.8483em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-13.3483em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-11.8483em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-10.3483em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-8.7583em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-7.2583em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-5.7583em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-4.1683em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-2.6683em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-1.1683em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:0.3317em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:1.8317em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:3.3317em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:4.9817em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:6.4817em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:7.9817em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:9.4817em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:11.0717em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:12.5717em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:14.2817em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:15.9717em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:17.4717em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:19.1817em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:20.8717em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:22.4617em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:23.9977em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:25.5877em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:27.1236em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:31.0836em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:31.5836em;"><span style="top:-33.5836em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3em;"><span style="top:-3.3em;"><span class="pstrut" style="height:3.9333em;"></span><span class="stretchy colorbox" style="height:1.9333em;background-color:#FBCFE8;"></span></span><span style="top:-3.9333em;"><span class="pstrut" style="height:3.9333em;"></span><span class="mord boxpad"><span class="mord mathnormal sizing reset-size5 size7" style="margin-right:0.1389em;">F</span><span class="mopen sizing reset-size5 size7">[</span><span class="mord text sizing reset-size5 size7"><span class="mord">S</span><span class="mord">p</span><span class="mord">l</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="mclose sizing reset-size5 size7">]</span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6333em;"><span></span></span></span></span></span></span></span><span style="top:-30.0283em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1076em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.876em;"><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.122em;"><span style="top:-3.222em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mtight">$</span></span></span></span><span style="top:-2.589em;"><span class="pstrut" style="height:2.6em;"></span><span class="hide-tail" style="height:0.522em;min-width:1.469em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMinYMin slice"><path d="M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.011em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">{</span><span class="mord mathnormal" style="margin-right:0.1076em;">f</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathbb">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.137em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0359em;">q</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.0785em;">X</span><span class="mclose">]</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.1076em;">f</span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mclose">}</span></span></span><span style="top:-28.5283em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7em;"><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord">r</span><span class="mord">e</span><span class="mord">a</span><span class="mord">d</span><span class="mord">y</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:-25.5283em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-23.9383em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord">r</span><span class="mord">e</span><span class="mord">a</span><span class="mord">d</span><span class="mord">y</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord texttt">true</span></span><span class="mspace"> </span><span class="mopen">(</span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span></span></span><span style="top:-22.4383em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">assert </span></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:-20.9383em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:-0.044em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:-0.0715em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace"> </span><span class="mord"><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:-0.044em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:-0.0715em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:-0.044em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">G</span></span></span><span style="top:-19.4383em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:-0.0715em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace"> </span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:-0.0715em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span></span></span><span style="top:-16.4383em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen" style="color:#ef4444;">(</span><span class="mord" style="color:#ef4444;">1</span><span class="mclose" style="color:#ef4444;">)</span><span class="mord text" style="color:#ef4444;"><span class="mord" style="color:#ef4444;">C</span><span class="mord" style="color:#ef4444;">h</span><span class="mord" style="color:#ef4444;">e</span><span class="mord" style="color:#ef4444;">a</span><span class="mord" style="color:#ef4444;">t</span></span><span class="mopen" style="color:#ef4444;">(</span><span class="mord mathnormal" style="margin-right:0.1389em;color:#ef4444;">F</span><span class="mclose" style="color:#ef4444;">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel" style="color:#ef4444;">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-14.8483em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">assert </span></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span><span class="mord">.</span><span class="mspace"> </span><span class="mord text"><span class="mord">r</span><span class="mord">e</span><span class="mord">a</span><span class="mord">d</span><span class="mord">y</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">d</span><span class="mord">e</span><span class="mord">g</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span></span></span><span style="top:-13.3483em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7em;"><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span></span></span><span style="top:-10.3483em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-8.7583em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">wait</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mord">.</span><span class="mspace"> </span><span class="mord text"><span class="mord">r</span><span class="mord">e</span><span class="mord">a</span><span class="mord">d</span><span class="mord">y</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">ji</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7em;"><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mclose">)</span></span></span><span style="top:-5.7583em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-4.1683em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">assert </span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:-0.0715em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:-2.6683em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:-0.044em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:-1.1683em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">assert </span></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">G</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:-0.0715em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:0.3317em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:-0.044em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span></span></span><span style="top:3.3317em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.53em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text" style="color:#ef4444;"><span class="mord" style="color:#ef4444;">C</span><span class="mord" style="color:#ef4444;">h</span><span class="mord" style="color:#ef4444;">e</span><span class="mord" style="color:#ef4444;">a</span><span class="mord" style="color:#ef4444;">t</span><span class="mord" style="color:#ef4444;">S</span><span class="mord" style="color:#ef4444;">h</span><span class="mord" style="color:#ef4444;">a</span><span class="mord" style="color:#ef4444;">r</span><span class="mord" style="color:#ef4444;">e</span></span><span class="mopen" style="color:#ef4444;">(</span><span class="mord mathnormal" style="margin-right:0.0576em;color:#ef4444;">S</span><span class="mpunct" style="color:#ef4444;">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent" style="color:#ef4444;"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal" style="color:#ef4444;">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord" style="color:#ef4444;">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;color:#ef4444;">_</span><span class="mord" style="color:#ef4444;">∙</span><span class="mclose" style="color:#ef4444;">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel" style="color:#ef4444;">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.51em;"><span></span></span></span></span></span></span></span><span style="top:4.9817em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">assert </span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7em;"><span style="margin-right:0.0556em;top:-3.013em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mord">.</span><span class="mspace"> </span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">G</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7em;"><span style="margin-right:0.0556em;top:-3.013em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">)</span></span></span><span style="top:6.4817em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">for </span></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord">.</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span></span></span><span style="top:9.4817em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">h</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:11.0717em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:12.5717em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">wait</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord">.</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:-0.044em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:14.2817em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-symbol large-op" style="top:0em;position:relative;">∑</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:-0.044em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1076em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.876em;"><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:15.9717em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">else</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:17.4717em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">wait</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mord">.</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:-0.044em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:19.1817em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-symbol large-op" style="top:0em;position:relative;">∑</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:-0.044em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1076em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.876em;"><span style="margin-right:0.0556em;top:-3.013em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span></span></span><span style="top:20.8717em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">Z</span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:22.4617em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:-0.044em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">G</span></span></span><span style="top:23.9977em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.876em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="color:#ef4444;"><span class="mord text" style="color:#ef4444;"><span class="mord" style="color:#ef4444;">F</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.876em;"><span style="margin-right:0.0556em;top:-3.013em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight" style="color:#ef4444;"><span class="mord mathnormal mtight" style="color:#ef4444;">h</span></span></span></span></span></span></span></span><span class="mopen" style="color:#ef4444;">(</span><span class="mclose" style="color:#ef4444;">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel" style="color:#ef4444;">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:25.5877em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">wait </span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7em;"><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">∀</span><span class="mord mathnormal">i</span><span class="mord">.</span><span class="mord">∃</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord">.</span><span class="mord text"><span class="mord">r</span><span class="mord">e</span><span class="mord">a</span><span class="mord">d</span><span class="mord">y</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span></span></span><span style="top:27.1236em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1076em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.876em;"><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">G</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:31.0836em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-30.7653em;"><span class="pstrut" style="height:59.0805em;"></span><span class="stretchy fbox" style="height:57.0805em;border-width:0.04em;border-style:solid;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:28.3153em;"><span></span></span></span></span></span></span></span><span style="top:-4.035em;"><span class="pstrut" style="height:30.7653em;"></span><span class="mord"><span class="mord">⊗</span></span></span><span style="top:-2.835em;"><span class="pstrut" style="height:30.7653em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="mclose">]</span></span></span><span style="top:-1.635em;"><span class="pstrut" style="height:30.7653em;"></span><span class="mord"><span class="mord amsrm">⊚</span></span></span><span style="top:-0.435em;"><span class="pstrut" style="height:30.7653em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">o</span><span class="mord">p</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:30.6903em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-1.36em;"><span class="pstrut" style="height:33.1903em;"></span><span class="mord"></span></span><span style="top:-0.16em;"><span class="pstrut" style="height:33.1903em;"></span><span class="mord"><span class="mord text"><span class="mord">L</span><span class="mord">e</span><span class="mord">a</span><span class="mord">k</span><span class="mord">a</span><span class="mord">g</span><span class="mord">e</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">{</span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mclose">}</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:33.3903em;"><span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-36.2303em;"><span class="pstrut" style="height:69.9605em;"></span><span class="stretchy fbox" style="height:67.9605em;border-width:0.04em;border-style:solid;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:33.7303em;"><span></span></span></span></span></span></span></span></span></span></span>
<p><strong>Lemma:</strong></p>
<p>For some negligible <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding="application/x-tex">\epsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">ϵ</span></span></span></span></span> and up to <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">t - 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="vertical-align:-0.0833em;height:0.6984em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></span> malicious corruptions, we have:</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>SplitShare</mtext><mo stretchy="false">]</mo><mo><mover><mo><mo>⇝</mo></mo><mi>ϵ</mi></mover></mo><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>IdealSplitShare</mtext><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\mathscr{P}[\text{SplitShare}] \overset{\epsilon}{\leadsto} \mathscr{P}[\text{IdealSplitShare}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="vertical-align:-0.25em;height:1.2293em;"></span><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">p</span><span class="mord">l</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mop op-limits"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9793em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop amsrm">⇝</span></span></span><span style="margin-left:0em;top:-3.5779em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">ϵ</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="vertical-align:-0.25em;height:1em;"></span><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="mopen">[</span><span class="mord text"><span class="mord">I</span><span class="mord">d</span><span class="mord">e</span><span class="mord">a</span><span class="mord">l</span><span class="mord">S</span><span class="mord">p</span><span class="mord">l</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="mclose">]</span></span></span></span></span></span>
<p><strong>Proof:</strong></p>
<p><span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>SplitShare</mtext><mo stretchy="false">]</mo><mo>⇝</mo><msup><mi mathvariant="script">P</mi><mn>0</mn></msup><mo>⊲</mo><mo stretchy="false">(</mo><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>Commit</mtext><mo stretchy="false">]</mo><mo>⊗</mo><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>Convert</mtext><mo stretchy="false">]</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathscr{P}[\text{SplitShare}] \leadsto \mathscr{P}^0 \lhd (\mathscr{P}[\text{Commit}] \otimes \mathscr{P}[\text{Convert}])</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="vertical-align:-0.25em;height:1em;"></span><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">p</span><span class="mord">l</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">⇝</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8493em;vertical-align:-0.0352em;"></span><span class="mord"><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="margin-right:0.05em;top:-3.063em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin amsrm">⊲</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="vertical-align:-0.25em;height:1em;"></span><span class="mopen">(</span><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="mopen">[</span><span class="mord text"><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="vertical-align:-0.25em;height:1em;"></span><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="mopen">[</span><span class="mord text"><span class="mord">C</span><span class="mord">o</span><span class="mord">n</span><span class="mord">v</span><span class="mord">e</span><span class="mord">r</span><span class="mord">t</span></span><span class="mclose">])</span></span></span></span></span>, as demonstrated by the following:</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="true" scriptlevel="0"><mstyle mathsize="0.9em"><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded voffset="3pt" height="+6pt" mathbackground="#FBCFE8" lspace="3pt" width="+6pt"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msub><mi>P</mi><mi>i</mi></msub></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><msub><mi>z</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>Z</mi><mi>i</mi></msub><mo>←</mo><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>Set</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>z</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>SetMask</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mi>z</mi><mi>i</mi></msub><mo>←</mo><mi>z</mi><mo separator="true">,</mo><msub><mi>Z</mi><mi>i</mi></msub><mo>←</mo><mi>z</mi><mo>⋅</mo><mi>G</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>SetCommit</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><msub><mi>Z</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>Commit</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitSet</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>WaitMask</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>WaitCommit</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>Share</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>Share</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><msub><mi>z</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>Open</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitShare</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mi>Z</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo>←</mo><msub><mtext>WaitOpen</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mi>x</mi><mi>i</mi></msub><mo>←</mo><msub><mtext>WaitShare</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∃</mi><mi>j</mi><mi mathvariant="normal">.</mi><mtext> </mtext><msub><mtext>Z</mtext><mi>j</mi></msub><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo><mi mathvariant="normal">≠</mi><msub><mi>Z</mi><mi>j</mi></msub><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo separator="true">,</mo><munder><mo>∑</mo><mi>j</mi></munder><msub><mtext>Z</mtext><mi>j</mi></msub><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mspace width="1em"/><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable columnalign="right left" rowspacing="0.25em" columnspacing="0em"><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded height="+6pt" lspace="3pt" width="+6pt" mathbackground="#bae6fd" voffset="3pt"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><mi>S</mi></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msubsup><mtext>SetCommit</mtext><mi>i</mi><mo lspace="0em" mathvariant="normal" rspace="0em">′</mo></msubsup><mo stretchy="false">(</mo><mi>F</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>SetCommit</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>F</mi><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msubsup><mtext>SetCommit</mtext><mi>i</mi><mo lspace="0em" mathvariant="normal" rspace="0em">′</mo></msubsup><mo stretchy="false">(</mo><mi>F</mi><mo>−</mo><mi>F</mi><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msubsup><mtext>Open</mtext><mi>i</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msubsup><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>Open</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msubsup><mtext>Open</mtext><mi>i</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msubsup><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>…</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo rspace="0em" lspace="0em">∘</mo></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>F</mi><mo stretchy="false">[</mo><mtext>Commit</mtext><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Commit</mtext><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>ZK</mtext><mo stretchy="false">(</mo><mi>φ</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>SyncComm</mtext><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Sync</mtext><mo stretchy="false">]</mo><mo>⊚</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Stop</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $P_i$
}\cr
\cr
&amp;z_i, Z_i \gets \bot\cr
\cr
&amp;\underline{
  (1)\text{Set}_i(z):
}\cr
  &amp;\enspace
    \text{SetMask}_i()
  \cr
  &amp;\enspace
    z_i \gets z, Z_i \gets z \cdot G
  \cr
  &amp;\enspace
    \text{SetCommit}_i(Z_i)
  \cr
  &amp;\enspace
    \text{Commit}_i()
  \cr
\cr
&amp;\underline{
  \text{WaitSet}_i():
}\cr
  &amp;\enspace
    \text{WaitMask}_i()
  \cr
  &amp;\enspace
    \text{WaitCommit}_i()
  \cr
\cr
&amp;\underline{
  \text{Share}_i():
}\cr
  &amp;\enspace
    \text{Share}_i(z_i)
  \cr
  &amp;\enspace
    \text{Open}_i()
  \cr
\cr
&amp;\underline{
  \text{WaitShare}_i():
}\cr
  &amp;\enspace
    Z\_\bullet \gets \text{WaitOpen}_i()
  \cr
  &amp;\enspace
    x_i \gets \text{WaitShare}_i()
  \cr
  &amp;\enspace
    \texttt{if } \exists j.\ \text{Z}_j(i) \neq Z_j:
  \cr
  &amp;\enspace\enspace
    \texttt{stop}(\star, 1)
  \cr
  &amp;\enspace
    \texttt{return } (x_i, \sum_j \text{Z}_j(i))
  \cr
\end{aligned}
}
}
\quad
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{bae6fd}{\large
  $S$
}\cr
\cr
&amp;\underline{
  (1)\text{SetCommit}&#x27;_i(F):
}\cr
  &amp;\enspace
    \text{SetCommit}_i(F(0))
  \cr
  &amp;\enspace
    \text{SetCommit}&#x27;_i(F - F(0))
  \cr
\cr
&amp;\underline{
  \text{Open}&#x27;_i(S):
}\cr
  &amp;\enspace
    \text{Open}_i(S)
  \cr
  &amp;\enspace
    \text{Open}&#x27;_i(S)
  \cr
\cr
&amp;\ldots
\end{aligned}
}
}
\cr
\circ\cr
F[\text{Commit}] \otimes F[\text{Commit}] \otimes F[\text{ZK}(\varphi)] \otimes F[\text{SyncComm}] \otimes F[\text{Sync}] \circledcirc F[\text{Stop}]
\end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:37.3758em;vertical-align:-18.4379em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:18.9379em;"><span style="top:-20.9379em;"><span class="pstrut" style="height:19.7129em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:17.7129em;"><span style="top:-36.9758em;"><span class="pstrut" style="height:36.9758em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:19.3032em;"><span style="top:-21.3032em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-19.6632em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-18.1632em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-16.6632em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-15.1632em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-13.5732em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-12.0732em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-10.5732em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-9.0732em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-7.5732em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-6.0732em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-4.4832em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-2.9832em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-1.4832em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:0.0168em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:1.6068em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:3.1068em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:4.6068em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:6.1068em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:7.6968em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:9.1968em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:10.6968em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:12.1968em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:13.9068em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:18.8032em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:19.3032em;"><span style="top:-21.3032em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2111em;"><span style="top:-3.2111em;"><span class="pstrut" style="height:3.7111em;"></span><span class="stretchy colorbox" style="height:1.7111em;background-color:#FBCFE8;"></span></span><span style="top:-3.7111em;"><span class="pstrut" style="height:3.7111em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord mathnormal" style="margin-right:0.1389em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:-0.1389em;top:-2.65em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5em;"><span></span></span></span></span></span></span></span><span style="top:-18.1632em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:-0.044em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:-0.0715em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:-15.1632em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-13.5732em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">M</span><span class="mord">a</span><span class="mord">s</span><span class="mord">k</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span></span></span><span style="top:-12.0732em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:-0.044em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:-0.0715em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">G</span></span></span><span style="top:-10.5732em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:-0.0715em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-9.0732em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span></span></span><span style="top:-6.0732em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-4.4832em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">M</span><span class="mord">a</span><span class="mord">s</span><span class="mord">k</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span></span></span><span style="top:-2.9832em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span></span></span><span style="top:0.0168em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:1.6068em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:-0.044em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:3.1068em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.3389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span></span></span><span style="top:6.1068em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:7.6968em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.3389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span></span></span><span style="top:9.1968em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span></span></span><span style="top:10.6968em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord">∃</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord">.</span><span class="mspace"> </span><span class="mord"><span class="mord text"><span class="mord">Z</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:-0.0715em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:12.1968em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span><span style="top:13.9068em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="margin-left:0em;top:-1.8943em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3853em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord text"><span class="mord">Z</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">))</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:18.8032em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-19.7129em;"><span class="pstrut" style="height:36.9758em;"></span><span class="stretchy fbox" style="border-style:solid;border-width:0.04em;height:34.9758em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:17.2629em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:8.243em;"><span style="top:-18.036em;"><span class="pstrut" style="height:18.036em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:8.7811em;"><span style="top:-10.7811em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-9.2811em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-7.7811em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-6.1911em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-4.6911em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-3.1911em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-1.6911em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-0.09em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:1.41em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:2.91em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:4.41em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:8.2811em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:8.7811em;"><span style="top:-10.7811em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2111em;"><span style="top:-3.2111em;"><span class="pstrut" style="height:3.5111em;"></span><span class="stretchy colorbox" style="background-color:#bae6fd;height:1.5111em;"></span></span><span style="top:-3.5111em;"><span class="pstrut" style="height:3.5111em;"></span><span class="mord boxpad"><span class="mord mathnormal sizing reset-size5 size7" style="margin-right:0.0576em;">S</span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3em;"><span></span></span></span></span></span></span></span><span style="top:-7.7811em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7834em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7834em;"><span style="top:-2.353em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-6.1911em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">))</span></span></span><span style="top:-4.6911em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7834em;"><span style="top:-2.353em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">))</span></span></span><span style="top:-1.6911em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7834em;"><span style="top:-2.5789em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7834em;"><span style="top:-2.3389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="margin-right:0.0556em;top:-3.013em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4611em;"><span></span></span></span></span></span></span></span><span style="top:-0.09em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="margin-right:0.0556em;top:-2.3389em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span></span></span><span style="top:1.41em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7834em;"><span style="margin-right:0.0556em;top:-2.3389em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="margin-right:0.0556em;top:-3.013em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span></span></span><span style="top:4.41em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:8.2811em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-10.243em;"><span class="pstrut" style="height:18.036em;"></span><span class="stretchy fbox" style="border-style:solid;border-width:0.04em;height:16.036em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:7.793em;"><span></span></span></span></span></span></span></span><span style="top:-2.835em;"><span class="pstrut" style="height:19.7129em;"></span><span class="mord"><span class="mord">∘</span></span></span><span style="top:-1.635em;"><span class="pstrut" style="height:19.7129em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">Z</span><span class="mord">K</span></span><span class="mopen">(</span><span class="mord mathnormal">φ</span><span class="mclose">)]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin amsrm">⊚</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">o</span><span class="mord">p</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:18.4379em;"><span></span></span></span></span></span></span></span></span></span></span></span></span>
<p>Then:</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="script">P</mi><mn>0</mn></msup><mo>⊲</mo><mo>…</mo><mo>⇝</mo><msup><mi mathvariant="script">P</mi><mn>1</mn></msup><mo>=</mo><msup><mi mathvariant="script">P</mi><mn>0</mn></msup><mo>⊲</mo><mo stretchy="false">(</mo><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>IdealCommit</mtext><mo stretchy="false">]</mo><mo>⊗</mo><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>IdealConvert</mtext><mo stretchy="false">]</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathscr{P}^0 \lhd \ldots \leadsto \mathscr{P}^1 = \mathscr{P}^0 \lhd (\mathscr{P}[\text{IdealCommit}] \otimes \mathscr{P}[\text{IdealConvert}])</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8993em;vertical-align:-0.0352em;"></span><span class="mord"><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="margin-right:0.05em;top:-3.113em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin amsrm">⊲</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.3779em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">⇝</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8641em;"></span><span class="mord"><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="margin-right:0.05em;top:-3.113em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8993em;vertical-align:-0.0352em;"></span><span class="mord"><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="margin-right:0.05em;top:-3.113em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin amsrm">⊲</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="vertical-align:-0.25em;height:1em;"></span><span class="mopen">(</span><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="mopen">[</span><span class="mord text"><span class="mord">I</span><span class="mord">d</span><span class="mord">e</span><span class="mord">a</span><span class="mord">l</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="mopen">[</span><span class="mord text"><span class="mord">I</span><span class="mord">d</span><span class="mord">e</span><span class="mord">a</span><span class="mord">l</span><span class="mord">C</span><span class="mord">o</span><span class="mord">n</span><span class="mord">v</span><span class="mord">e</span><span class="mord">r</span><span class="mord">t</span></span><span class="mclose">])</span></span></span></span></span></span>
<p>Unrolling, we get:</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable rowspacing="0.16em" columnspacing="1em" columnalign="center"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="true" scriptlevel="0"><mstyle mathsize="0.9em"><mtable rowspacing="0.25em" columnspacing="0em" columnalign="right left"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded height="+6pt" width="+6pt" voffset="3pt" mathbackground="#FBCFE8" lspace="3pt"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>0</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>Set</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mo>…</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mo>⊗</mo><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="true" scriptlevel="0"><mrow><mpadded voffset="3pt" lspace="3pt" width="+6pt" mathbackground="#FBCFE8" height="+6pt"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msubsup><mi mathvariant="normal">Γ</mi><mi>M</mi><mn>0</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded><mo>=</mo><mn>1</mn><mrow><mo fence="true">(</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mtext>SetCommit</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><msub><mtext>Commit</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mtext>WaitCommit</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mtext>Open</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mtext>WaitOpen</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><msub><mtext>SetMask</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><msub><mtext>WaitMask</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><msub><mtext>Share</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mtext>WaitShare</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mtext>Z</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Cheat</mtext><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>CheatShare</mtext><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mtext mathvariant="monospace">stop</mtext></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow></mstyle></mstyle></mstyle></menclose></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo rspace="0em" lspace="0em">∘</mo></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>F</mi><mo stretchy="false">[</mo><mtext>Convert</mtext><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Commit</mtext><mo stretchy="false">]</mo><mo>⊚</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Stop</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^0_H$
}\cr
\cr
&amp;\underline{
  (1)\text{Set}_i():
}\cr
&amp;\enspace
  \ldots
\cr
\end{aligned}
}
}
\otimes
\boxed{\colorbox{FBCFE8}{\large
  $\Gamma^0_M$
} = 1
\begin{pmatrix}
    \text{SetCommit}_k
  ,\cr
    \text{Commit}_k
  ,\cr
    \text{WaitCommit}_k
  ,\cr
    \text{Open}_k
  ,\cr
    \text{WaitOpen}_k
  ,\cr
    \text{SetMask}_k
  ,\cr
    \text{WaitMask}_k
  ,\cr
    \text{Share}_k
  ,\cr
    \text{WaitShare}_k
  ,\cr
    \text{Z}_k
  ,\cr
    \text{Cheat}
  ,\cr
    \text{CheatShare}
  ,\cr
    \texttt{stop}
\end{pmatrix}
}
\cr
  \circ
\cr
F[\text{Convert}] \otimes F[\text{Commit}] \circledcirc F[\text{Stop}]
\end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:18.6801em;vertical-align:-9.0901em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:9.5901em;"><span style="top:-11.5901em;"><span class="pstrut" style="height:10.39em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.6626em;"><span style="top:-8.8752em;"><span class="pstrut" style="height:8.8752em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.6918em;"><span style="top:-5.6918em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-3.915em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-2.415em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-0.825em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.1918em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.6918em;"><span style="top:-5.6918em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="height:1.9936em;background-color:#FBCFE8;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="top:-2.5474em;margin-right:0.0417em;margin-left:0em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-2.415em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-0.825em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="minner">…</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.1918em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-5.6626em;"><span class="pstrut" style="height:8.8752em;"></span><span class="stretchy fbox" style="border-style:solid;height:6.8752em;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.2126em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:8.39em;"><span style="top:-18.2801em;"><span class="pstrut" style="height:18.2801em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2512em;"><span style="top:-3.2512em;"><span class="pstrut" style="height:3.8542em;"></span><span class="stretchy colorbox" style="height:1.8542em;background-color:#FBCFE8;"></span></span><span style="top:-3.8542em;"><span class="pstrut" style="height:3.8542em;"></span><span class="mord boxpad"><span class="mord sizing reset-size6 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-left:0em;margin-right:0.0417em;top:-2.5474em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.109em;">M</span></span></span><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size6 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6031em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:8.0499em;"><span style="top:-10.0499em;"><span class="pstrut" style="height:17.6em;"></span><span style="width:0.875em;height:15.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.875em" height="15.600em" viewBox="0 0 875 15600"><path d="M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,12084c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-12092c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:7.5501em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:8.05em;"><span style="top:-10.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-9.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-7.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="margin-right:0.05em;top:-2.55em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-6.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.242em;"><span style="margin-right:0.05em;top:-2.4559em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-5.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.242em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">M</span><span class="mord">a</span><span class="mord">s</span><span class="mord">k</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">M</span><span class="mord">a</span><span class="mord">s</span><span class="mord">k</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-0.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="margin-right:0.05em;top:-2.55em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:0.59em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">Z</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:1.79em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">C</span><span class="mord">h</span><span class="mord">e</span><span class="mord">a</span><span class="mord">t</span></span><span class="mpunct">,</span></span></span><span style="top:2.99em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">C</span><span class="mord">h</span><span class="mord">e</span><span class="mord">a</span><span class="mord">t</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="mpunct">,</span></span></span><span style="top:4.19em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord texttt">stop</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:7.55em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:8.0499em;"><span style="top:-10.0499em;"><span class="pstrut" style="height:17.6em;"></span><span style="height:15.600em;width:0.875em;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 875 15600" width="0.875em" height="15.600em"><path d="M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,12009
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-12144c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:7.5501em;"><span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-10.39em;"><span class="pstrut" style="height:18.2801em;"></span><span class="stretchy fbox" style="border-width:0.04em;border-style:solid;height:16.2801em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:7.8901em;"><span></span></span></span></span></span></span></span><span style="top:-2.8599em;"><span class="pstrut" style="height:10.39em;"></span><span class="mord"><span class="mord">∘</span></span></span><span style="top:-1.6599em;"><span class="pstrut" style="height:10.39em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">C</span><span class="mord">o</span><span class="mord">n</span><span class="mord">v</span><span class="mord">e</span><span class="mord">r</span><span class="mord">t</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin amsrm">⊚</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">o</span><span class="mord">p</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:9.0901em;"><span></span></span></span></span></span></span></span></span></span></span></span></span>
<p>This simulates the desired protocol:</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable columnalign="center" columnspacing="1em" rowspacing="0.16em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="true" scriptlevel="0"><mstyle mathsize="0.9em"><mtable columnspacing="0em" rowspacing="0.25em" columnalign="right left"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded lspace="3pt" width="+6pt" height="+6pt" voffset="3pt" mathbackground="#FBCFE8"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>1</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded><mo>=</mo><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>0</mn></msubsup></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mo>⊗</mo><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="true" scriptlevel="0"><mstyle mathsize="0.9em"><mtable columnalign="right left" rowspacing="0.25em" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded lspace="3pt" height="+6pt" width="+6pt" voffset="3pt" mathbackground="#bae6fd"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><mi>S</mi></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><mtext>Cheat</mtext><mo stretchy="false">(</mo><mi>F</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msup><mi>F</mi><mi>m</mi></msup><mo>←</mo><mi>F</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mtext>Cheat</mtext><mo stretchy="false">(</mo><mi>F</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>SetCommit</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>Z</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mi>Z</mi><mi>k</mi></msub><mo>←</mo><mi>Z</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>Commit</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">assert</mtext><mtext> </mtext></mrow><msub><mi>Z</mi><mi>k</mi></msub><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mtext>com</mtext><mi mathvariant="normal">_</mi><mrow><mi>k</mi><mi>j</mi></mrow><mo>←</mo><mtext mathvariant="monospace">true</mtext><mtext> </mtext><mo stretchy="false">(</mo><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>Set?</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>SetMask</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mtext>ready</mtext><mi mathvariant="normal">_</mi><mrow><mi>k</mi><mi>j</mi></mrow><mo>←</mo><mtext mathvariant="monospace">true</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>Set?</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>Set?</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">for</mtext><mtext> </mtext></mrow><mi>j</mi><mo>∈</mo><mi mathvariant="script">H</mi><mi mathvariant="normal">.</mi><mtext> com</mtext><mi mathvariant="normal">_</mi><mrow><mi>k</mi><mi>j</mi></mrow><mo>∧</mo><mtext>ready</mtext><mi mathvariant="normal">_</mi><mrow><mi>k</mi><mi>j</mi></mrow><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><msub><mtext>Set</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">{</mo><mi>j</mi><mo stretchy="false">}</mo><mo separator="true">,</mo><mi mathvariant="normal">⊥</mi><mo separator="true">,</mo><msub><mi>Z</mi><mi>k</mi></msub><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitCommit</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mtext mathvariant="monospace">wait</mtext><mi mathvariant="normal">_</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">M</mi><mi mathvariant="normal">.</mi><mtext> com</mtext><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>k</mi></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>WaitMask</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">H</mi><mo separator="true">,</mo><mtext mathvariant="monospace">false</mtext><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitMask</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mi>m</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mtext mathvariant="monospace">wait</mtext><mi mathvariant="normal">_</mi><mrow><mo stretchy="false">(</mo><mi>k</mi><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi mathvariant="script">S</mi><mo>∩</mo><mi mathvariant="script">M</mi><mi mathvariant="normal">.</mi><mtext> ready</mtext><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>k</mi></mrow><mo>∧</mo><mo stretchy="false">(</mo><mi>m</mi><mspace width="0.2778em"/><mo>⟹</mo><mspace width="0.2778em"/><msup><mi>F</mi><mi>m</mi></msup><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>WaitSet</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">H</mi><mo separator="true">,</mo><mi>m</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>Open</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mtext>open</mtext><mi mathvariant="normal">_</mi><mrow><mi>k</mi><mi>j</mi></mrow><mo>←</mo><mtext mathvariant="monospace">true</mtext><mtext> </mtext><mo stretchy="false">(</mo><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>Share?</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>Share</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mi>z</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">assert</mtext><mtext> </mtext></mrow><msub><mi>Z</mi><mi>k</mi></msub><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mi>z</mi><mi mathvariant="normal">_</mi><mrow><mi>k</mi><mi>j</mi></mrow><mo>←</mo><mi>z</mi><mi mathvariant="normal">_</mi><mi>j</mi><mtext> </mtext><mo stretchy="false">(</mo><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>Share?</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>Share?</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">for</mtext><mtext> </mtext></mrow><mi>j</mi><mo>∈</mo><mi mathvariant="script">H</mi><mi mathvariant="normal">.</mi><mtext> open</mtext><mi mathvariant="normal">_</mi><mrow><mi>k</mi><mi>j</mi></mrow><mo>∧</mo><mi>z</mi><mi mathvariant="normal">_</mi><mrow><mi>k</mi><mi>j</mi></mrow><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mi>z</mi><mi mathvariant="normal">_</mi><mrow><mi>k</mi><mi>j</mi></mrow><mo>⋅</mo><mi>G</mi><mi mathvariant="normal">≠</mi><msub><mi>Z</mi><mi>k</mi></msub><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mspace width="0.5em"/><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">(</mo><mo stretchy="false">{</mo><mi>j</mi><mo stretchy="false">}</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mtext mathvariant="monospace">else</mtext><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mspace width="0.5em"/><msub><mtext>Share</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">{</mo><mi>j</mi><mo stretchy="false">}</mo><mo separator="true">,</mo><mi>z</mi><mi mathvariant="normal">_</mi><mrow><mi>k</mi><mi>j</mi></mrow><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitOpen</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mtext mathvariant="monospace">wait</mtext><mi mathvariant="normal">_</mi><mrow><mo stretchy="false">(</mo><mi>k</mi><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">M</mi><mi mathvariant="normal">.</mi><mtext> open</mtext><mi mathvariant="normal">_</mi><mrow><mi>k</mi><mi>j</mi></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mtext mathvariant="monospace">wait</mtext><mi mathvariant="normal">_</mi><mrow><mo stretchy="false">(</mo><mi>k</mi><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">H</mi><mi mathvariant="normal">.</mi><mtext> Z</mtext><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mi>r</mi><mi>j</mi></msub><mo>←</mo><mi>Z</mi><mi mathvariant="normal">_</mi><mi>j</mi><mtext> </mtext><mo stretchy="false">(</mo><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">M</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mi>r</mi><mi>j</mi></msub><mo>←</mo><mtext>Z</mtext><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo><mtext> </mtext><mo stretchy="false">(</mo><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">H</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mi>r</mi><mi mathvariant="normal">_</mi><mo>∙</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>…</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mo lspace="0em" rspace="0em">∘</mo></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>F</mi><mo stretchy="false">[</mo><mtext>SplitShare</mtext><mo stretchy="false">]</mo><mo>⊚</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Stop</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^1_H$
} = \Gamma^0_H\cr
\end{aligned}
}
}
\otimes
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{bae6fd}{\large
  $S$
}\cr
\cr
&amp;\underline{
  (1)\text{Cheat}(F):
}\cr
  &amp;\enspace
    F^m \gets F
  \cr
  &amp;\enspace
    \texttt{return } \text{Cheat}(F)
  \cr
\cr
&amp;\underline{
  (1)\text{SetCommit}_k(Z):
}\cr
  &amp;\enspace
    Z_k \gets Z
  \cr
\cr
&amp;\underline{
  \text{Commit}_k(S):
}\cr
  &amp;\enspace
    \texttt{assert } Z_k \neq \bot
  \cr
  &amp;\enspace
    \text{com}\_{kj} \gets \texttt{true}\ (\forall j \in S)
  \cr
  &amp;\enspace
    \text{Set?}_k()
  \cr
\cr
&amp;\underline{
  \text{SetMask}_k(S):
}\cr
  &amp;\enspace
    \text{ready}\_{kj} \gets \texttt{true}
  \cr
  &amp;\enspace
    \text{Set?}_k()
  \cr
\cr
&amp;\underline{
  \text{Set?}_k():
}\cr
  &amp;\enspace
    \texttt{for } j \in \mathcal{H}.\ \text{com}\_{kj} \land \text{ready}\_{kj}:
  \cr
  &amp;\enspace\enspace
    \text{Set}_k(\{j\}, \bot, Z_k)
  \cr
\cr
&amp;\underline{
  \text{WaitCommit}_k(S):
}\cr
  &amp;\enspace
    \texttt{wait}\_{(i, 0)} \forall j \in S \cap \mathcal{M}.\ \text{com}\_{jk}
  \cr
  &amp;\enspace
    \text{WaitMask}_k(S \cap \mathcal{H}, \texttt{false})
  \cr
\cr
&amp;\underline{
  \text{WaitMask}_k(S, m):
}\cr
  &amp;\enspace
    \texttt{wait}\_{(k, 0)} \forall j \in \mathcal{S} \cap \mathcal{M}.\ \text{ready}\_{jk} \land (m \implies F^m \neq \bot)
  \cr
  &amp;\enspace
    \text{WaitSet}_k(S \cap \mathcal{H}, m)
  \cr
\cr
&amp;\underline{
  \text{Open}_k(S):
}\cr
  &amp;\enspace
    \text{open}\_{kj} \gets \texttt{true}\ (\forall j \in S)
  \cr
  &amp;\enspace
    \text{Share?}_k()
  \cr
\cr
&amp;\underline{
  \text{Share}_k(S, z\_\bullet):
}\cr
  &amp;\enspace
    \texttt{assert } Z_k \neq \bot
  \cr
  &amp;\enspace
    z\_{kj} \gets z\_j \ (\forall j \in S)
  \cr
  &amp;\enspace
    \text{Share?}_k()
  \cr
\cr
&amp;\underline{
  \text{Share?}_k()
}\cr
  &amp;\enspace
    \texttt{for } j \in \mathcal{H}.\ \text{open}\_{kj} \land z\_{kj} \neq \bot:
  \cr
  &amp;\enspace\enspace
    \texttt{if } z\_{kj} \cdot G \neq Z_k:
  \cr
  &amp;\enspace\enspace\enspace
    \texttt{stop}(\{j\}, 1)
  \cr
  &amp;\enspace\enspace
    \texttt{else}:
  \cr
  &amp;\enspace\enspace\enspace
    \text{Share}_k(\{j\}, z\_{kj})
  \cr
\cr
&amp;\underline{
  \text{WaitOpen}_k(S):
}\cr
  &amp;\enspace
    \texttt{wait}\_{(k, 1)} \forall j \in S \cap \mathcal{M}.\ \text{open}\_{kj}
  \cr
  &amp;\enspace
    \texttt{wait}\_{(k, 1)} \forall j \in S \cap \mathcal{H}.\ \text{Z}(j) \neq \bot
  \cr
  &amp;\enspace
    r_j \gets Z\_j\ (\forall j \in S \cap \mathcal{M})
  \cr
  &amp;\enspace
    r_j \gets \text{Z}(j)\ (\forall j \in S \cap \mathcal{H})
  \cr
  &amp;\enspace
    \texttt{return } r\_\bullet
  \cr
\cr
&amp;\ldots
\end{aligned}
}
}
\cr
  \circ
\cr
F[\text{SplitShare}] \circledcirc F[\text{Stop}]
\end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="vertical-align:-38.3895em;height:77.279em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:38.8895em;"><span style="top:-40.8895em;"><span class="pstrut" style="height:39.6645em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5971em;"><span style="top:-4.7442em;"><span class="pstrut" style="height:4.7442em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3968em;"><span style="top:-3.3968em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8968em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3968em;"><span style="top:-3.3968em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="height:1.9936em;background-color:#FBCFE8;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-left:0em;margin-right:0.0417em;top:-2.5474em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8426em;"><span style="margin-right:0.0556em;top:-2.353em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="margin-right:0.0556em;top:-3.013em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8968em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.5971em;"><span class="pstrut" style="height:4.7442em;"></span><span class="stretchy fbox" style="height:2.7442em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.1471em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:37.6645em;"><span style="top:-76.879em;"><span class="pstrut" style="height:76.879em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:41.4717em;"><span style="top:-43.4717em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-41.9717em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-40.4717em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-38.8817em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-37.3817em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-35.8817em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-34.3817em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-32.7917em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-31.2917em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-29.7917em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-28.2017em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-26.7017em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-25.2017em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-23.7017em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-22.2017em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-20.6117em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-19.1117em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-17.6117em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-16.1117em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-14.5217em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-13.0217em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-11.5217em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-10.0217em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-8.4317em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-6.9317em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-5.4317em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-3.9317em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-2.3417em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-0.8417em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:0.6583em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:2.1583em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:3.7594em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:5.2594em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:6.7594em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:8.2594em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:9.9094em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:11.4094em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:12.9094em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:14.4094em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:15.9094em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:17.4994em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:18.9994em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:20.4994em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:21.9994em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:23.4994em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:24.9994em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:26.4994em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:28.1006em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:29.6006em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:31.1006em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:32.6006em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:34.1006em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:35.6006em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:37.1006em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:40.9717em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:41.4717em;"><span style="top:-43.4717em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2111em;"><span style="top:-3.2111em;"><span class="pstrut" style="height:3.5111em;"></span><span class="stretchy colorbox" style="height:1.5111em;background-color:#bae6fd;"></span></span><span style="top:-3.5111em;"><span class="pstrut" style="height:3.5111em;"></span><span class="mord boxpad"><span class="mord mathnormal sizing reset-size5 size7" style="margin-right:0.0576em;">S</span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3em;"><span></span></span></span></span></span></span></span><span style="top:-40.4717em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord text"><span class="mord">C</span><span class="mord">h</span><span class="mord">e</span><span class="mord">a</span><span class="mord">t</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-38.8817em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7em;"><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span></span></span><span style="top:-37.3817em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord text"><span class="mord">C</span><span class="mord">h</span><span class="mord">e</span><span class="mord">a</span><span class="mord">t</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mclose">)</span></span></span><span style="top:-34.3817em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-32.7917em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:-0.0715em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span></span></span><span style="top:-29.7917em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-28.2017em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">assert </span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-left:-0.0715em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:-26.7017em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord">c</span><span class="mord">o</span><span class="mord">m</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">kj</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord texttt">true</span></span><span class="mspace"> </span><span class="mopen">(</span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span></span></span><span style="top:-25.2017em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">?</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span></span></span><span style="top:-22.2017em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">M</span><span class="mord">a</span><span class="mord">s</span><span class="mord">k</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-20.6117em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord">r</span><span class="mord">e</span><span class="mord">a</span><span class="mord">d</span><span class="mord">y</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">kj</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord texttt">true</span></span></span></span><span style="top:-19.1117em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">?</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span></span></span><span style="top:-16.1117em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">?</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-14.5217em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">for </span></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mord">.</span><span class="mspace"> </span><span class="mord text"><span class="mord">c</span><span class="mord">o</span><span class="mord">m</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">kj</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">r</span><span class="mord">e</span><span class="mord">a</span><span class="mord">d</span><span class="mord">y</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">kj</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:-13.0217em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">({</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">}</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">⊥</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;margin-left:-0.0715em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-10.0217em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-8.4317em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">wait</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal">M</span><span class="mord">.</span><span class="mspace"> </span><span class="mord text"><span class="mord">c</span><span class="mord">o</span><span class="mord">m</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0315em;">jk</span></span></span></span><span style="top:-6.9317em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">M</span><span class="mord">a</span><span class="mord">s</span><span class="mord">k</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord texttt">false</span></span><span class="mclose">)</span></span></span><span style="top:-3.9317em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">M</span><span class="mord">a</span><span class="mord">s</span><span class="mord">k</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-2.3417em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">wait</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0315em;">k</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathcal" style="margin-right:0.075em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal">M</span><span class="mord">.</span><span class="mspace"> </span><span class="mord text"><span class="mord">r</span><span class="mord">e</span><span class="mord">a</span><span class="mord">d</span><span class="mord">y</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0315em;">jk</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7em;"><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mclose">)</span></span></span><span style="top:-0.8417em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mclose">)</span></span></span><span style="top:2.1583em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.5789em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2019em;"><span style="margin-right:0.0556em;top:-2.3389em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4611em;"><span></span></span></span></span></span></span></span><span style="top:3.7594em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord">o</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">kj</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord texttt">true</span></span><span class="mspace"> </span><span class="mopen">(</span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span></span></span><span style="top:5.2594em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span><span class="mord">?</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span></span></span><span style="top:8.2594em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.53em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.51em;"><span></span></span></span></span></span></span></span><span style="top:9.9094em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">assert </span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:-0.0715em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:11.4094em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">kj</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace"> </span><span class="mopen">(</span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span></span></span><span style="top:12.9094em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span><span class="mord">?</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span></span></span><span style="top:15.9094em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span><span class="mord">?</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:17.4994em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">for </span></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mord">.</span><span class="mspace"> </span><span class="mord text"><span class="mord">o</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">kj</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">kj</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:18.9994em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">kj</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">G</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-left:-0.0715em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:20.4994em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mopen">({</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">}</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span><span style="top:21.9994em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">else</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:23.4994em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">({</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">}</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">kj</span></span><span class="mclose">)</span></span></span><span style="top:26.4994em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.5789em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2019em;"><span style="top:-2.3389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4611em;"><span></span></span></span></span></span></span></span><span style="top:28.1006em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">wait</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0315em;">k</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal">M</span><span class="mord">.</span><span class="mspace"> </span><span class="mord text"><span class="mord">o</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">kj</span></span></span></span><span style="top:29.6006em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">wait</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0315em;">k</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mord">.</span><span class="mspace"> </span><span class="mord text"><span class="mord">Z</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:31.1006em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0278em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:-0.0278em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace"> </span><span class="mopen">(</span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal">M</span><span class="mclose">)</span></span></span><span style="top:32.6006em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0278em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:-0.0278em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord">Z</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">)</span><span class="mspace"> </span><span class="mopen">(</span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mclose">)</span></span></span><span style="top:34.1006em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord mathnormal" style="margin-right:0.0278em;">r</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span></span></span><span style="top:37.1006em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:40.9717em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-39.6645em;"><span class="pstrut" style="height:76.879em;"></span><span class="stretchy fbox" style="border-style:solid;height:74.879em;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:37.2145em;"><span></span></span></span></span></span></span></span><span style="top:-2.835em;"><span class="pstrut" style="height:39.6645em;"></span><span class="mord"><span class="mord">∘</span></span></span><span style="top:-1.635em;"><span class="pstrut" style="height:39.6645em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">p</span><span class="mord">l</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin amsrm">⊚</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">o</span><span class="mord">p</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:38.3895em;"><span></span></span></span></span></span></span></span></span></span></span></span></span>
<p>This is quite similar to the previous simulator we had,
where we try and aggregate all of the malicious contributions
into a single one.</p>
<p><span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">■</mi></mrow><annotation encoding="application/x-tex">\blacksquare</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.675em;"></span><span class="mord amsrm">■</span></span></span></span></span></p>
<h1>Key Generation</h1>
<p>Finally, we apply these ideas to key generation.
The basic idea is to do key sharing, but with a random additive share.</p>
<p><strong>Definition (Key Generation):</strong></p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="true"><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mpadded height="+6pt" voffset="3pt" mathbackground="#FBCFE8" width="+6pt" lspace="3pt"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>SplitGen</mtext><mo stretchy="false">]</mo></mstyle><mtext> </mtext></mstyle></mpadded></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded height="+6pt" width="+6pt" voffset="3pt" lspace="3pt" mathbackground="#FBCFE8"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><msub><mi>P</mi><mi>i</mi></msub></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>Set</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mi>z</mi><mover><mo minsize="1.75em" stretchy="true">←</mo><mpadded width="+0.6em" lspace="0.3em"><mi mathvariant="normal">$</mi></mpadded></mover><msub><mi mathvariant="double-struck">F</mi><mi>q</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>Set</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mi>z</mi><mo separator="true">,</mo><mi mathvariant="normal">⊥</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitSet</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>WaitSet</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mtext mathvariant="monospace">true</mtext><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>Share</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>Share</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitShare</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><msub><mtext>WaitShare</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mtext mathvariant="monospace">true</mtext><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></menclose><mo>⊲</mo><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>SplitShare</mtext><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\boxed{
\begin{matrix}
\colorbox{FBCFE8}{\large
  $\mathscr{P}[\text{SplitGen}]$
}\cr
\cr
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $P_i$
}\cr
\cr
&amp;\underline{
  (1)\text{Set}_i():
}\cr
  &amp;\enspace
    z \xleftarrow{\$} \mathbb{F}_q
  \cr
  &amp;\enspace
    \text{Set}_i(\star, z, \bot)
  \cr
\cr
&amp;\underline{
  \text{WaitSet}_i():
}\cr
  &amp;\enspace
    \text{WaitSet}_i(\star, \texttt{true})
  \cr
\cr
&amp;\underline{
  (1)\text{Share}_i():
}\cr
  &amp;\enspace
    \text{Share}_i(\star)
  \cr
\cr
&amp;\underline{
  \text{WaitShare}_i():
}\cr
  &amp;\enspace
    \texttt{return } \text{WaitShare}_i(\texttt{true})
  \cr
\cr
\end{aligned}
}
}
\end{matrix}
}
\lhd \mathscr{P}[\text{SplitShare}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:25.6478em;vertical-align:-12.5739em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:13.0739em;"><span style="top:-27.6478em;"><span class="pstrut" style="height:27.6478em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:12.7339em;"><span style="top:-24.7428em;"><span class="pstrut" style="height:13.2089em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2em;"><span style="top:-3.2em;"><span class="pstrut" style="height:3.8em;"></span><span class="stretchy colorbox" style="background-color:#FBCFE8;height:1.8em;"></span></span><span style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord boxpad"><span class="mord mathscr sizing reset-size6 size7" style="margin-right:0.0808em;">P</span><span class="mopen sizing reset-size6 size7">[</span><span class="mord text sizing reset-size6 size7"><span class="mord">S</span><span class="mord">p</span><span class="mord">l</span><span class="mord">i</span><span class="mord">t</span><span class="mord">G</span><span class="mord">e</span><span class="mord">n</span></span><span class="mclose sizing reset-size6 size7">]</span><span class="mord sizing reset-size6 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6em;"><span></span></span></span></span></span></span></span><span style="top:-23.3028em;"><span class="pstrut" style="height:13.2089em;"></span><span class="mord"></span></span><span style="top:-11.7339em;"><span class="pstrut" style="height:13.2089em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:11.2089em;"><span style="top:-23.9678em;"><span class="pstrut" style="height:23.9678em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:12.0766em;"><span style="top:-14.0766em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-12.4366em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-10.9366em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-9.0646em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-7.5646em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-6.0646em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-4.5646em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-2.9746em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-1.4746em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:0.0254em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:1.6154em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:3.1154em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:4.6154em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:6.2054em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:7.7054em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:11.5766em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:12.0766em;"><span style="top:-14.0766em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2111em;"><span style="top:-3.2111em;"><span class="pstrut" style="height:3.7111em;"></span><span class="stretchy colorbox" style="background-color:#FBCFE8;height:1.7111em;"></span></span><span style="top:-3.7111em;"><span class="pstrut" style="height:3.7111em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord mathnormal" style="margin-right:0.1389em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0417em;margin-left:-0.1389em;top:-2.65em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5em;"><span></span></span></span></span></span></span></span><span style="top:-10.9366em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-9.0646em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.122em;"><span style="top:-3.222em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mtight">$</span></span></span></span><span style="top:-2.589em;"><span class="pstrut" style="height:2.6em;"></span><span class="hide-tail" style="min-width:1.469em;height:0.522em;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400000 522" preserveAspectRatio="xMinYMin slice" width="400em" height="0.522em"><path d="M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.011em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathbb">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.137em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0359em;">q</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span></span></span><span style="top:-7.5646em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">⊥</span><span class="mclose">)</span></span></span><span style="top:-4.5646em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-2.9746em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord texttt">true</span></span><span class="mclose">)</span></span></span><span style="top:0.0254em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:1.6154em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mclose">)</span></span></span><span style="top:4.6154em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:6.2054em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord text"><span class="mord texttt">true</span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:10.0766em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-13.2089em;"><span class="pstrut" style="height:23.9678em;"></span><span class="stretchy fbox" style="border-style:solid;border-width:0.04em;height:21.9678em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:10.7589em;"><span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:12.2339em;"><span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-15.0739em;"><span class="pstrut" style="height:27.6478em;"></span><span class="stretchy fbox" style="height:25.6478em;border-width:0.04em;border-style:solid;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:12.5739em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin amsrm">⊲</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">p</span><span class="mord">l</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="mclose">]</span></span></span></span></span></span>
<p><span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">□</mi></mrow><annotation encoding="application/x-tex">\square</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.675em;"></span><span class="mord amsrm">□</span></span></span></span></span></p>
<p>The main interest in doing this is that we get a slightly
more succinct ideal functionality out of it.</p>
<p>The idea here is that we have a random polynomial
<span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>f</mi><mi>h</mi></msup></mrow><annotation encoding="application/x-tex">f^h</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0435em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1076em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span></span></span></span></span>, which includes the secret value,
and the adversary can also add a tweak polynomial <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>f</mi><mi>m</mi></msup></mrow><annotation encoding="application/x-tex">f^m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1076em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="margin-right:0.05em;top:-3.063em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span></span></span></span></span>,
This tweak also doesn't bias the distribution, because it has to be committed
to in advance, via <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>f</mi><mi>m</mi></msup><mo>⋅</mo><mi>G</mi></mrow><annotation encoding="application/x-tex">f^m \cdot G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1076em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">G</span></span></span></span></span>.</p>
<p><strong>Definition (Ideal Key Generation):</strong></p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="true" scriptlevel="0"><mtable columnspacing="1em" rowspacing="0.16em" columnalign="center"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mpadded width="+6pt" voffset="3pt" lspace="3pt" mathbackground="#FBCFE8" height="+6pt"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>IdealSplitGen</mtext><mo stretchy="false">]</mo></mstyle><mtext> </mtext></mstyle></mpadded></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="true" scriptlevel="0"><mstyle mathsize="0.9em"><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded height="+6pt" width="+6pt" voffset="3pt" mathbackground="#FBCFE8" lspace="3pt"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><msub><mi>P</mi><mi>i</mi></msub></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>Set</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>z</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>Set</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitSet</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>WaitSet</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mtext mathvariant="monospace">true</mtext><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>Share</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>Share</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitShare</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><msub><mtext>WaitShare</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mtext mathvariant="monospace">true</mtext><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mspace width="1em"/><mtable columnalign="center" rowspacing="0.16em" columnspacing="1em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="true" scriptlevel="0"><mstyle mathsize="0.9em"><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded width="+6pt" lspace="3pt" mathbackground="#FBCFE8" height="+6pt" voffset="3pt"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><mi>F</mi><mo stretchy="false">[</mo><mtext>SplitGen</mtext><mo stretchy="false">]</mo></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><msup><mi>f</mi><mi>h</mi></msup><mover><mo stretchy="true" minsize="1.75em">←</mo><mpadded width="+0.6em" lspace="0.3em"><mi mathvariant="normal">$</mi></mpadded></mover><msub><mi mathvariant="double-struck">F</mi><mi>q</mi></msub><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo><mi mathvariant="normal">_</mi><mrow><mo>≤</mo><mi>t</mi><mo>−</mo><mn>1</mn></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msup><mi>F</mi><mi>m</mi></msup><mo separator="true">,</mo><mtext>ready</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo separator="true">,</mo><msub><mi>x</mi><mi>j</mi></msub><mo>←</mo><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>Set</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mtext>ready</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><mtext mathvariant="monospace">true</mtext><mtext> </mtext><mo stretchy="false">(</mo><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mstyle mathcolor="#ef4444"><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><mtext>Cheat</mtext><mo stretchy="false">(</mo><mi>F</mi><mo stretchy="false">)</mo><mo>:</mo></mstyle><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">assert</mtext><mtext> </mtext></mrow><mtext>deg</mtext><mo stretchy="false">(</mo><mi>F</mi><mo stretchy="false">)</mo><mo>=</mo><mi>t</mi><mo>−</mo><mn>1</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msup><mi>F</mi><mi>m</mi></msup><mo>←</mo><mi>F</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitSet</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mi>m</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mtext mathvariant="monospace">wait</mtext><mi mathvariant="normal">_</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mi mathvariant="normal">.</mi><mtext> ready</mtext><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>i</mi></mrow><mo>∧</mo><mo stretchy="false">(</mo><mi>m</mi><mo>→</mo><msup><mi>F</mi><mi>m</mi></msup><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>Share</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mtext>shared</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><mtext mathvariant="monospace">true</mtext><mtext> </mtext><mo stretchy="false">(</mo><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mstyle mathcolor="#ef4444"><mtext>CheatShare</mtext><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mi>z</mi><mo separator="true">,</mo><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><mo stretchy="false">)</mo><mo>:</mo></mstyle><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">assert</mtext><mtext> </mtext></mrow><msup><mi>F</mi><mi>m</mi></msup><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">assert</mtext><mtext> </mtext></mrow><mi>z</mi><mo>⋅</mo><mi>G</mi><mo>=</mo><msup><mi>F</mi><mi>m</mi></msup><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">assert</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mi mathvariant="normal">.</mi><mtext> </mtext><msub><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi>j</mi></msub><mo>⋅</mo><mi>G</mi><mo>=</mo><msup><mi>F</mi><mi>m</mi></msup><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">for</mtext><mtext> </mtext></mrow><mi>j</mi><mo>∈</mo><mi>S</mi><mi mathvariant="normal">.</mi><mtext> </mtext><msub><mi>x</mi><mi>j</mi></msub><mo>=</mo><mi mathvariant="normal">⊥</mi><mo>:</mo><msub><mi>x</mi><mi>j</mi></msub><mo>←</mo><msub><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi>j</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitShare</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>h</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mi>h</mi><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mtext mathvariant="monospace">wait</mtext><mi mathvariant="normal">_</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><msub><mi>x</mi><mi>i</mi></msub><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo>∧</mo><mi mathvariant="normal">∀</mi><mi>j</mi><mi mathvariant="normal">.</mi><mtext>shared</mtext><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>i</mi></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><msup><mi>f</mi><mi>h</mi></msup><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo><mo>+</mo><msub><mi>x</mi><mi>i</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mtext mathvariant="monospace">else</mtext><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mtext mathvariant="monospace">wait</mtext><mi mathvariant="normal">_</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi mathvariant="script">H</mi><mi mathvariant="normal">.</mi><mtext>shared</mtext><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>i</mi></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><msup><mi>f</mi><mi>h</mi></msup><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mstyle mathcolor="#ef4444"><msup><mtext>F</mtext><mi>h</mi></msup><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mstyle><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">wait</mtext><mtext> </mtext></mrow><msup><mi>F</mi><mi>m</mi></msup><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo>∧</mo><mi mathvariant="normal">∀</mi><mi>i</mi><mi mathvariant="normal">.</mi><mtext> </mtext><mi mathvariant="normal">∃</mi><mi>j</mi><mi mathvariant="normal">.</mi><mtext> ready</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><msup><mi>f</mi><mi>h</mi></msup><mo>⋅</mo><mi>G</mi></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⊚</mo></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>F</mi><mo stretchy="false">[</mo><mtext>Stop</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Leakage</mtext><mo>:</mo><mo>=</mo><mo stretchy="false">{</mo><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">}</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></menclose></mrow><annotation encoding="application/x-tex">\boxed{
\begin{matrix}
\colorbox{FBCFE8}{\large
  $\mathscr{P}[\text{IdealSplitGen}]$
}\cr
\cr
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $P_i$
}\cr
\cr
&amp;\underline{
  (1)\text{Set}_i(z):
}\cr
  &amp;\enspace
    \text{Set}_i(\star)
  \cr
\cr
&amp;\underline{
  \text{WaitSet}_i():
}\cr
  &amp;\enspace
    \text{WaitSet}_i(\star, \texttt{true})
  \cr
\cr
&amp;\underline{
  (1)\text{Share}_i():
}\cr
  &amp;\enspace
    \text{Share}_i(\star)
  \cr
\cr
&amp;\underline{
  \text{WaitShare}_i():
}\cr
  &amp;\enspace
    \texttt{return } \text{WaitShare}_i(\texttt{true})
  \cr
\end{aligned}
}
}
\quad
\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $F[\text{SplitGen}]$
}\cr
\cr
&amp;f^h \xleftarrow{\$} \mathbb{F}_q[X]\_{\leq t - 1}\cr
&amp;F^m, \text{ready}\_{ij}, x_j \gets \bot\cr
\cr
&amp;\underline{
  \text{Set}_i(S):
}\cr
  &amp;\enspace
    \text{ready}\_{ij} \gets \texttt{true}\ (\forall j \in S)
  \cr
\cr
&amp;\underline{
\textcolor{ef4444}{
  (1)\text{Cheat}(F):
}
}\cr
  &amp;\enspace
    \texttt{assert } \text{deg}(F) = t - 1
  \cr
  &amp;\enspace
    F^m \gets F
  \cr
\cr
&amp;\underline{
  \text{WaitSet}_i(S, m):
}\cr
  &amp;\enspace
    \texttt{wait}\_{(i, 0)} \forall j \in S.\ \text{ready}\_{ji} \land (m \to F^m \neq \bot)
  \cr
\cr
&amp;\underline{
  \text{Share}_i(S):
}\cr
  &amp;\enspace
    \text{shared}\_{ij} \gets \texttt{true}\ (\forall j \in S)
  \cr
\cr
&amp;\underline{
\textcolor{ef4444}{
  \text{CheatShare}(S, z, \hat{x}\_\bullet):
}
}\cr
  &amp;\enspace
    \texttt{assert } F^m \neq \bot
  \cr
  &amp;\enspace
    \texttt{assert } z \cdot G = F^m(0)
  \cr
  &amp;\enspace
    \texttt{assert } \forall j \in S.\ \hat{x}_j \cdot G = F^m(j)
  \cr
  &amp;\enspace
    \texttt{for } j \in S.\ x_j = \bot: x_j \gets \hat{x}_j
  \cr
\cr
&amp;\underline{
  \text{WaitShare}_i(h):
}\cr
  &amp;\enspace
    \texttt{if } h:
  \cr
  &amp;\enspace\enspace
    \texttt{wait}\_{(i, 1)} x_i \neq \bot \land \forall j. \text{shared}\_{ji}
  \cr
  &amp;\enspace\enspace
    \texttt{return } f^h(i) + x_i
  \cr
  &amp;\enspace
    \texttt{else}:
  \cr
  &amp;\enspace\enspace
    \texttt{wait}\_{(i, 1)} \forall j \in \mathcal{H}. \text{shared}\_{ji}
  \cr
  &amp;\enspace\enspace
    \texttt{return } f^h(i)
  \cr
\cr
&amp;\underline{
\textcolor{ef4444}{
  \text{F}^h():
}
}\cr
  &amp;\enspace
    \texttt{wait } F^m \neq \bot \land \forall i.\ \exists j.\ \text{ready}\_{ij}
  \cr
  &amp;\enspace
    \texttt{return } f^h \cdot G
  \cr
\end{aligned}
}
}\cr
\circledcirc \cr
F[\text{Stop}]
\end{matrix}\cr
\cr
\text{Leakage} := \{\texttt{stop}\}
\end{matrix}
}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:58.0743em;vertical-align:-28.7871em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:29.2871em;"><span style="top:-60.0743em;"><span class="pstrut" style="height:60.0743em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:28.9471em;"><span style="top:-55.9943em;"><span class="pstrut" style="height:28.2471em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2em;"><span style="top:-3.2em;"><span class="pstrut" style="height:3.8em;"></span><span class="stretchy colorbox" style="height:1.8em;background-color:#FBCFE8;"></span></span><span style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord boxpad"><span class="mord mathscr sizing reset-size6 size7" style="margin-right:0.0808em;">P</span><span class="mopen sizing reset-size6 size7">[</span><span class="mord text sizing reset-size6 size7"><span class="mord">I</span><span class="mord">d</span><span class="mord">e</span><span class="mord">a</span><span class="mord">l</span><span class="mord">S</span><span class="mord">p</span><span class="mord">l</span><span class="mord">i</span><span class="mord">t</span><span class="mord">G</span><span class="mord">e</span><span class="mord">n</span></span><span class="mclose sizing reset-size6 size7">]</span><span class="mord sizing reset-size6 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6em;"><span></span></span></span></span></span></span></span><span style="top:-54.5543em;"><span class="pstrut" style="height:28.2471em;"></span><span class="mord"></span></span><span style="top:-27.9471em;"><span class="pstrut" style="height:28.2471em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:9.732em;"><span style="top:-21.014em;"><span class="pstrut" style="height:21.014em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:10.4356em;"><span style="top:-12.4356em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-10.7956em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-9.2956em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-7.7056em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-6.2056em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-4.7056em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-3.1156em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-1.6156em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-0.1156em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:1.4744em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:2.9744em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:4.4744em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:6.0644em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:9.9356em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:10.4356em;"><span style="top:-12.4356em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2111em;"><span style="top:-3.2111em;"><span class="pstrut" style="height:3.7111em;"></span><span class="stretchy colorbox" style="height:1.7111em;background-color:#FBCFE8;"></span></span><span style="top:-3.7111em;"><span class="pstrut" style="height:3.7111em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord mathnormal" style="margin-right:0.1389em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:-0.1389em;margin-right:0.0417em;top:-2.65em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5em;"><span></span></span></span></span></span></span></span><span style="top:-9.2956em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-7.7056em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mclose">)</span></span></span><span style="top:-4.7056em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-3.1156em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord texttt">true</span></span><span class="mclose">)</span></span></span><span style="top:-0.1156em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:1.4744em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mclose">)</span></span></span><span style="top:4.4744em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:6.0644em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord text"><span class="mord texttt">true</span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:9.9356em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-11.732em;"><span class="pstrut" style="height:21.014em;"></span><span class="stretchy fbox" style="border-width:0.04em;border-style:solid;height:19.014em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:9.282em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:26.2471em;"><span style="top:-28.2471em;"><span class="pstrut" style="height:27.0221em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:25.0221em;"><span style="top:-51.5943em;"><span class="pstrut" style="height:51.5943em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:27.4246em;"><span style="top:-29.4246em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-27.6513em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-25.8693em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-24.3693em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-22.8693em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-21.3693em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-19.7793em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-18.2793em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-16.7793em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-15.1893em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-13.6893em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-12.1893em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-10.6893em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-9.0993em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-7.5993em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-6.0993em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-4.5093em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-3.0093em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-1.5093em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:0.1407em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:1.6407em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:3.1407em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:4.6407em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:6.1407em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:7.6407em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:9.2307em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:10.7307em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:12.2667em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:13.7667em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:15.2667em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:16.8027em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:18.3027em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:19.8386em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:21.4286em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:22.9646em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:26.9246em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:27.4246em;"><span style="top:-29.4246em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3em;"><span style="top:-3.3em;"><span class="pstrut" style="height:3.9333em;"></span><span class="stretchy colorbox" style="background-color:#FBCFE8;height:1.9333em;"></span></span><span style="top:-3.9333em;"><span class="pstrut" style="height:3.9333em;"></span><span class="mord boxpad"><span class="mord mathnormal sizing reset-size5 size7" style="margin-right:0.1389em;">F</span><span class="mopen sizing reset-size5 size7">[</span><span class="mord text sizing reset-size5 size7"><span class="mord">S</span><span class="mord">p</span><span class="mord">l</span><span class="mord">i</span><span class="mord">t</span><span class="mord">G</span><span class="mord">e</span><span class="mord">n</span></span><span class="mclose sizing reset-size5 size7">]</span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6333em;"><span></span></span></span></span></span></span></span><span style="top:-25.8693em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1076em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.876em;"><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.122em;"><span style="top:-3.222em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mtight">$</span></span></span></span><span style="top:-2.589em;"><span class="pstrut" style="height:2.6em;"></span><span class="hide-tail" style="height:0.522em;min-width:1.469em;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400000 522" width="400em" height="0.522em" preserveAspectRatio="xMinYMin slice"><path d="M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.011em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathbb">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.137em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0359em;">q</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.0785em;">X</span><span class="mclose">]</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span></span></span></span><span style="top:-24.3693em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7em;"><span style="margin-right:0.0556em;top:-3.013em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord">r</span><span class="mord">e</span><span class="mord">a</span><span class="mord">d</span><span class="mord">y</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:-21.3693em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-19.7793em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord">r</span><span class="mord">e</span><span class="mord">a</span><span class="mord">d</span><span class="mord">y</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord texttt">true</span></span><span class="mspace"> </span><span class="mopen">(</span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span></span></span><span style="top:-16.7793em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen" style="color:#ef4444;">(</span><span class="mord" style="color:#ef4444;">1</span><span class="mclose" style="color:#ef4444;">)</span><span class="mord text" style="color:#ef4444;"><span class="mord" style="color:#ef4444;">C</span><span class="mord" style="color:#ef4444;">h</span><span class="mord" style="color:#ef4444;">e</span><span class="mord" style="color:#ef4444;">a</span><span class="mord" style="color:#ef4444;">t</span></span><span class="mopen" style="color:#ef4444;">(</span><span class="mord mathnormal" style="margin-right:0.1389em;color:#ef4444;">F</span><span class="mclose" style="color:#ef4444;">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel" style="color:#ef4444;">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-15.1893em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">assert </span></span><span class="mord text"><span class="mord">d</span><span class="mord">e</span><span class="mord">g</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span></span></span><span style="top:-13.6893em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7em;"><span style="margin-right:0.0556em;top:-3.013em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span></span></span><span style="top:-10.6893em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-9.0993em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">wait</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mord">.</span><span class="mspace"> </span><span class="mord text"><span class="mord">r</span><span class="mord">e</span><span class="mord">a</span><span class="mord">d</span><span class="mord">y</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">ji</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7em;"><span style="margin-right:0.0556em;top:-3.013em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mclose">)</span></span></span><span style="top:-6.0993em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-4.5093em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord">s</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span><span class="mord">d</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord texttt">true</span></span><span class="mspace"> </span><span class="mopen">(</span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span></span></span><span style="top:-1.5093em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.53em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text" style="color:#ef4444;"><span class="mord" style="color:#ef4444;">C</span><span class="mord" style="color:#ef4444;">h</span><span class="mord" style="color:#ef4444;">e</span><span class="mord" style="color:#ef4444;">a</span><span class="mord" style="color:#ef4444;">t</span><span class="mord" style="color:#ef4444;">S</span><span class="mord" style="color:#ef4444;">h</span><span class="mord" style="color:#ef4444;">a</span><span class="mord" style="color:#ef4444;">r</span><span class="mord" style="color:#ef4444;">e</span></span><span class="mopen" style="color:#ef4444;">(</span><span class="mord mathnormal" style="margin-right:0.0576em;color:#ef4444;">S</span><span class="mpunct" style="color:#ef4444;">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.044em;color:#ef4444;">z</span><span class="mpunct" style="color:#ef4444;">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent" style="color:#ef4444;"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal" style="color:#ef4444;">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord" style="color:#ef4444;">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;color:#ef4444;">_</span><span class="mord" style="color:#ef4444;">∙</span><span class="mclose" style="color:#ef4444;">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel" style="color:#ef4444;">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.51em;"><span></span></span></span></span></span></span></span><span style="top:0.1407em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">assert </span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7em;"><span style="margin-right:0.0556em;top:-3.013em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:1.6407em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">assert </span></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">G</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7em;"><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span></span></span><span style="top:3.1407em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">assert </span></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mord">.</span><span class="mspace"> </span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">G</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7em;"><span style="margin-right:0.0556em;top:-3.013em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">)</span></span></span><span style="top:4.6407em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">for </span></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mord">.</span><span class="mspace"> </span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span></span></span><span style="top:7.6407em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">h</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:9.2307em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:10.7307em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">wait</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:0em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord">.</span><span class="mord text"><span class="mord">s</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span><span class="mord">d</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">ji</span></span></span></span><span style="top:12.2667em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1076em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.876em;"><span style="margin-right:0.0556em;top:-3.013em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:0em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:13.7667em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">else</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:15.2667em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">wait</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mord">.</span><span class="mord text"><span class="mord">s</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span><span class="mord">d</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">ji</span></span></span></span><span style="top:16.8027em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1076em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.876em;"><span style="margin-right:0.0556em;top:-3.013em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span></span></span><span style="top:19.8386em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.876em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="color:#ef4444;"><span class="mord text" style="color:#ef4444;"><span class="mord" style="color:#ef4444;">F</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.876em;"><span style="margin-right:0.0556em;top:-3.013em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight" style="color:#ef4444;"><span class="mord mathnormal mtight" style="color:#ef4444;">h</span></span></span></span></span></span></span></span><span class="mopen" style="color:#ef4444;">(</span><span class="mclose" style="color:#ef4444;">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel" style="color:#ef4444;">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:21.4286em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">wait </span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7em;"><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">∀</span><span class="mord mathnormal">i</span><span class="mord">.</span><span class="mspace"> </span><span class="mord">∃</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord">.</span><span class="mspace"> </span><span class="mord text"><span class="mord">r</span><span class="mord">e</span><span class="mord">a</span><span class="mord">d</span><span class="mord">y</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span></span></span><span style="top:22.9646em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1076em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.876em;"><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">G</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:26.9246em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-27.0221em;"><span class="pstrut" style="height:51.5943em;"></span><span class="stretchy fbox" style="border-width:0.04em;border-style:solid;height:49.5943em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:24.5721em;"><span></span></span></span></span></span></span></span><span style="top:-2.835em;"><span class="pstrut" style="height:27.0221em;"></span><span class="mord"><span class="mord amsrm">⊚</span></span></span><span style="top:-1.635em;"><span class="pstrut" style="height:27.0221em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">o</span><span class="mord">p</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:25.7471em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-1.36em;"><span class="pstrut" style="height:28.2471em;"></span><span class="mord"></span></span><span style="top:-0.16em;"><span class="pstrut" style="height:28.2471em;"></span><span class="mord"><span class="mord text"><span class="mord">L</span><span class="mord">e</span><span class="mord">a</span><span class="mord">k</span><span class="mord">a</span><span class="mord">g</span><span class="mord">e</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">{</span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mclose">}</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:28.4471em;"><span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-31.2871em;"><span class="pstrut" style="height:60.0743em;"></span><span class="stretchy fbox" style="border-style:solid;border-width:0.04em;height:58.0743em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:28.7871em;"><span></span></span></span></span></span></span></span></span></span></span>
<p><strong>Lemma:</strong></p>
<p>For some negligible <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding="application/x-tex">\epsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">ϵ</span></span></span></span></span>, and up to <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">t - 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6984em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></span> corrupt parties, we have:</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>SplitGen</mtext><mo stretchy="false">]</mo><mo>⊲</mo><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>SplitShare</mtext><mo stretchy="false">]</mo><mo><mover><mo><mo>⇝</mo></mo><mi>ϵ</mi></mover></mo><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>IdealSplitGen</mtext><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\mathscr{P}[\text{SplitGen}] \lhd \mathcal{P}[\text{SplitShare}] \overset{\epsilon}{\leadsto} \mathscr{P}[\text{IdealSplitGen}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="vertical-align:-0.25em;height:1em;"></span><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">p</span><span class="mord">l</span><span class="mord">i</span><span class="mord">t</span><span class="mord">G</span><span class="mord">e</span><span class="mord">n</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin amsrm">⊲</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.2293em;vertical-align:-0.25em;"></span><span class="mord mathcal" style="margin-right:0.0822em;">P</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">p</span><span class="mord">l</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mop op-limits"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9793em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop amsrm">⇝</span></span></span><span style="margin-left:0em;top:-3.5779em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">ϵ</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="vertical-align:-0.25em;height:1em;"></span><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="mopen">[</span><span class="mord text"><span class="mord">I</span><span class="mord">d</span><span class="mord">e</span><span class="mord">a</span><span class="mord">l</span><span class="mord">S</span><span class="mord">p</span><span class="mord">l</span><span class="mord">i</span><span class="mord">t</span><span class="mord">G</span><span class="mord">e</span><span class="mord">n</span></span><span class="mclose">]</span></span></span></span></span></span>
<p><strong>Proof</strong></p>
<p>First, we can jump to a protocol where <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>SplitShare</mtext><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\mathcal{P}[\text{SplitShare}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathcal" style="margin-right:0.0822em;">P</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">p</span><span class="mord">l</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="mclose">]</span></span></span></span></span> has been replaced with <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>IdealSplitShare</mtext><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\mathcal{P}[\text{IdealSplitShare}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="vertical-align:-0.25em;height:1em;"></span><span class="mord mathcal" style="margin-right:0.0822em;">P</span><span class="mopen">[</span><span class="mord text"><span class="mord">I</span><span class="mord">d</span><span class="mord">e</span><span class="mord">a</span><span class="mord">l</span><span class="mord">S</span><span class="mord">p</span><span class="mord">l</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="mclose">]</span></span></span></span></span>, and then appeal to a direct simulation:</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable columnalign="right left" rowspacing="0.25em" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded height="+6pt" width="+6pt" voffset="3pt" mathbackground="#FBCFE8" lspace="3pt"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>0</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded><mo>…</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mo>⊗</mo><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="true" scriptlevel="0"><mstyle mathsize="0.9em"><mtable columnspacing="0em" rowspacing="0.25em" columnalign="right left"><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded height="+6pt" voffset="3pt" lspace="3pt" width="+6pt" mathbackground="#bae6fd"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><mi>S</mi></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msub><mover accent="true"><mi>Z</mi><mo>^</mo></mover><mi>i</mi></msub><mover><mo minsize="1.75em" stretchy="true">←</mo><mpadded width="+0.6em" lspace="0.3em"><mi mathvariant="normal">$</mi></mpadded></mover><mi mathvariant="double-struck">G</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><msup><mi>F</mi><mi>m</mi></msup><mo separator="true">,</mo><msub><mi>Z</mi><mi>k</mi></msub><mo separator="true">,</mo><msub><mi>z</mi><mi>k</mi></msub><mo separator="true">,</mo><msub><mi>x</mi><mi>i</mi></msub><mo>←</mo><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>Set</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mi>z</mi><mo separator="true">,</mo><mi>Z</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>Set</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">assert</mtext><mtext> </mtext></mrow><mi>z</mi><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo>∨</mo><mi>Z</mi><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><msub><mi>z</mi><mi>k</mi></msub><mo separator="true">,</mo><msub><mi>Z</mi><mi>k</mi></msub><mo>=</mo><mi mathvariant="normal">⊥</mi><mo>∧</mo><mi>z</mi><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><msub><mi>z</mi><mi>k</mi></msub><mo>←</mo><mi>z</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><msub><mi>Z</mi><mi>k</mi></msub><mo>←</mo><mi>z</mi><mo>⋅</mo><mi>G</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">elif</mtext><mtext> </mtext></mrow><msub><mi>Z</mi><mi>k</mi></msub><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo>∧</mo><mi>Z</mi><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo>:</mo><mtext> </mtext><msub><mi>Z</mi><mi>k</mi></msub><mo>←</mo><mi>Z</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mtext>Cheat?</mtext><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><mtext>Cheat</mtext><mo stretchy="false">(</mo><mi>F</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">assert</mtext><mtext> </mtext></mrow><mi>F</mi><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn><mo>∧</mo><mtext>deg</mtext><mo stretchy="false">(</mo><mi>F</mi><mo stretchy="false">)</mo><mo>=</mo><mi>t</mi><mo>−</mo><mn>1</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msup><mi>F</mi><mi>m</mi></msup><mo>←</mo><mi>F</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mtext>Cheat?</mtext><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><mtext>Cheat?</mtext><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∀</mi><mi>k</mi><mi mathvariant="normal">.</mi><mtext> </mtext><msub><mi>Z</mi><mi>k</mi></msub><mo separator="true">,</mo><msup><mi>F</mi><mi>m</mi></msup><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mtext>Cheat</mtext><mo stretchy="false">(</mo><msup><mi>F</mi><mi>m</mi></msup><mo>+</mo><mo>∑</mo><mi mathvariant="normal">_</mi><mrow><mi>k</mi><mo>∈</mo><mi mathvariant="script">M</mi></mrow><msub><mi>Z</mi><mi>k</mi></msub><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitSet</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mi>m</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>WaitSet</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mi>m</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>Share</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mi>z</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">assert</mtext><mtext> </mtext></mrow><msub><mi>Z</mi><mi>k</mi></msub><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><msub><mi>z</mi><mi>k</mi></msub><mo>=</mo><mi mathvariant="normal">⊥</mi><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">assert</mtext><mtext> </mtext></mrow><mi>z</mi><mo>⋅</mo><mi>G</mi><mo>=</mo><msub><mi>Z</mi><mi>k</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><msub><mi>z</mi><mi>k</mi></msub><mo>←</mo><mi>z</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mtext>CheatShare?</mtext><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>CheatShare</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">assert</mtext><mtext> </mtext></mrow><msup><mi>F</mi><mi>m</mi></msup><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo>∧</mo><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mi mathvariant="normal">.</mi><mtext> </mtext><msub><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi>j</mi></msub><mo>⋅</mo><mi>G</mi><mo>=</mo><msup><mi>F</mi><mi>m</mi></msup><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">for</mtext><mtext> </mtext></mrow><mi>j</mi><mi mathvariant="normal">.</mi><mtext> </mtext><msub><mi>x</mi><mi>j</mi></msub><mo>=</mo><mi mathvariant="normal">⊥</mi><mo>:</mo><mtext> </mtext><msub><mi>x</mi><mi>j</mi></msub><mo>←</mo><msub><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi>j</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mtext>CheatShare?</mtext><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><mtext>CheatShare?</mtext><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∀</mi><mi>k</mi><mo>∈</mo><mi mathvariant="script">M</mi><mi mathvariant="normal">.</mi><mtext> </mtext><msub><mi>z</mi><mi>k</mi></msub><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">for</mtext><mtext> </mtext></mrow><mi>j</mi><mi mathvariant="normal">.</mi><mtext> </mtext><msub><mi>x</mi><mi>j</mi></msub><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mspace width="0.5em"/><mi>z</mi><mo>←</mo><munder><mo>∑</mo><mi>k</mi></munder><msub><mi>z</mi><mi>k</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mspace width="0.5em"/><mtext>CheatShare</mtext><mo stretchy="false">(</mo><mo stretchy="false">{</mo><mi>j</mi><mo stretchy="false">}</mo><mo separator="true">,</mo><mi>z</mi><mo separator="true">,</mo><mi>x</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo>+</mo><mi>z</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitShare</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>h</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>WaitShare</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>h</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><mtext>Z</mtext><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">nowait</mtext><mtext> </mtext></mrow><msup><mtext>F</mtext><mi>h</mi></msup><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo><mo>−</mo><mo>∑</mo><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mo>∈</mo><mi mathvariant="script">H</mi></mrow><msub><mover accent="true"><mi>Z</mi><mo>^</mo></mover><mi>i</mi></msub><mrow><mtext> </mtext><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mi>i</mi><mo>=</mo><mn>1</mn><mrow><mtext> </mtext><mtext mathvariant="monospace">else</mtext><mtext> </mtext></mrow><msub><mover accent="true"><mi>Z</mi><mo>^</mo></mover><mi>i</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msup><mtext>F</mtext><mi>h</mi></msup><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><msup><mtext>F</mtext><mi>h</mi></msup><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>−</mo><msup><mtext>F</mtext><mi>h</mi></msup><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">∘</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>F</mi><mo stretchy="false">[</mo><mtext>SplitGen</mtext><mo stretchy="false">]</mo><mo>⊚</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Stop</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^0_H$
}
\ldots
\end{aligned}
}
}
\otimes
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{bae6fd}{\large
  $S$
}\cr
\cr
&amp;\hat{Z}_i \xleftarrow{\$} \mathbb{G}\cr
&amp;F^m, Z_k, z_k, x_i \gets \bot\cr
\cr
&amp;\underline{
  \text{Set}_k(S, z, Z):
}\cr
  &amp;\enspace
    \text{Set}_k(S)
  \cr
  &amp;\enspace
    \texttt{assert } z\neq \bot \lor Z \neq \bot
  \cr
  &amp;\enspace
    \texttt{if } z_k, Z_k = \bot \land z \neq \bot:
  \cr
  &amp;\enspace\enspace
    z_k \gets z
  \cr
  &amp;\enspace\enspace
    Z_k \gets z \cdot G
  \cr
  &amp;\enspace
    \texttt{elif } Z_k \neq \bot \land Z \neq \bot :\ Z_k \gets Z
  \cr
  &amp;\enspace
    \text{Cheat?}()
  \cr
\cr
&amp;\underline{
  (1)\text{Cheat}(F):
}\cr
  &amp;\enspace
    \texttt{assert } F(0) = 0 \land \text{deg}(F) = t - 1
  \cr
  &amp;\enspace
    F^m \gets F
  \cr
  &amp;\enspace
    \text{Cheat?}()
  \cr
\cr
&amp;\underline{
  \text{Cheat?}()
}\cr
  &amp;\enspace
    \texttt{if } \forall k.\ Z_k, F^m \neq \bot:
  \cr
  &amp;\enspace\enspace
    \text{Cheat}(F^m + \sum\_{k \in \mathcal{M}} Z_k)
  \cr
\cr
&amp;\underline{
  \text{WaitSet}_k(S, m):
}\cr
  &amp;\enspace
    \text{WaitSet}_k(S, m)
  \cr
\cr
&amp;\underline{
  \text{Share}_k(S, z):
}\cr
  &amp;\enspace
    \texttt{assert } Z_k \neq \bot
  \cr
  &amp;\enspace
    \texttt{if } z_k = \bot:
  \cr
  &amp;\enspace\enspace
    \texttt{assert } z \cdot G = Z_k
  \cr
  &amp;\enspace\enspace
    z_k \gets z
  \cr
  &amp;\enspace
    \text{CheatShare?}()
  \cr
\cr
&amp;\underline{
  \text{CheatShare}_k(S, \hat{x}\_\bullet):
}\cr
  &amp;\enspace
    \texttt{assert }  F^m \neq \bot \land \forall j \in S.\ \hat{x}_j \cdot G = F^m(j)
  \cr
  &amp;\enspace
    \texttt{for } j.\ x_j = \bot:\ x_j \gets \hat{x}_j
  \cr
  &amp;\enspace
    \text{CheatShare?}()
  \cr
\cr
&amp;\underline{
  \text{CheatShare?}():
}\cr
  &amp;\enspace
    \texttt{if } \forall k \in \mathcal{M}.\ z_k \neq \bot:
  \cr
  &amp;\enspace\enspace
    \texttt{for } j.\ x_j \neq \bot:
  \cr
  &amp;\enspace\enspace\enspace
    z \gets \sum_k z_k
  \cr
  &amp;\enspace\enspace\enspace
    \text{CheatShare}(\{j\}, z, x\_\bullet + z)
  \cr
\cr
&amp;\underline{
  \text{WaitShare}_k(h):
}\cr
  &amp;\enspace
    \text{WaitShare}_k(h)
  \cr
\cr
&amp;\underline{
  \text{Z}(i):
}\cr
  &amp;\enspace
    \texttt{nowait } \text{F}^h(0) - \sum\_{i \in \mathcal{H}} \hat{Z}_i \texttt{ if } i = 1 \texttt{ else } \hat{Z}_i
  \cr
\cr
&amp;\underline{
  \text{F}^h():
}\cr
  &amp;\enspace
    \texttt{return } \text{F}^h() - \text{F}^h(0)
  \cr
\end{aligned}
}
}
\cr
  \circ
\cr
F[\text{SplitGen}] \circledcirc F[\text{Stop}]
\end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="vertical-align:-38.0163em;height:76.5326em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:38.5163em;"><span style="top:-40.5163em;"><span class="pstrut" style="height:39.2913em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5971em;"><span style="top:-4.7442em;"><span class="pstrut" style="height:4.7442em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3968em;"><span style="top:-3.3968em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8968em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3968em;"><span style="top:-3.3968em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="height:1.9936em;background-color:#FBCFE8;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="top:-2.5474em;margin-left:0em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8968em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.5971em;"><span class="pstrut" style="height:4.7442em;"></span><span class="stretchy fbox" style="height:2.7442em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.1471em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:37.2913em;"><span style="top:-76.1326em;"><span class="pstrut" style="height:76.1326em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:41.057em;"><span style="top:-43.057em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-41.557em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-39.775em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-38.275em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-36.775em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-35.275em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-33.685em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-32.185em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-30.685em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-29.185em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-27.685em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-26.185em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-24.685em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-23.185em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-21.685em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-20.095em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-18.595em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-17.095em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-15.595em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-14.095em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-12.505em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-10.795em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-9.105em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-7.605em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-6.015em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-4.515em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-3.015em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-1.425em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:0.075em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:1.575em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:3.075em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:4.575em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:6.075em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:7.575em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:9.225em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:10.725em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:12.225em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:13.725em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:15.225em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:16.815em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:18.315em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:20.025em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:22.444em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:23.944em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:25.444em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:27.034em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:28.534em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:30.034em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:31.834em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:33.524em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:35.0599em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:36.6859em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:40.557em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:41.057em;"><span style="top:-43.057em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2111em;"><span style="top:-3.2111em;"><span class="pstrut" style="height:3.5111em;"></span><span class="stretchy colorbox" style="height:1.5111em;background-color:#bae6fd;"></span></span><span style="top:-3.5111em;"><span class="pstrut" style="height:3.5111em;"></span><span class="mord boxpad"><span class="mord mathnormal sizing reset-size5 size7" style="margin-right:0.0576em;">S</span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3em;"><span></span></span></span></span></span></span></span><span style="top:-39.775em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9468em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span></span><span style="top:-3.1523em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:-0.0715em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.122em;"><span style="top:-3.222em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mtight">$</span></span></span></span><span style="top:-2.589em;"><span class="pstrut" style="height:2.6em;"></span><span class="hide-tail" style="min-width:1.469em;height:0.522em;"><svg xmlns="http://www.w3.org/2000/svg" height="0.522em" viewBox="0 0 400000 522" preserveAspectRatio="xMinYMin slice" width="400em"><path d="M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.011em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathbb">G</span></span></span><span style="top:-38.275em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7em;"><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;margin-left:-0.0715em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-left:-0.044em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:0em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:-35.275em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-33.685em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span></span></span><span style="top:-32.185em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">assert </span></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:-30.685em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;margin-left:-0.044em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:-0.0715em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:-29.185em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-left:-0.044em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span></span></span><span style="top:-27.685em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-left:-0.0715em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">G</span></span></span><span style="top:-26.185em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">elif </span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-left:-0.0715em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace"> </span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-left:-0.0715em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span></span></span><span style="top:-24.685em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord">C</span><span class="mord">h</span><span class="mord">e</span><span class="mord">a</span><span class="mord">t</span><span class="mord">?</span></span><span class="mopen">(</span><span class="mclose">)</span></span></span><span style="top:-21.685em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord text"><span class="mord">C</span><span class="mord">h</span><span class="mord">e</span><span class="mord">a</span><span class="mord">t</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-20.095em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">assert </span></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">d</span><span class="mord">e</span><span class="mord">g</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span></span></span><span style="top:-18.595em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7em;"><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span></span></span><span style="top:-17.095em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord">C</span><span class="mord">h</span><span class="mord">e</span><span class="mord">a</span><span class="mord">t</span><span class="mord">?</span></span><span class="mopen">(</span><span class="mclose">)</span></span></span><span style="top:-14.095em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">C</span><span class="mord">h</span><span class="mord">e</span><span class="mord">a</span><span class="mord">t</span><span class="mord">?</span></span><span class="mopen">(</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-12.505em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0315em;">k</span><span class="mord">.</span><span class="mspace"> </span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-left:-0.0715em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7em;"><span style="margin-right:0.0556em;top:-3.013em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:-10.795em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord">C</span><span class="mord">h</span><span class="mord">e</span><span class="mord">a</span><span class="mord">t</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7em;"><span style="margin-right:0.0556em;top:-3.013em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mop op-symbol large-op" style="top:0em;position:relative;">∑</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0315em;">k</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathcal">M</span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:-0.0715em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-7.605em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-6.015em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mclose">)</span></span></span><span style="top:-3.015em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-1.425em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">assert </span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;margin-left:-0.0715em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:0.075em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:-0.044em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:1.575em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">assert </span></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">G</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;margin-left:-0.0715em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:3.075em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-left:-0.044em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span></span></span><span style="top:4.575em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord">C</span><span class="mord">h</span><span class="mord">e</span><span class="mord">a</span><span class="mord">t</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span><span class="mord">?</span></span><span class="mopen">(</span><span class="mclose">)</span></span></span><span style="top:7.575em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.53em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">C</span><span class="mord">h</span><span class="mord">e</span><span class="mord">a</span><span class="mord">t</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.51em;"><span></span></span></span></span></span></span></span><span style="top:9.225em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">assert </span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7em;"><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mord">.</span><span class="mspace"> </span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">G</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7em;"><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">)</span></span></span><span style="top:10.725em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">for </span></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord">.</span><span class="mspace"> </span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace"> </span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span></span></span><span style="top:12.225em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord">C</span><span class="mord">h</span><span class="mord">e</span><span class="mord">a</span><span class="mord">t</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span><span class="mord">?</span></span><span class="mopen">(</span><span class="mclose">)</span></span></span><span style="top:15.225em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">C</span><span class="mord">h</span><span class="mord">e</span><span class="mord">a</span><span class="mord">t</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span><span class="mord">?</span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:16.815em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0315em;">k</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathcal">M</span><span class="mord">.</span><span class="mspace"> </span><span class="mord"><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-left:-0.044em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:18.315em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">for </span></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord">.</span><span class="mspace"> </span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:20.025em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-1.871em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.279em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:-0.044em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:22.444em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord">C</span><span class="mord">h</span><span class="mord">e</span><span class="mord">a</span><span class="mord">t</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="mopen">({</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">}</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∙</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">+</span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mclose">)</span></span></span><span style="top:25.444em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">h</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:27.034em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">h</span><span class="mclose">)</span></span></span><span style="top:30.034em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">Z</span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:31.834em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">nowait </span></span><span class="mord"><span class="mord text"><span class="mord">F</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.876em;"><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mop op-symbol large-op" style="top:0em;position:relative;">∑</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9468em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span></span><span style="top:-3.1523em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:-0.0715em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord text"><span class="mord texttt"> if </span></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">1</span><span class="mord text"><span class="mord texttt"> else </span></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9468em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span></span><span style="top:-3.1523em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:-0.0715em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:35.0599em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.876em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">F</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.876em;"><span style="margin-right:0.0556em;top:-3.013em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:36.6859em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord"><span class="mord text"><span class="mord">F</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.876em;"><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord text"><span class="mord">F</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.876em;"><span style="margin-right:0.0556em;top:-3.013em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:40.557em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-39.2913em;"><span class="pstrut" style="height:76.1326em;"></span><span class="stretchy fbox" style="border-style:solid;border-width:0.04em;height:74.1326em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:36.8413em;"><span></span></span></span></span></span></span></span><span style="top:-2.835em;"><span class="pstrut" style="height:39.2913em;"></span><span class="mord"><span class="mord">∘</span></span></span><span style="top:-1.635em;"><span class="pstrut" style="height:39.2913em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">p</span><span class="mord">l</span><span class="mord">i</span><span class="mord">t</span><span class="mord">G</span><span class="mord">e</span><span class="mord">n</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin amsrm">⊚</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">o</span><span class="mord">p</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:38.0163em;"><span></span></span></span></span></span></span></span></span></span></span></span></span>
<p>The core thing the simulator needs to accomplish is to
fold the <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Z</mi></mrow><annotation encoding="application/x-tex">Z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.0715em;">Z</span></span></span></span></span> value into the <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>F</mi><mi>m</mi></msup></mrow><annotation encoding="application/x-tex">F^m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span></span></span></span></span> value,
which now needs to hold both the contribution to the secret value,
and to the secret sharing.</p>
<p>We also need to simulate an honest polynomial without the secret <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></span>
value.</p>
<p><span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">■</mi></mrow><annotation encoding="application/x-tex">\blacksquare</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.675em;"></span><span class="mord amsrm">■</span></span></span></span></span></p>
<p>As a final note, the actual key sharing protocol one might
use in practice directly doesn't expose each individual functionality,
instead calling them in sequence:</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="true" scriptlevel="0"><mtable columnalign="center" rowspacing="0.16em" columnspacing="1em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mpadded mathbackground="#FBCFE8" height="+6pt" lspace="3pt" width="+6pt" voffset="3pt"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>KeyShare</mtext><mo stretchy="false">]</mo></mstyle><mtext> </mtext></mstyle></mpadded></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable rowspacing="0.25em" columnspacing="0em" columnalign="right left"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded height="+6pt" width="+6pt" lspace="3pt" voffset="3pt" mathbackground="#FBCFE8"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><msub><mi>P</mi><mi>i</mi></msub></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>Share</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>z</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>Set</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mi>z</mi><mo separator="true">,</mo><mi mathvariant="normal">⊥</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>WaitSet</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mtext mathvariant="monospace">true</mtext><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>Share</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><msub><mtext>WaitShare</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mtext mathvariant="monospace">true</mtext><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></menclose><mo>⊲</mo><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>SplitShare</mtext><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\boxed{
\begin{matrix}
\colorbox{FBCFE8}{\large
  $\mathscr{P}[\text{KeyShare}]$
}\cr
\cr
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $P_i$
}\cr
\cr
&amp;\underline{
  (1)\text{Share}_i(z):
}\cr
  &amp;\enspace
    \text{Set}_i(\star, z, \bot)
  \cr
  &amp;\enspace
    \text{WaitSet}_i(\star, \texttt{true})
  \cr
  &amp;\enspace
    \text{Share}_i(\star)
  \cr
  &amp;\enspace
    \texttt{return } \text{WaitShare}_i(\texttt{true})
  \cr
\end{aligned}
}
}
\end{matrix}
}
\lhd \mathscr{P}[\text{SplitShare}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:14.351em;vertical-align:-6.9255em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:7.4255em;"><span style="top:-16.351em;"><span class="pstrut" style="height:16.351em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:7.0855em;"><span style="top:-13.446em;"><span class="pstrut" style="height:7.5605em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2em;"><span style="top:-3.2em;"><span class="pstrut" style="height:3.8em;"></span><span class="stretchy colorbox" style="background-color:#FBCFE8;height:1.8em;"></span></span><span style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord boxpad"><span class="mord mathscr sizing reset-size6 size7" style="margin-right:0.0808em;">P</span><span class="mopen sizing reset-size6 size7">[</span><span class="mord text sizing reset-size6 size7"><span class="mord">K</span><span class="mord">e</span><span class="mord">y</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="mclose sizing reset-size6 size7">]</span><span class="mord sizing reset-size6 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6em;"><span></span></span></span></span></span></span></span><span style="top:-12.006em;"><span class="pstrut" style="height:7.5605em;"></span><span class="mord"></span></span><span style="top:-6.0855em;"><span class="pstrut" style="height:7.5605em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:5.5605em;"><span style="top:-12.671em;"><span class="pstrut" style="height:12.671em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:5.8006em;"><span style="top:-7.8006em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-6.1606em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-4.6606em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-3.0706em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-1.5706em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-0.0706em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:1.4294em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:5.3006em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:5.8006em;"><span style="top:-7.8006em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2111em;"><span style="top:-3.2111em;"><span class="pstrut" style="height:3.7111em;"></span><span class="stretchy colorbox" style="background-color:#FBCFE8;height:1.7111em;"></span></span><span style="top:-3.7111em;"><span class="pstrut" style="height:3.7111em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord mathnormal" style="margin-right:0.1389em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0417em;top:-2.65em;margin-left:-0.1389em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5em;"><span></span></span></span></span></span></span></span><span style="top:-4.6606em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-3.0706em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.044em;">z</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">⊥</span><span class="mclose">)</span></span></span><span style="top:-1.5706em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord texttt">true</span></span><span class="mclose">)</span></span></span><span style="top:-0.0706em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mclose">)</span></span></span><span style="top:1.4294em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord text"><span class="mord texttt">true</span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:5.3006em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-7.5605em;"><span class="pstrut" style="height:12.671em;"></span><span class="stretchy fbox" style="border-width:0.04em;border-style:solid;height:10.671em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:5.1105em;"><span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:6.5855em;"><span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-9.4255em;"><span class="pstrut" style="height:16.351em;"></span><span class="stretchy fbox" style="border-style:solid;border-width:0.04em;height:14.351em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:6.9255em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin amsrm">⊲</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">p</span><span class="mord">l</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">h</span><span class="mord">a</span><span class="mord">r</span><span class="mord">e</span></span><span class="mclose">]</span></span></span></span></span></span>
<p>This protocol should match the one implemented in the specification,
although with less modularity, naturally.</p><section class="footnotes">
<ol>
</ol>
</section>


</body>
</html>