<!DOCTYPE html>
<html lang="en">
<head>
<title>cronokirby - Cait-Sith Security (1): Echo Broadcast</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.27/dist/katex.min.css" integrity="sha384-Pu5+C18nP5dwykLJOhd2U4Xen7rjScHN/qusop27hdd2drI+lL5KvX7YntvT8yew" crossorigin="anonymous"><title>cronokirby - Cait-Sith Security (1): Echo Broadcast</title>

<link rel="stylesheet" href="/static/index.css">
<link rel="icon" href="/static/icon.png">
<script src="/static/theme.js" defer></script>
</head>
<body>
<header>
<div class="icon-bar">
  <a href="/">
    <img src="/static/icon.png" class="avatar" />
  </a>
  <button class="theme-toggle" id="theme-toggle">
    <svg xmlns="http://www.w3.org/2000/svg" height="2em" viewBox="0 -960 960 960" width="2em" fill="currentColor"><path d="M480-120q-133 0-226.5-92.5T160-436q0-66 25-122t69-100l226-222 226 222q44 44 69 100t25 122q0 131-93.5 223.5T480-120Zm0-80v-568L310-600q-35 33-52.5 74.5T240-436q0 97 70 166.5T480-200Z"/></svg>
  </button>
</div>
<time datetime="2023-02-27">2023-02-27</time>

<h1>Cait-Sith Security (1): Echo Broadcast</h1>




</header>

<p>One sub-component used a couple of times is a combined broadcast commitment
functionality, implemented via echo broadcast.</p>
<p>In a nutshell, the idea behind echo broadcast is to ensure that a party
sends the same message to all others.
We accomplish this by sending a hash of all the messages we've received
to everyone else, thus enabling us to realize if a different message
was sent in the first round.</p>
<p><strong>Definition (Echo Broadcast Protocol):</strong>
The broadcast protocol <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>EchoBroadcast</mtext><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\mathscr{P}[\text{EchoBroadcast}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="mopen">[</span><span class="mord text"><span class="mord">E</span><span class="mord">c</span><span class="mord">h</span><span class="mord">o</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="mclose">]</span></span></span></span></span> is defined
as follows:</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="true" scriptlevel="0"><mtable columnalign="center" columnspacing="1em" rowspacing="0.16em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mpadded voffset="3pt" lspace="3pt" height="+6pt" mathbackground="#FBCFE8" width="+6pt"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>EchoBroadcast</mtext><mo stretchy="false">]</mo></mstyle><mtext> </mtext></mstyle></mpadded></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="true" scriptlevel="0"><mstyle mathsize="0.9em"><mtable columnalign="right left" columnspacing="0em" rowspacing="0.25em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded mathbackground="#FBCFE8" lspace="3pt" height="+6pt" width="+6pt" voffset="3pt"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msub><mi>P</mi><mi>i</mi></msub></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>StartBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mo>↱</mo><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mi>x</mi><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><msub><mo>↰</mo><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>con</mtext><mi>i</mi></msub><mo>←</mo><mtext>Hash</mtext><mo stretchy="false">(</mo><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mo>↱</mo><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><msub><mtext>con</mtext><mi>i</mi></msub><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mi>x</mi><mi mathvariant="normal">_</mi><mo lspace="0em" rspace="0em">∙</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>EndBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mover accent="true"><mtext>con</mtext><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><msub><mo>↰</mo><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∃</mi><mi>j</mi><mi mathvariant="normal">.</mi><mspace width="0.5em"/><msub><mover accent="true"><mtext>con</mtext><mo>^</mo></mover><mi>j</mi></msub><mi mathvariant="normal">≠</mi><msub><mtext>con</mtext><mi>i</mi></msub><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mspace width="1em"/><mtable columnalign="center" rowspacing="0.16em" columnspacing="1em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>F</mi><mo stretchy="false">[</mo><mtext>SyncComm</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⊗</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>F</mi><mo stretchy="false">[</mo><mtext>Hash</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mtext>Leakage</mtext><mo>:</mo><mo>=</mo><mo stretchy="false">{</mo><mtext>Hash</mtext><mo separator="true">,</mo><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">}</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></menclose></mrow><annotation encoding="application/x-tex">\boxed{
\begin{matrix}
\colorbox{FBCFE8}{\large
  $\mathscr{P}[\text{EchoBroadcast}]$
}\cr
\cr
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $P_i$
}\cr
\cr
&amp;\underline{
  (1)\text{StartBroadcast}_i(x):
}\cr
  &amp;\enspace
    \Rsh_i(\star, x, 0)
  \cr
\cr
&amp;\underline{
  \text{WaitBroadcast}_i(x):
}\cr
  &amp;\enspace
    \hat{x}\_\bullet \Lsh_i(\star, 0)
  \cr
  &amp;\enspace
    \text{con}_i \gets \text{Hash}(\hat{x}\_\bullet)
  \cr
  &amp;\enspace
    \Rsh_i(\star, \text{con}_i, 1)
  \cr
  &amp;\enspace
    \texttt{return } x\_{\bullet}
  \cr
\cr
&amp;\underline{
  \text{EndBroadcast}_i():
}\cr
  &amp;\enspace
    \hat{\text{con}}\_\bullet \Lsh_i(\star, 1)
  \cr
  &amp;\enspace
    \texttt{if } \exists j.\enspace
    \hat{\text{con}}_j \neq \text{con}_i:
  \cr
  &amp;\enspace\enspace
    \texttt{stop}(\star, 1)
  \cr
\end{aligned}
}
}
\quad
\begin{matrix}
F[\text{SyncComm}]\cr
\otimes\cr
F[\text{Hash}]\cr
\end{matrix}\cr
\cr
\text{Leakage} := \{\text{Hash}, \texttt{stop}\}
\end{matrix}
}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:27.713em;vertical-align:-13.6065em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:14.1065em;"><span style="top:-29.713em;"><span class="pstrut" style="height:29.713em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:13.7665em;"><span style="top:-25.608em;"><span class="pstrut" style="height:13.0415em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2em;"><span style="top:-3.2em;"><span class="pstrut" style="height:3.8em;"></span><span class="stretchy colorbox" style="background-color:#FBCFE8;height:1.8em;"></span></span><span style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord boxpad"><span class="mord mathscr sizing reset-size6 size7" style="margin-right:0.0808em;">P</span><span class="mopen sizing reset-size6 size7">[</span><span class="mord text sizing reset-size6 size7"><span class="mord">E</span><span class="mord">c</span><span class="mord">h</span><span class="mord">o</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="mclose sizing reset-size6 size7">]</span><span class="mord sizing reset-size6 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6em;"><span></span></span></span></span></span></span></span><span style="top:-24.168em;"><span class="pstrut" style="height:13.0415em;"></span><span class="mord"></span></span><span style="top:-12.7665em;"><span class="pstrut" style="height:13.0415em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:11.0415em;"><span style="top:-23.633em;"><span class="pstrut" style="height:23.633em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:11.8906em;"><span style="top:-13.8906em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-12.2506em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-10.7506em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-9.1606em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-7.6606em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-6.1606em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-4.5706em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-3.0706em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-1.5706em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-0.0706em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:1.4294em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:2.9294em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:4.5194em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:6.0194em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:7.5194em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:11.3906em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:11.8906em;"><span style="top:-13.8906em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2111em;"><span style="top:-3.2111em;"><span class="pstrut" style="height:3.7111em;"></span><span class="stretchy colorbox" style="height:1.7111em;background-color:#FBCFE8;"></span></span><span style="top:-3.7111em;"><span class="pstrut" style="height:3.7111em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord mathnormal" style="margin-right:0.1389em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.65em;margin-right:0.0417em;margin-left:-0.1389em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5em;"><span></span></span></span></span></span></span></span><span style="top:-10.7506em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">a</span><span class="mord">r</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-9.1606em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span><span style="top:-6.1606em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-4.5706em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span><span style="top:-3.0706em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">c</span><span class="mord">o</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mclose">)</span></span></span><span style="top:-1.5706em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord text"><span class="mord">c</span><span class="mord">o</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span><span style="top:-0.0706em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord mathnormal">x</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span></span></span></span><span style="top:2.9294em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">E</span><span class="mord">n</span><span class="mord">d</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:4.5194em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord text"><span class="mord">c</span><span class="mord">o</span><span class="mord">n</span></span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span><span style="top:6.0194em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord">∃</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord">.</span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord text"><span class="mord">c</span><span class="mord">o</span><span class="mord">n</span></span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord text"><span class="mord">c</span><span class="mord">o</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:7.5194em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:11.3906em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-13.0415em;"><span class="pstrut" style="height:23.633em;"></span><span class="stretchy fbox" style="border-style:solid;height:21.633em;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:10.5915em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span></span><span class="mclose">]</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">⊗</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-1.335em;"><span class="pstrut" style="height:13.0415em;"></span><span class="mord"></span></span><span style="top:-0.135em;"><span class="pstrut" style="height:13.0415em;"></span><span class="mord"><span class="mord text"><span class="mord">L</span><span class="mord">e</span><span class="mord">a</span><span class="mord">k</span><span class="mord">a</span><span class="mord">g</span><span class="mord">e</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">{</span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mclose">}</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:13.2665em;"><span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-16.1065em;"><span class="pstrut" style="height:29.713em;"></span><span class="stretchy fbox" style="height:27.713em;border-width:0.04em;border-style:solid;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:13.6065em;"><span></span></span></span></span></span></span></span></span></span></span>
<p><span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">□</mi></mrow><annotation encoding="application/x-tex">\square</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.675em;"></span><span class="mord amsrm">□</span></span></span></span></span></p>
<p>We model this hash function as a random oracle here.</p>
<p>The functionality that this implements is basically what you'd
expect.
The parties have to set their broadcast value, and then the functionality
forces them to send it to all others.
However, there is a sort of catch, in that adversaries
can set a "trap" value, which will cause an abort later if the wrong
broadcast value is set after the trap.
This reflects the fact that adversaries can send their confirmation
message <em>early</em>, thus potentially causing an abort later.</p>
<p>In practice this won't matter for our purpose of using broadcasts
for commitments, because the commitment values will be random,
and thus not trappable.</p>
<p><strong>Definition (Ideal Broadcast Protocol):</strong></p>
<p>The protocol capturing the ideal behavior of broadcast
is defined as follows:</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="true"><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mpadded width="+6pt" height="+6pt" voffset="3pt" lspace="3pt" mathbackground="#FBCFE8"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>IdealBroadcast</mtext><mo stretchy="false">]</mo></mstyle><mtext> </mtext></mstyle></mpadded></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable columnalign="right left" columnspacing="0em" rowspacing="0.25em"><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded width="+6pt" mathbackground="#FBCFE8" voffset="3pt" height="+6pt" lspace="3pt"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msub><mi>P</mi><mi>i</mi></msub></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>StartBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>SetBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>SendBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mi>x</mi><mi mathvariant="normal">_</mi><mo lspace="0em" rspace="0em">∙</mo><mo>←</mo><msub><mtext>GetBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>Sync</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mi>x</mi><mi mathvariant="normal">_</mi><mo rspace="0em" lspace="0em">∙</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>EndBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>WaitSync</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><msub><mtext>BadBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mspace width="1em"/><mtable columnalign="center" columnspacing="1em" rowspacing="0.16em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="true" scriptlevel="0"><mstyle mathsize="0.9em"><mtable columnspacing="0em" rowspacing="0.25em" columnalign="right left"><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded height="+6pt" mathbackground="#FBCFE8" voffset="3pt" lspace="3pt" width="+6pt"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><mi>F</mi><mo stretchy="false">[</mo><mtext>Broadcast</mtext><mo stretchy="false">]</mo></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><msub><mi>x</mi><mi>i</mi></msub><mo separator="true">,</mo><mtext>sent</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo separator="true">,</mo><mtext>trap</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>SetBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mi>x</mi><mi>i</mi></msub><mo>←</mo><mi>x</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>SendBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">assert</mtext><mtext> </mtext></mrow><msub><mi>x</mi><mi>i</mi></msub><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mtext>sent</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><mtext mathvariant="monospace">true</mtext><mtext> </mtext><mo stretchy="false">(</mo><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>GetBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mtext mathvariant="monospace">wait</mtext><mi mathvariant="normal">_</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><mtext> sent</mtext><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>i</mi></mrow><mtext> </mtext><mo stretchy="false">(</mo><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mo stretchy="false">[</mo><msub><mi>x</mi><mi>j</mi></msub><mo>∣</mo><mi>j</mi><mo>∈</mo><mi>S</mi><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><mstyle mathcolor="#ef4444"><mtext>Trap</mtext><mo stretchy="false">(</mo><mi>j</mi><mo separator="true">,</mo><mi>m</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo stretchy="false">)</mo></mstyle><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">assert</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∀</mi><mi>i</mi><mi mathvariant="normal">.</mi><mtext> </mtext><msub><mi>m</mi><mi>i</mi></msub><mo>=</mo><mi mathvariant="normal">⊥</mi><mo>∨</mo><mo stretchy="false">(</mo><mtext>trap</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>=</mo><mi mathvariant="normal">⊥</mi><mo>∧</mo><msub><mi>x</mi><mi>i</mi></msub><mo>=</mo><mi mathvariant="normal">⊥</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mtext>trap</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><msub><mi>m</mi><mi>i</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>BadBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∃</mi><mi>j</mi><mi mathvariant="normal">.</mi><mtext> trap</mtext><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>i</mi></mrow><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo>∧</mo><mtext>trap</mtext><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>i</mi></mrow><mi mathvariant="normal">≠</mi><mi>x</mi><mi mathvariant="normal">_</mi><mi>j</mi></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mo rspace="0em" lspace="0em">⊗</mo></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>F</mi><mo stretchy="false">[</mo><mtext>Sync</mtext><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mo lspace="0em" rspace="0em">⊗</mo></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>F</mi><mo stretchy="false">[</mo><mtext>Stop</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Leakage</mtext><mo>:</mo><mo>=</mo><mo stretchy="false">{</mo><mtext>Trap</mtext><mo separator="true">,</mo><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">}</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></menclose></mrow><annotation encoding="application/x-tex">\boxed{
\begin{matrix}
\colorbox{FBCFE8}{\large
  $\mathscr{P}[\text{IdealBroadcast}]$
}\cr
\cr
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $P_i$
}\cr
\cr
&amp;\underline{
  (1)\text{StartBroadcast}_i(x):
}\cr
  &amp;\enspace
    \text{SetBroadcast}_i(x)
  \cr
  &amp;\enspace
    \text{SendBroadcast}_i(\star)
  \cr
\cr
&amp;\underline{
  \text{WaitBroadcast}_i():
}\cr
  &amp;\enspace
    x\_{\bullet} \gets \text{GetBroadcast}_i(\star)
  \cr
  &amp;\enspace
    \text{Sync}_i(\star)
  \cr
  &amp;\enspace
    \texttt{return } x\_{\bullet}
  \cr
\cr
&amp;\underline{
  \text{EndBroadcast}_i():
}\cr
  &amp;\enspace
    \text{WaitSync}_i(\star)
  \cr
  &amp;\enspace
    \texttt{if } \text{BadBroadcast}_i():
  \cr
  &amp;\enspace\enspace
    \texttt{stop}(\star, 1)
  \cr
\end{aligned}
}
}
\quad
\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $F[\text{Broadcast}]$
}\cr
\cr
&amp;x_i, \text{sent}\_{ij}, \text{trap}\_{ij} \gets \bot\cr
\cr
&amp;\underline{
  (1)\text{SetBroadcast}_i(x):
}\cr
  &amp;\enspace
    x_i \gets x
  \cr
\cr
&amp;\underline{
  \text{SendBroadcast}_i(S):
}\cr
  &amp;\enspace
    \texttt{assert } x_i \neq \bot
  \cr
  &amp;\enspace
    \text{sent}\_{ij} \gets \texttt{true}\ (\forall j \in S)
  \cr
\cr
&amp;\underline{
  \text{GetBroadcast}_i(S):
}\cr
  &amp;\enspace
    \texttt{wait}\_{(i, 0)}\ \text{sent}\_{ji}\ (\forall j \in S)
  \cr
  &amp;\enspace
    \texttt{return } [x_j \mid j \in S]
  \cr
\cr
&amp;\underline{
  \textcolor{ef4444}{\text{Trap}(j, m\_\bullet)}:
}\cr
  &amp;\enspace
    \texttt{assert } \forall i.\ m_i = \bot \lor (\text{trap}\_{i j} = \bot \land x_i = \bot)
  \cr
  &amp;\enspace
    \text{trap}\_{i j} \gets m_i
  \cr
\cr
&amp;\underline{
  \text{BadBroadcast}_i():
}\cr
  &amp;\enspace
    \texttt{return } \exists j.\ \text{trap}\_{j i} \neq \bot \land \text{trap}\_{j i} \neq x\_j
  \cr
\end{aligned}
}
}\cr
\otimes\cr
F[\text{Sync}(1)]\cr
\otimes\cr
F[\text{Stop}]\cr
\end{matrix}\cr
\cr
\text{Leakage} := \{\text{Trap}, \texttt{stop}\}
\end{matrix}
}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:41.029em;vertical-align:-20.2645em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:20.7645em;"><span style="top:-43.029em;"><span class="pstrut" style="height:43.029em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:20.4245em;"><span style="top:-38.949em;"><span class="pstrut" style="height:19.7245em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2em;"><span style="top:-3.2em;"><span class="pstrut" style="height:3.8em;"></span><span class="stretchy colorbox" style="height:1.8em;background-color:#FBCFE8;"></span></span><span style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord boxpad"><span class="mord mathscr sizing reset-size6 size7" style="margin-right:0.0808em;">P</span><span class="mopen sizing reset-size6 size7">[</span><span class="mord text sizing reset-size6 size7"><span class="mord">I</span><span class="mord">d</span><span class="mord">e</span><span class="mord">a</span><span class="mord">l</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="mclose sizing reset-size6 size7">]</span><span class="mord sizing reset-size6 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6em;"><span></span></span></span></span></span></span></span><span style="top:-37.509em;"><span class="pstrut" style="height:19.7245em;"></span><span class="mord"></span></span><span style="top:-19.4245em;"><span class="pstrut" style="height:19.7245em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:11.0415em;"><span style="top:-23.633em;"><span class="pstrut" style="height:23.633em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:11.8906em;"><span style="top:-13.8906em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-12.2506em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-10.7506em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-9.1606em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-7.6606em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-6.1606em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-4.6606em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-3.0706em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-1.5706em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-0.0706em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:1.4294em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:2.9294em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:4.5194em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:6.0194em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:7.5194em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:11.3906em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:11.8906em;"><span style="top:-13.8906em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2111em;"><span style="top:-3.2111em;"><span class="pstrut" style="height:3.7111em;"></span><span class="stretchy colorbox" style="height:1.7111em;background-color:#FBCFE8;"></span></span><span style="top:-3.7111em;"><span class="pstrut" style="height:3.7111em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord mathnormal" style="margin-right:0.1389em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:-0.1389em;top:-2.65em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5em;"><span></span></span></span></span></span></span></span><span style="top:-10.7506em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">a</span><span class="mord">r</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-9.1606em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span><span style="top:-7.6606em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">n</span><span class="mord">d</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mclose">)</span></span></span><span style="top:-4.6606em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-3.0706em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord mathnormal">x</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord text"><span class="mord">G</span><span class="mord">e</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mclose">)</span></span></span><span style="top:-1.5706em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="margin-right:0.0556em;top:-2.3389em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mclose">)</span></span></span><span style="top:-0.0706em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord mathnormal">x</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span></span></span></span><span style="top:2.9294em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">E</span><span class="mord">n</span><span class="mord">d</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:4.5194em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.3389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mclose">)</span></span></span><span style="top:6.0194em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord"><span class="mord text"><span class="mord">B</span><span class="mord">a</span><span class="mord">d</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:7.5194em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:11.3906em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-13.0415em;"><span class="pstrut" style="height:23.633em;"></span><span class="stretchy fbox" style="border-width:0.04em;border-style:solid;height:21.633em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:10.5915em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:17.7245em;"><span style="top:-19.7245em;"><span class="pstrut" style="height:17.2995em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:15.2995em;"><span style="top:-32.149em;"><span class="pstrut" style="height:32.149em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:16.6217em;"><span style="top:-18.6217em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-16.8483em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-15.3483em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-13.8483em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-12.3483em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-10.7583em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-9.2583em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-7.7583em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-6.1683em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-4.6683em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-3.1683em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-1.6683em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-0.0783em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:1.4217em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:2.9217em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:4.4217em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:6.0717em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:7.5717em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:9.0717em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:10.5717em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:12.1617em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:16.1217em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:16.6217em;"><span style="top:-18.6217em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3em;"><span style="top:-3.3em;"><span class="pstrut" style="height:3.9333em;"></span><span class="stretchy colorbox" style="height:1.9333em;background-color:#FBCFE8;"></span></span><span style="top:-3.9333em;"><span class="pstrut" style="height:3.9333em;"></span><span class="mord boxpad"><span class="mord mathnormal sizing reset-size5 size7" style="margin-right:0.1389em;">F</span><span class="mopen sizing reset-size5 size7">[</span><span class="mord text sizing reset-size5 size7"><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="mclose sizing reset-size5 size7">]</span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6333em;"><span></span></span></span></span></span></span></span><span style="top:-15.3483em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord">s</span><span class="mord">e</span><span class="mord">n</span><span class="mord">t</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord">t</span><span class="mord">r</span><span class="mord">a</span><span class="mord">p</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:-12.3483em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-10.7583em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">x</span></span></span><span style="top:-7.7583em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">n</span><span class="mord">d</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-6.1683em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">assert </span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:-4.6683em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord">s</span><span class="mord">e</span><span class="mord">n</span><span class="mord">t</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord texttt">true</span></span><span class="mspace"> </span><span class="mopen">(</span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span></span></span><span style="top:-1.6683em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">G</span><span class="mord">e</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-0.0783em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">wait</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span></span><span class="mspace"> </span><span class="mord text"><span class="mord">s</span><span class="mord">e</span><span class="mord">n</span><span class="mord">t</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">ji</span></span><span class="mspace"> </span><span class="mopen">(</span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span></span></span><span style="top:1.4217em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">]</span></span></span><span style="top:4.4217em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.53em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text" style="color:#ef4444;"><span class="mord" style="color:#ef4444;">T</span><span class="mord" style="color:#ef4444;">r</span><span class="mord" style="color:#ef4444;">a</span><span class="mord" style="color:#ef4444;">p</span></span><span class="mopen" style="color:#ef4444;">(</span><span class="mord mathnormal" style="margin-right:0.0572em;color:#ef4444;">j</span><span class="mpunct" style="color:#ef4444;">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="color:#ef4444;">m</span><span class="mord" style="margin-right:0.0278em;color:#ef4444;">_</span><span class="mord" style="color:#ef4444;">∙</span><span class="mclose" style="color:#ef4444;">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.51em;"><span></span></span></span></span></span></span></span><span style="top:6.0717em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">assert </span></span><span class="mord">∀</span><span class="mord mathnormal">i</span><span class="mord">.</span><span class="mspace"> </span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord text"><span class="mord">t</span><span class="mord">r</span><span class="mord">a</span><span class="mord">p</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mclose">)</span></span></span><span style="top:7.5717em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord">t</span><span class="mord">r</span><span class="mord">a</span><span class="mord">p</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:10.5717em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">B</span><span class="mord">a</span><span class="mord">d</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:12.1617em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord">∃</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord">.</span><span class="mspace"> </span><span class="mord text"><span class="mord">t</span><span class="mord">r</span><span class="mord">a</span><span class="mord">p</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">ji</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">t</span><span class="mord">r</span><span class="mord">a</span><span class="mord">p</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">ji</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">x</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:16.1217em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-17.2995em;"><span class="pstrut" style="height:32.149em;"></span><span class="stretchy fbox" style="border-style:solid;height:30.149em;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:14.8495em;"><span></span></span></span></span></span></span></span><span style="top:-4.035em;"><span class="pstrut" style="height:17.2995em;"></span><span class="mord"><span class="mord">⊗</span></span></span><span style="top:-2.835em;"><span class="pstrut" style="height:17.2995em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)]</span></span></span><span style="top:-1.635em;"><span class="pstrut" style="height:17.2995em;"></span><span class="mord"><span class="mord">⊗</span></span></span><span style="top:-0.435em;"><span class="pstrut" style="height:17.2995em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">o</span><span class="mord">p</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:17.2245em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-1.36em;"><span class="pstrut" style="height:19.7245em;"></span><span class="mord"></span></span><span style="top:-0.16em;"><span class="pstrut" style="height:19.7245em;"></span><span class="mord"><span class="mord text"><span class="mord">L</span><span class="mord">e</span><span class="mord">a</span><span class="mord">k</span><span class="mord">a</span><span class="mord">g</span><span class="mord">e</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">{</span><span class="mord text"><span class="mord">T</span><span class="mord">r</span><span class="mord">a</span><span class="mord">p</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mclose">}</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:19.9245em;"><span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-22.7645em;"><span class="pstrut" style="height:43.029em;"></span><span class="stretchy fbox" style="border-style:solid;height:41.029em;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:20.2645em;"><span></span></span></span></span></span></span></span></span></span></span>
<p><span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">□</mi></mrow><annotation encoding="application/x-tex">\square</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.675em;"></span><span class="mord amsrm">□</span></span></span></span></span></p>
<p>Another little detail is that the ideal functionality reflects
the fact that the original broadcast had two rounds, via the synchronization
mechanism.</p>
<p><strong>Lemma:</strong></p>
<p>For a negligible <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding="application/x-tex">\epsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">ϵ</span></span></span></span></span>, and any combination of malicious parties:</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>EchoBroadcast</mtext><mo stretchy="false">]</mo><mo><mover><mo><mo>⇝</mo></mo><mi>ϵ</mi></mover></mo><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>IdealBroadcast</mtext><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\mathscr{P}[\text{EchoBroadcast}] \overset{\epsilon}{\leadsto} \mathscr{P}[\text{IdealBroadcast}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2293em;vertical-align:-0.25em;"></span><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="mopen">[</span><span class="mord text"><span class="mord">E</span><span class="mord">c</span><span class="mord">h</span><span class="mord">o</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mop op-limits"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9793em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop amsrm">⇝</span></span></span><span style="top:-3.5779em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">ϵ</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="mopen">[</span><span class="mord text"><span class="mord">I</span><span class="mord">d</span><span class="mord">e</span><span class="mord">a</span><span class="mord">l</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="mclose">]</span></span></span></span></span></span>
<p><strong>Proof:</strong></p>
<p>As per usual, we unroll <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>Inst</mtext><mo stretchy="false">(</mo><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>EchoBroadcast</mtext><mo stretchy="false">]</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\text{Inst}(\mathscr{P}[\text{EchoBroadcast}])</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">I</span><span class="mord">n</span><span class="mord">s</span><span class="mord">t</span></span><span class="mopen">(</span><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="mopen">[</span><span class="mord text"><span class="mord">E</span><span class="mord">c</span><span class="mord">h</span><span class="mord">o</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="mclose">])</span></span></span></span></span>,
to get:</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable rowspacing="0.25em" columnspacing="0em" columnalign="right left"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded height="+6pt" lspace="3pt" voffset="3pt" width="+6pt" mathbackground="#FBCFE8"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>0</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>StartBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mo>…</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mo>⊗</mo><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="true"><mrow><mpadded mathbackground="#FBCFE8" height="+6pt" width="+6pt" voffset="3pt" lspace="3pt"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msubsup><mi mathvariant="normal">Γ</mi><mi>M</mi><mn>0</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded><mo>=</mo><mn>1</mn><mrow><mo fence="true">(</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mo>↱</mo><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mo>↰</mo><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>Hash</mtext></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow></mstyle></mstyle></mstyle></menclose></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mo lspace="0em" rspace="0em">∘</mo></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>F</mi><mo stretchy="false">[</mo><mtext>SyncComm</mtext><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Hash</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^0_H$
}\cr
\cr
&amp;\underline{
  (1)\text{StartBroadcast}_i(x):
}\cr
&amp;\enspace
  \ldots
\cr
\end{aligned}
}
}
\otimes
\boxed{\colorbox{FBCFE8}{\large
  $\Gamma^0_M$
} = 1
\begin{pmatrix}
    \Rsh_k
  ,\cr
    \Lsh_k
  ,\cr
    \text{Hash}
\end{pmatrix}
}
\cr
  \circ
\cr
F[\text{SyncComm}] \otimes F[\text{Hash}]
\end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="vertical-align:-4.3876em;height:9.2752em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:4.8876em;"><span style="top:-6.8876em;"><span class="pstrut" style="height:5.6626em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.6626em;"><span style="top:-8.8752em;"><span class="pstrut" style="height:8.8752em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.6918em;"><span style="top:-5.6918em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-3.915em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-2.415em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-0.825em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.1918em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.6918em;"><span style="top:-5.6918em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="height:1.9936em;background-color:#FBCFE8;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="top:-2.5474em;margin-left:0em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-2.415em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">a</span><span class="mord">r</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-0.825em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="minner">…</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.1918em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-5.6626em;"><span class="pstrut" style="height:8.8752em;"></span><span class="stretchy fbox" style="border-style:solid;border-width:0.04em;height:6.8752em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.2126em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.39em;"><span style="top:-6.28em;"><span class="pstrut" style="height:6.28em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2512em;"><span style="top:-3.2512em;"><span class="pstrut" style="height:3.8542em;"></span><span class="stretchy colorbox" style="height:1.8542em;background-color:#FBCFE8;"></span></span><span style="top:-3.8542em;"><span class="pstrut" style="height:3.8542em;"></span><span class="mord boxpad"><span class="mord sizing reset-size6 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="top:-2.5474em;margin-left:0em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.109em;">M</span></span></span><span style="margin-right:0.0417em;top:-3.163em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size6 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6031em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.875em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.875em" height="3.600em" viewBox="0 0 875 3600"><path d="M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,84c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-92c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="margin-left:0em;margin-right:0.05em;top:-2.55em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.875em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 875 3600" width="0.875em" height="3.600em"><path d="M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,9
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-144c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-4.39em;"><span class="pstrut" style="height:6.28em;"></span><span class="stretchy fbox" style="height:4.28em;border-width:0.04em;border-style:solid;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.89em;"><span></span></span></span></span></span></span></span><span style="top:-2.835em;"><span class="pstrut" style="height:5.6626em;"></span><span class="mord"><span class="mord">∘</span></span></span><span style="top:-1.635em;"><span class="pstrut" style="height:5.6626em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:4.3876em;"><span></span></span></span></span></span></span></span></span></span></span></span></span>
<p>having split the game into an honest part, and a malicious part,
long with the ideal functionalities.
The malicious part will slowly become our simulator.</p>
<p>Our next step will be to modify the honest part to send both
the hash of their messages, and an entire vector confirmation.
The malicious part will ignore this new information,
giving us an identical game.</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable columnalign="center" columnspacing="1em" rowspacing="0.16em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable columnalign="right left" rowspacing="0.25em" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded width="+6pt" height="+6pt" voffset="3pt" lspace="3pt" mathbackground="#FBCFE8"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>1</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mo>…</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><msub><mo>↰</mo><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mi>h</mi><mi>i</mi></msub><mo>←</mo><mtext>Hash</mtext><mo stretchy="false">(</mo><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mpadded voffset="3pt" width="+6pt" height="+6pt" mathbackground="#bae6fd" lspace="3pt"><mstyle displaystyle="false" scriptlevel="0"><msub><mo>↱</mo><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><msub><mi>h</mi><mi>i</mi></msub><mo separator="true">,</mo><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><mo stretchy="false">)</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>EndBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mpadded height="+6pt" voffset="3pt" width="+6pt" lspace="3pt" mathbackground="#bae6fd"><mstyle displaystyle="false" scriptlevel="0"><mo stretchy="false">(</mo><mover accent="true"><mi>h</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><mo separator="true">,</mo><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><mo stretchy="false">)</mo><msub><mo>↰</mo><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∃</mi><mi>j</mi><mi mathvariant="normal">.</mi><mspace width="0.5em"/><msub><mover accent="true"><mi>h</mi><mo>^</mo></mover><mi>j</mi></msub><mi mathvariant="normal">≠</mi><msub><mi>h</mi><mi>i</mi></msub><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mo>⊗</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable columnspacing="0em" rowspacing="0.25em" columnalign="right left"><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded voffset="3pt" lspace="3pt" mathbackground="#bae6fd" width="+6pt" height="+6pt"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><msubsup><mi mathvariant="normal">Γ</mi><mi>M</mi><mn>1</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mo>↱</mo><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mi>h</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mo>↱</mo><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mo stretchy="false">(</mo><mi>h</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo separator="true">,</mo><mi mathvariant="normal">⊥</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mo>↰</mo><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mo stretchy="false">(</mo><mover accent="true"><mi>h</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><mo separator="true">,</mo><mo>…</mo><mo stretchy="false">)</mo><msub><mo>↰</mo><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mo stretchy="false">[</mo><msub><mover accent="true"><mi>h</mi><mo>^</mo></mover><mi>j</mi></msub><mo>∣</mo><mi>j</mi><mo>∈</mo><mi>S</mi><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo rspace="0em" lspace="0em">⊗</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>1</mn><mo stretchy="false">(</mo><msub><mo>↱</mo><mi>k</mi></msub><mo separator="true">,</mo><msub><mo>↰</mo><mi>k</mi></msub><mo separator="true">,</mo><mtext>Hash</mtext><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mo lspace="0em" rspace="0em">∘</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>F</mi><mo stretchy="false">[</mo><mtext>SyncComm</mtext><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Hash</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^1_H$
}\cr
&amp;\ldots\cr
\cr
&amp;\underline{
  \text{WaitBroadcast}_i():
}\cr
  &amp;\enspace
    \hat{x}\_\bullet \Lsh_i(\star, 0)
  \cr
  &amp;\enspace
    h_i \gets \text{Hash}(\hat{x}\_\bullet)
  \cr
  &amp;\enspace
  \colorbox{bae6fd}{$
    \Rsh_i(\star, (h_i, \hat{x}\_\bullet), 1)
  $}
  \cr
\cr
&amp;\underline{
  \text{EndBroadcast}_i():
}\cr
  &amp;\enspace
  \colorbox{bae6fd}{$
    (\hat{h}\_\bullet, \vec{x}\_\bullet) \Lsh_i(\star, 1)
  $}
  \cr
  &amp;\enspace
    \texttt{if } \exists j.\enspace
    \hat{h}_j \neq h_i:
  \cr
  &amp;\enspace\enspace
    \texttt{stop}(\star, 1)
  \cr
\end{aligned}
}
}
\otimes
\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{bae6fd}{\large
  $\Gamma^1_M$
}\cr
\cr
&amp;\underline{
  \Rsh_k(S, h\_\bullet, 1):
}\cr
  &amp;\enspace
    \Rsh_k(S, (h\_\bullet, \bot), 1)
  \cr
\cr
&amp;\underline{
  \Lsh_k(S, 1):
}\cr
  &amp;\enspace
    (\hat{h}\_\bullet, \ldots)\Lsh_k(S, 1)
  \cr
  &amp;\enspace
    \texttt{return } [\hat{h}_j \mid j \in S]
  \cr
\end{aligned}
}
}
\cr
  \otimes
\cr
  1(\Rsh_k, \Lsh_k, \text{Hash})
\end{matrix}
\cr
  \circ
\cr
F[\text{SyncComm}] \otimes F[\text{Hash}]
\end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:21.2774em;vertical-align:-10.3887em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:10.8887em;"><span style="top:-12.8887em;"><span class="pstrut" style="height:11.6637em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:9.6637em;"><span style="top:-20.8774em;"><span class="pstrut" style="height:20.8774em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:10.3597em;"><span style="top:-12.3597em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-10.5829em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-9.0829em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-7.5829em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-5.9929em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-4.4929em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-2.7829em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-1.0329em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:0.4671em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:2.475em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:4.3428em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:5.8428em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:9.8597em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:10.3597em;"><span style="top:-12.3597em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="height:1.9936em;background-color:#FBCFE8;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-left:0em;margin-right:0.0417em;top:-2.5474em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="margin-right:0.0417em;top:-3.163em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-10.5829em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span></span></span><span style="top:-7.5829em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-5.9929em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span><span style="top:-4.4929em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mclose">)</span></span></span><span style="top:-2.7829em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.66em;"></span><span class="stretchy colorbox" style="height:1.66em;background-color:#bae6fd;"></span></span><span style="top:-3.66em;"><span class="pstrut" style="height:3.66em;"></span><span class="mord boxpad"><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.61em;"><span></span></span></span></span></span></span></span><span style="top:0.4671em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">E</span><span class="mord">n</span><span class="mord">d</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:2.475em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2579em;"><span style="top:-3.2579em;"><span class="pstrut" style="height:3.8679em;"></span><span class="stretchy colorbox" style="height:1.8679em;background-color:#bae6fd;"></span></span><span style="top:-3.8679em;"><span class="pstrut" style="height:3.8679em;"></span><span class="mord boxpad"><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9579em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">h</span></span><span style="top:-3.1634em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMinYMin" width="0.471em" viewBox="0 0 471 714" style="width:0.471em" height="0.714em"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.61em;"><span></span></span></span></span></span></span></span><span style="top:4.3428em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord">∃</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord">.</span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9579em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">h</span></span><span style="top:-3.1634em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:0em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:5.8428em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:9.8597em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-11.6637em;"><span class="pstrut" style="height:20.8774em;"></span><span class="stretchy fbox" style="height:18.8774em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:9.2137em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:7.7612em;"><span style="top:-9.7612em;"><span class="pstrut" style="height:8.5362em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:6.5362em;"><span style="top:-14.6224em;"><span class="pstrut" style="height:14.6224em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:6.8847em;"><span style="top:-8.8847em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-7.1079em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-5.6079em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-3.9579em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-2.4579em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-0.9579em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:0.75em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:2.3678em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:6.3847em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:6.8847em;"><span style="top:-8.8847em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="background-color:#bae6fd;height:1.9936em;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-right:0.0417em;top:-2.5474em;margin-left:0em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.109em;">M</span></span></span><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-5.6079em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.53em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">h</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.51em;"><span></span></span></span></span></span></span></span><span style="top:-3.9579em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord mathnormal">h</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">⊥</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span><span style="top:-0.9579em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-left:0em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:0.75em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9579em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">h</span></span><span style="top:-3.1634em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-left:0em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span><span style="top:2.3678em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mopen">[</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9579em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">h</span></span><span style="top:-3.1634em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:6.3847em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-8.5362em;"><span class="pstrut" style="height:14.6224em;"></span><span class="stretchy fbox" style="border-width:0.04em;border-style:solid;height:12.6224em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:6.0862em;"><span></span></span></span></span></span></span></span><span style="top:-2.835em;"><span class="pstrut" style="height:8.5362em;"></span><span class="mord"><span class="mord">⊗</span></span></span><span style="top:-1.635em;"><span class="pstrut" style="height:8.5362em;"></span><span class="mord"><span class="mord">1</span><span class="mopen">(</span><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="margin-left:0em;margin-right:0.05em;top:-2.55em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="margin-left:0em;margin-right:0.05em;top:-2.55em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:7.2612em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-2.835em;"><span class="pstrut" style="height:11.6637em;"></span><span class="mord"><span class="mord">∘</span></span></span><span style="top:-1.635em;"><span class="pstrut" style="height:11.6637em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:10.3887em;"><span></span></span></span></span></span></span></span></span></span></span></span></span>
<p>Now, we can have the honest parties omit their hash completely,
only sending the vector.
This requires moving some of the hashing logic into the malicious part,
and the verification check at the end,
but otherwise gives us an identical game.</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable columnalign="center" columnspacing="1em" rowspacing="0.16em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="true" scriptlevel="0"><mstyle mathsize="0.9em"><mtable columnspacing="0em" rowspacing="0.25em" columnalign="right left"><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded width="+6pt" mathbackground="#FBCFE8" lspace="3pt" height="+6pt" voffset="3pt"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>2</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>…</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mo>↱</mo><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mi>x</mi><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><msub><mo>↰</mo><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mpadded width="+6pt" height="+6pt" lspace="3pt" voffset="3pt" mathbackground="#bae6fd"><mstyle displaystyle="false" scriptlevel="0"><msub><mo>↱</mo><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><mi mathvariant="normal">⊥</mi><mo separator="true">,</mo><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><mo stretchy="false">)</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>EndBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mo stretchy="false">(</mo><mover accent="true"><mi>h</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><mo separator="true">,</mo><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><mo stretchy="false">)</mo><msub><mo>↰</mo><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mpadded width="+6pt" lspace="3pt" voffset="3pt" height="+6pt" mathbackground="#bae6fd"><mstyle displaystyle="false" scriptlevel="0"><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∃</mi><mi>j</mi><mi mathvariant="normal">.</mi><mspace width="0.5em"/><mtable columnspacing="1em" rowspacing="0.16em" columnalign="center"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo stretchy="false">(</mo><msub><mover accent="true"><mi>h</mi><mo>^</mo></mover><mi>j</mi></msub><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo>∧</mo><msub><mover accent="true"><mi>h</mi><mo>^</mo></mover><mi>j</mi></msub><mi mathvariant="normal">≠</mi><mtext>Hash</mtext><mo stretchy="false">(</mo><msub><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi>i</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mtext> </mtext><mo>∨</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo stretchy="false">(</mo><msub><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi>j</mi></msub><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo>∧</mo><mtext>Hash</mtext><mo stretchy="false">(</mo><msub><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi>j</mi></msub><mo stretchy="false">)</mo><mi mathvariant="normal">≠</mi><mtext>Hash</mtext><mo stretchy="false">(</mo><msub><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi>i</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable><mo>:</mo></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mo>⊗</mo><mtable columnalign="center" columnspacing="1em" rowspacing="0.16em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable columnalign="right left" columnspacing="0em" rowspacing="0.25em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded mathbackground="#FBCFE8" lspace="3pt" width="+6pt" height="+6pt" voffset="3pt"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><msubsup><mi mathvariant="normal">Γ</mi><mi>M</mi><mn>2</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mo>↱</mo><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mi>h</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mo>↱</mo><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mo stretchy="false">(</mo><mi>h</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo separator="true">,</mo><mi mathvariant="normal">⊥</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded width="+6pt" voffset="3pt" height="+6pt" mathbackground="#bae6fd" lspace="3pt"><mstyle displaystyle="false" scriptlevel="0"><munder accentunder="true"><mrow><msub><mo>↰</mo><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mo stretchy="false">(</mo><mover accent="true"><mi>h</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><mo separator="true">,</mo><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><mo stretchy="false">)</mo><msub><mo>↰</mo><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><msub><mover accent="true"><mi>h</mi><mo>^</mo></mover><mi>j</mi></msub><mo>=</mo><mi mathvariant="normal">⊥</mi><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">assert</mtext><mtext> </mtext></mrow><msub><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi>j</mi></msub><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><msub><mover accent="true"><mi>h</mi><mo>^</mo></mover><mi>j</mi></msub><mo>←</mo><mtext>Hash</mtext><mo stretchy="false">(</mo><msub><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi>j</mi></msub><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mo stretchy="false">[</mo><msub><mover accent="true"><mi>h</mi><mo>^</mo></mover><mi>j</mi></msub><mo>∣</mo><mi>j</mi><mo>∈</mo><mi>S</mi><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo rspace="0em" lspace="0em">⊗</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>1</mn><mo stretchy="false">(</mo><msub><mo>↱</mo><mi>k</mi></msub><mo separator="true">,</mo><msub><mo>↰</mo><mi>k</mi></msub><mo separator="true">,</mo><mtext>Hash</mtext><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mo rspace="0em" lspace="0em">∘</mo></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>F</mi><mo stretchy="false">[</mo><mtext>SyncComm</mtext><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Hash</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^2_H$
}\cr
&amp;\ldots\cr
\cr
&amp;\underline{
  \text{WaitBroadcast}_i():
}\cr
  &amp;\enspace
    \Rsh_i(\star, x, 0)
  \cr
  &amp;\enspace
    \hat{x}\_\bullet \Lsh_i(\star, 0)
  \cr
  &amp;\enspace
  \colorbox{bae6fd}{$
    \Rsh_i(\star, (\bot, \hat{x}\_\bullet), 1)
  $}
  \cr
\cr
&amp;\underline{
  \text{EndBroadcast}_i():
}\cr
  &amp;\enspace
    (\hat{h}\_\bullet, \vec{x}\_\bullet) \Lsh_i(\star, 1)
  \cr
  &amp;\enspace
  \colorbox{bae6fd}{$
    \texttt{if } \exists j.\enspace
    \begin{matrix}
      (\hat{h}_j \neq \bot \land \hat{h}_j \neq \text{Hash}(\vec{x}_i))\ \lor\cr
      (\vec{x}_j \neq \bot \land \text{Hash}(\vec{x}_j) \neq \text{Hash}(\vec{x}_i))
    \end{matrix}
    :
  $}
  \cr
  &amp;\enspace\enspace
    \texttt{stop}(\star, 1)
  \cr
\end{aligned}
}
}
\otimes
\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^2_M$
}\cr
\cr
&amp;\underline{
  \Rsh_k(S, h\_\bullet, 1):
}\cr
  &amp;\enspace
    \Rsh_k(S, (h\_\bullet, \bot), 1)
  \cr
\cr
&amp;\colorbox{bae6fd}{$\underline{
  \Lsh_k(S, 1):
}$}\cr
  &amp;\enspace
    (\hat{h}\_\bullet, \vec{x}\_\bullet)\Lsh_k(S, 1)
  \cr
  &amp;\enspace
    \texttt{if } \hat{h}_j = \bot:
  \cr
  &amp;\enspace\enspace
    \texttt{assert } \vec{x}_j \neq \bot
  \cr
  &amp;\enspace\enspace
    \hat{h}_j \gets \text{Hash}(\vec{x}_j)
  \cr
  &amp;\enspace
    \texttt{return } [\hat{h}_j \mid j \in S]
  \cr
\end{aligned}
}
}
\cr
  \otimes
\cr
  1(\Rsh_k, \Lsh_k, \text{Hash})
\end{matrix}
\cr
  \circ
\cr
F[\text{SyncComm}] \otimes F[\text{Hash}]
\end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:22.4024em;vertical-align:-10.9512em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:11.4512em;"><span style="top:-13.4512em;"><span class="pstrut" style="height:12.2262em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:10.2262em;"><span style="top:-22.0024em;"><span class="pstrut" style="height:22.0024em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:10.9847em;"><span style="top:-13.4368em;"><span class="pstrut" style="height:3.8089em;"></span><span class="mord"></span></span><span style="top:-11.66em;"><span class="pstrut" style="height:3.8089em;"></span><span class="mord"></span></span><span style="top:-10.16em;"><span class="pstrut" style="height:3.8089em;"></span><span class="mord"></span></span><span style="top:-8.66em;"><span class="pstrut" style="height:3.8089em;"></span><span class="mord"></span></span><span style="top:-7.07em;"><span class="pstrut" style="height:3.8089em;"></span><span class="mord"></span></span><span style="top:-5.57em;"><span class="pstrut" style="height:3.8089em;"></span><span class="mord"></span></span><span style="top:-3.86em;"><span class="pstrut" style="height:3.8089em;"></span><span class="mord"></span></span><span style="top:-2.11em;"><span class="pstrut" style="height:3.8089em;"></span><span class="mord"></span></span><span style="top:-0.61em;"><span class="pstrut" style="height:3.8089em;"></span><span class="mord"></span></span><span style="top:1.0978em;"><span class="pstrut" style="height:3.8089em;"></span><span class="mord"></span></span><span style="top:3.5668em;"><span class="pstrut" style="height:3.8089em;"></span><span class="mord"></span></span><span style="top:6.0157em;"><span class="pstrut" style="height:3.8089em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:10.4847em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:10.9847em;"><span style="top:-13.4368em;"><span class="pstrut" style="height:3.8089em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="background-color:#FBCFE8;height:1.9936em;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-right:0.0417em;top:-2.5474em;margin-left:0em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-11.66em;"><span class="pstrut" style="height:3.8089em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span></span></span><span style="top:-8.66em;"><span class="pstrut" style="height:3.8089em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-7.07em;"><span class="pstrut" style="height:3.8089em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span><span style="top:-5.57em;"><span class="pstrut" style="height:3.8089em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span><span style="top:-3.86em;"><span class="pstrut" style="height:3.8089em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.66em;"></span><span class="stretchy colorbox" style="background-color:#bae6fd;height:1.66em;"></span></span><span style="top:-3.66em;"><span class="pstrut" style="height:3.66em;"></span><span class="mord boxpad"><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:0em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord">⊥</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.61em;"><span></span></span></span></span></span></span></span><span style="top:-0.61em;"><span class="pstrut" style="height:3.8089em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">E</span><span class="mord">n</span><span class="mord">d</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:1.0978em;"><span class="pstrut" style="height:3.8089em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9579em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">h</span></span><span style="top:-3.1634em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" height="0.714em" style="width:0.471em" preserveAspectRatio="xMinYMin" viewBox="0 0 471 714" width="0.471em"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:0em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span><span style="top:3.5668em;"><span class="pstrut" style="height:3.8089em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8089em;"><span style="top:-3.8089em;"><span class="pstrut" style="height:5.1179em;"></span><span class="stretchy colorbox" style="height:3.1179em;background-color:#bae6fd;"></span></span><span style="top:-5.1179em;"><span class="pstrut" style="height:5.1179em;"></span><span class="mord boxpad"><span class="mord text"><span class="mord texttt">if </span></span><span class="mord">∃</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord">.</span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5089em;"><span style="top:-3.5089em;"><span class="pstrut" style="height:2.9579em;"></span><span class="mord"><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9579em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">h</span></span><span style="top:-3.1634em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:0em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9579em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">h</span></span><span style="top:-3.1634em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" style="width:0.471em" preserveAspectRatio="xMinYMin" width="0.471em" height="0.714em" viewBox="0 0 471 714"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">))</span><span class="mspace"> </span><span class="mord">∨</span></span></span><span style="top:-2.3089em;"><span class="pstrut" style="height:2.9579em;"></span><span class="mord"><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMinYMin" height="0.714em" viewBox="0 0 471 714" width="0.471em" style="width:0.471em"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin" width="0.471em" height="0.714em"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin" width="0.471em" height="0.714em" style="width:0.471em"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">))</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.0089em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3089em;"><span></span></span></span></span></span></span></span><span style="top:6.0157em;"><span class="pstrut" style="height:3.8089em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:10.4847em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-12.2262em;"><span class="pstrut" style="height:22.0024em;"></span><span class="stretchy fbox" style="height:20.0024em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:9.7762em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:10.1218em;"><span style="top:-12.1218em;"><span class="pstrut" style="height:10.8968em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:8.8968em;"><span style="top:-19.3436em;"><span class="pstrut" style="height:19.3436em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:9.5075em;"><span style="top:-11.5075em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-9.7308em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-8.2308em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-6.5808em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-5.0808em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-3.3708em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-1.3629em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:0.255em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:1.755em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:3.3728em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:4.9907em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:9.0075em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:9.5075em;"><span style="top:-11.5075em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="height:1.9936em;background-color:#FBCFE8;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="top:-2.5474em;margin-right:0.0417em;margin-left:0em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.109em;">M</span></span></span><span style="margin-right:0.0417em;top:-3.163em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-8.2308em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.53em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">h</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.51em;"><span></span></span></span></span></span></span></span><span style="top:-6.5808em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord mathnormal">h</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">⊥</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span><span style="top:-3.3708em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.8em;"></span><span class="stretchy colorbox" style="background-color:#bae6fd;height:1.8em;"></span></span><span style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord boxpad"><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span></span></span></span></span></span></span></span><span style="top:-1.3629em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9579em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">h</span></span><span style="top:-3.1634em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="width:0.471em;height:0.714em;"><svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMinYMin" width="0.471em" viewBox="0 0 471 714" style="width:0.471em" height="0.714em"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span><span style="top:0.255em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9579em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">h</span></span><span style="top:-3.1634em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:1.755em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">assert </span></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin" width="0.471em" height="0.714em"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:0em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:3.3728em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9579em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">h</span></span><span style="top:-3.1634em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="width:0.471em;height:0.714em;"><svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMinYMin" style="width:0.471em" viewBox="0 0 471 714" width="0.471em" height="0.714em"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:4.9907em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mopen">[</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9579em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">h</span></span><span style="top:-3.1634em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:9.0075em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-10.8968em;"><span class="pstrut" style="height:19.3436em;"></span><span class="stretchy fbox" style="border-width:0.04em;border-style:solid;height:17.3436em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:8.4468em;"><span></span></span></span></span></span></span></span><span style="top:-2.835em;"><span class="pstrut" style="height:10.8968em;"></span><span class="mord"><span class="mord">⊗</span></span></span><span style="top:-1.635em;"><span class="pstrut" style="height:10.8968em;"></span><span class="mord"><span class="mord">1</span><span class="mopen">(</span><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-right:0.05em;margin-left:0em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-right:0.05em;margin-left:0em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:9.6218em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-2.835em;"><span class="pstrut" style="height:12.2262em;"></span><span class="mord"><span class="mord">∘</span></span></span><span style="top:-1.635em;"><span class="pstrut" style="height:12.2262em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:10.9512em;"><span></span></span></span></span></span></span></span></span></span></span></span></span>
<p>Because we're using a random oracle.
Nowe, we can extract preimages by snopping on the hash queries
made by the adversary, and send those instead.</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="false" scriptlevel="0"><mstyle displaystyle="true" scriptlevel="0"><mstyle mathsize="0.9em"><mtable columnalign="right left" columnspacing="0em" rowspacing="0.25em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded voffset="3pt" mathbackground="#FBCFE8" height="+6pt" lspace="3pt" width="+6pt"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>3</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mo>…</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded width="+6pt" voffset="3pt" mathbackground="#bae6fd" height="+6pt" lspace="3pt"><mstyle displaystyle="false" scriptlevel="0"><munder accentunder="true"><mrow><msub><mtext>WaitBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><msub><mo>↰</mo><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mo>↱</mo><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><mi mathvariant="normal">⊥</mi><mo separator="true">,</mo><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><mo stretchy="false">)</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded voffset="3pt" height="+6pt" mathbackground="#bae6fd" lspace="3pt" width="+6pt"><mstyle displaystyle="false" scriptlevel="0"><munder accentunder="true"><mrow><msub><mtext>EndBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mo stretchy="false">(</mo><mover accent="true"><mi>h</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><mo separator="true">,</mo><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><mo stretchy="false">)</mo><msub><mo>↰</mo><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∃</mi><mi>j</mi><mi mathvariant="normal">.</mi><mspace width="0.5em"/><mtable columnalign="center" rowspacing="0.16em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo stretchy="false">(</mo><msub><mover accent="true"><mi>h</mi><mo>^</mo></mover><mi>j</mi></msub><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo>∧</mo><msub><mover accent="true"><mi>h</mi><mo>^</mo></mover><mi>j</mi></msub><mi mathvariant="normal">≠</mi><mtext>Hash</mtext><mo stretchy="false">(</mo><msub><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi>i</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mtext> </mtext><mo>∨</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mo stretchy="false">(</mo><msub><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi>j</mi></msub><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo>∧</mo><mtext>Hash</mtext><mo stretchy="false">(</mo><msub><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi>j</mi></msub><mo stretchy="false">)</mo><mi mathvariant="normal">≠</mi><mtext>Hash</mtext><mo stretchy="false">(</mo><msub><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi>i</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mo>⊗</mo><mtable columnspacing="1em" columnalign="center" rowspacing="0.16em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="true" scriptlevel="0"><mstyle mathsize="0.9em"><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded height="+6pt" width="+6pt" mathbackground="#bae6fd" lspace="3pt" voffset="3pt"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msubsup><mi mathvariant="normal">Γ</mi><mi>M</mi><mn>3</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mi>μ</mi><mo stretchy="false">[</mo><mo>…</mo><mo stretchy="false">]</mo><mo>←</mo><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><mtext>Hash</mtext><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mi>h</mi><mo>←</mo><mtext>Hash</mtext><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mi>μ</mi><mo stretchy="false">[</mo><mi>h</mi><mo stretchy="false">]</mo><mo>←</mo><mi>x</mi><mi mathvariant="normal">_</mi><mo>∙</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mi>h</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mi>h</mi><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mo>↱</mo><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mi>h</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">assert</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mi mathvariant="normal">.</mi><mtext> </mtext><msub><mi>h</mi><mi>j</mi></msub><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">for</mtext><mtext> </mtext></mrow><mi>j</mi><mo>∈</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">M</mi><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mi>h</mi><mi mathvariant="normal">_</mi><mrow><mi>k</mi><mi>j</mi></mrow><mo>←</mo><msub><mi>h</mi><mi>j</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">for</mtext><mtext> </mtext></mrow><mi>j</mi><mo>∈</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">H</mi><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mi>μ</mi><mo stretchy="false">[</mo><msub><mi>h</mi><mi>j</mi></msub><mo stretchy="false">]</mo><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mspace width="0.5em"/><msub><mo>↱</mo><mi>k</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">{</mo><mi>j</mi><mo stretchy="false">}</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><mi mathvariant="normal">⊥</mi><mo separator="true">,</mo><mi>μ</mi><mo stretchy="false">[</mo><msub><mi>h</mi><mi>j</mi></msub><mo stretchy="false">]</mo><mo stretchy="false">)</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mtext mathvariant="monospace">else</mtext><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mspace width="0.5em"/><msub><mo>↱</mo><mi>k</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">{</mo><mi>j</mi><mo stretchy="false">}</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><msub><mi>h</mi><mi>j</mi></msub><mo separator="true">,</mo><mi mathvariant="normal">⊥</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mo>↰</mo><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mo stretchy="false">(</mo><mo>…</mo><mo separator="true">,</mo><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><mo stretchy="false">)</mo><msub><mo>↰</mo><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">H</mi><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mtext mathvariant="monospace">wait</mtext><mi mathvariant="normal">_</mi><mrow><mo stretchy="false">(</mo><mi>k</mi><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><mtext> </mtext><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">M</mi><mi mathvariant="normal">.</mi><mtext> </mtext><mi>h</mi><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>k</mi></mrow><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mrow><mo fence="true">[</mo><mtable columnspacing="1em" columnalign="center center center" rowspacing="0.16em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mtext>Hash</mtext><mo stretchy="false">(</mo><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi mathvariant="normal">_</mi><mi>j</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">∣</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>j</mi><mo>∈</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">H</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>h</mi><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>k</mi></mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="false" scriptlevel="0"><mo lspace="0em" rspace="0em">∣</mo></mstyle></mtd><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>j</mi><mo>∈</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">M</mi></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mo lspace="0em" rspace="0em">⊗</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>1</mn><mo stretchy="false">(</mo><msub><mo>↱</mo><mi>k</mi></msub><mo separator="true">,</mo><msub><mo>↰</mo><mi>k</mi></msub><mo separator="true">,</mo><mtext>Hash</mtext><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo rspace="0em" lspace="0em">∘</mo></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>F</mi><mo stretchy="false">[</mo><mtext>SyncComm</mtext><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Hash</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^3_H$
}\cr
&amp;\ldots\cr
\cr
&amp;\colorbox{bae6fd}{$\underline{
  \text{WaitBroadcast}_i():
}$}\cr
  &amp;\enspace
    \hat{x}\_\bullet \Lsh_i(\star, 0)
  \cr
  &amp;\enspace
    \Rsh_i(\star, (\bot, \hat{x}\_\bullet), 1)
  \cr
\cr
&amp;\colorbox{bae6fd}{$\underline{
  \text{EndBroadcast}_i():
}$}\cr
  &amp;\enspace
    (\hat{h}\_\bullet, \vec{x}\_\bullet) \Lsh_i(\star, 1)
  \cr
  &amp;\enspace
    \texttt{if } \exists j.\enspace
    \begin{matrix}
      (\hat{h}_j \neq \bot \land \hat{h}_j \neq \text{Hash}(\vec{x}_i))\ \lor\cr
      (\vec{x}_j \neq \bot \land \text{Hash}(\vec{x}_j) \neq \text{Hash}(\vec{x}_i))
    \end{matrix}
    :
  \cr
  &amp;\enspace\enspace
    \texttt{stop}(\star, 1)
  \cr
\end{aligned}
}
}
\otimes
\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{bae6fd}{\large
  $\Gamma^3_M$
}\cr
\cr
&amp;\mu[\ldots] \gets \bot\cr
&amp;\underline{
  \text{Hash}(x\_\bullet):
}\cr
  &amp;\enspace
    h \gets \text{Hash}(x\_\bullet)
  \cr
  &amp;\enspace
    \mu[h] \gets x\_\bullet
  \cr
  &amp;\enspace
    \texttt{return } h
  \cr
\cr
&amp;h\_{ij} \gets \bot\cr
&amp;\underline{
  \Rsh_k(S, h\_\bullet, 1):
}\cr
  &amp;\enspace
    \texttt{assert } \forall j \in S.\ h_j \neq \bot
  \cr
  &amp;\enspace
    \texttt{for } j \in S \cap \mathcal{M}:
  \cr
  &amp;\enspace\enspace
    h\_{kj} \gets h_j
  \cr
  &amp;\enspace
    \texttt{for } j \in S \cap \mathcal{H}:
  \cr
  &amp;\enspace\enspace
    \texttt{if } \mu[h_j] \neq \bot:
  \cr
  &amp;\enspace\enspace\enspace
    \Rsh_k(\{j\}, (\bot, \mu[h_j]), 1)
  \cr
  &amp;\enspace\enspace
    \texttt{else}:
  \cr
  &amp;\enspace\enspace\enspace
    \Rsh_k(\{j\}, (h_j, \bot), 1)
  \cr
  &amp;
\cr
&amp;\underline{
  \Lsh_k(S, 1):
}\cr
  &amp;\enspace
    (\ldots, \vec{x}\_\bullet)\Lsh_k(S \cap \mathcal{H}, 1)
  \cr
  &amp;\enspace
    \texttt{wait}\_{(k, 1)}\ \forall j \in S \cap \mathcal{M}.\ h\_{jk} \neq \bot
  \cr
  &amp;\enspace
    \texttt{return }\begin{bmatrix}
      \text{Hash}(\vec{x}\_j) &amp;\mid&amp; j \in S \cap \mathcal{H}\cr
      h\_{jk} &amp;\mid&amp; j \in S \cap \mathcal{M}\cr
    \end{bmatrix}
  \cr
\cr
\end{aligned}
}
}
\cr
  \otimes
\cr
  1(\Rsh_k, \Lsh_k, \text{Hash})
\end{matrix}
\cr
  \circ
\cr
F[\text{SyncComm}] \otimes F[\text{Hash}]
\end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="vertical-align:-19.8826em;height:40.2652em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:20.3826em;"><span style="top:-22.3826em;"><span class="pstrut" style="height:21.1826em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:9.5332em;"><span style="top:-20.6164em;"><span class="pstrut" style="height:20.6164em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:10.2147em;"><span style="top:-12.3668em;"><span class="pstrut" style="height:3.5089em;"></span><span class="mord"></span></span><span style="top:-10.59em;"><span class="pstrut" style="height:3.5089em;"></span><span class="mord"></span></span><span style="top:-9.09em;"><span class="pstrut" style="height:3.5089em;"></span><span class="mord"></span></span><span style="top:-7.38em;"><span class="pstrut" style="height:3.5089em;"></span><span class="mord"></span></span><span style="top:-5.49em;"><span class="pstrut" style="height:3.5089em;"></span><span class="mord"></span></span><span style="top:-3.99em;"><span class="pstrut" style="height:3.5089em;"></span><span class="mord"></span></span><span style="top:-2.49em;"><span class="pstrut" style="height:3.5089em;"></span><span class="mord"></span></span><span style="top:-0.78em;"><span class="pstrut" style="height:3.5089em;"></span><span class="mord"></span></span><span style="top:1.2278em;"><span class="pstrut" style="height:3.5089em;"></span><span class="mord"></span></span><span style="top:3.3968em;"><span class="pstrut" style="height:3.5089em;"></span><span class="mord"></span></span><span style="top:5.5457em;"><span class="pstrut" style="height:3.5089em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:9.7147em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:10.2147em;"><span style="top:-12.3668em;"><span class="pstrut" style="height:3.5089em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="height:1.9936em;background-color:#FBCFE8;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-right:0.0417em;top:-2.5474em;margin-left:0em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-10.59em;"><span class="pstrut" style="height:3.5089em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span></span></span><span style="top:-7.38em;"><span class="pstrut" style="height:3.5089em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.8em;"></span><span class="stretchy colorbox" style="background-color:#bae6fd;height:1.8em;"></span></span><span style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord boxpad"><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span></span></span></span></span></span></span></span><span style="top:-5.49em;"><span class="pstrut" style="height:3.5089em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span><span style="top:-3.99em;"><span class="pstrut" style="height:3.5089em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord">⊥</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span><span style="top:-0.78em;"><span class="pstrut" style="height:3.5089em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.8em;"></span><span class="stretchy colorbox" style="height:1.8em;background-color:#bae6fd;"></span></span><span style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord boxpad"><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">E</span><span class="mord">n</span><span class="mord">d</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span></span></span></span></span></span></span></span><span style="top:1.2278em;"><span class="pstrut" style="height:3.5089em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9579em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">h</span></span><span style="top:-3.1634em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMinYMin" width="0.471em" viewBox="0 0 471 714" height="0.714em" style="width:0.471em"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span><span style="top:3.3968em;"><span class="pstrut" style="height:3.5089em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord">∃</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord">.</span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5089em;"><span style="top:-3.5089em;"><span class="pstrut" style="height:2.9579em;"></span><span class="mord"><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9579em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">h</span></span><span style="top:-3.1634em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:0em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9579em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">h</span></span><span style="top:-3.1634em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin" style="width:0.471em" height="0.714em" width="0.471em"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">))</span><span class="mspace"> </span><span class="mord">∨</span></span></span><span style="top:-2.3089em;"><span class="pstrut" style="height:2.9579em;"></span><span class="mord"><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin" width="0.471em"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:0em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin" height="0.714em"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" height="0.714em" style="width:0.471em" width="0.471em" preserveAspectRatio="xMinYMin" viewBox="0 0 471 714"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">))</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.0089em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:5.5457em;"><span class="pstrut" style="height:3.5089em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:9.7147em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-11.5332em;"><span class="pstrut" style="height:20.6164em;"></span><span class="stretchy fbox" style="border-style:solid;border-width:0.04em;height:18.6164em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:9.0832em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:19.1826em;"><span style="top:-21.1826em;"><span class="pstrut" style="height:19.9576em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:17.9576em;"><span style="top:-37.4652em;"><span class="pstrut" style="height:37.4652em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:19.5751em;"><span style="top:-21.8044em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:-20.0277em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:-18.5277em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:-17.0277em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:-15.3777em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:-13.8777em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:-12.3777em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:-10.8777em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:-9.3777em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:-7.8777em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:-6.2277em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:-4.7277em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:-3.2277em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:-1.7277em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:-0.2277em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:1.2723em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:2.7723em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:4.2723em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:5.7723em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:7.2723em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:8.8623em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:10.3623em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:12.6084em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:14.829em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:19.0751em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:19.5751em;"><span style="top:-21.8044em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="background-color:#bae6fd;height:1.9936em;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="top:-2.5474em;margin-right:0.0417em;margin-left:0em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.109em;">M</span></span></span><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-18.5277em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mord mathnormal">μ</span><span class="mopen">[</span><span class="minner">…</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:-17.0277em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.53em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.51em;"><span></span></span></span></span></span></span></span><span style="top:-15.3777em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mclose">)</span></span></span><span style="top:-13.8777em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord mathnormal">μ</span><span class="mopen">[</span><span class="mord mathnormal">h</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">x</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span></span></span><span style="top:-12.3777em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord mathnormal">h</span></span></span><span style="top:-9.3777em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mord mathnormal">h</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:-7.8777em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.53em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">h</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.51em;"><span></span></span></span></span></span></span></span><span style="top:-6.2277em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">assert </span></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mord">.</span><span class="mspace"> </span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:-4.7277em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">for </span></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal">M</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:-3.2277em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord mathnormal">h</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">kj</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.7277em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">for </span></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:-0.2277em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord mathnormal">μ</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:1.2723em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">({</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">}</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord">⊥</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">μ</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mclose">])</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span><span style="top:2.7723em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">else</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:4.2723em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;margin-left:0em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">({</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">}</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">⊥</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span><span style="top:5.7723em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span></span></span><span style="top:7.2723em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:8.8623em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mopen">(</span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="width:0.471em;height:0.714em;"><svg xmlns="http://www.w3.org/2000/svg" height="0.714em" style="width:0.471em" width="0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span><span style="top:10.3623em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">wait</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0315em;">k</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span><span class="mspace"> </span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal">M</span><span class="mord">.</span><span class="mspace"> </span><span class="mord mathnormal">h</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0315em;">jk</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:12.6084em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen sizing reset-size5 size6 delimcenter" style="top:0.025em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.51em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord"><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="width:0.471em;height:0.714em;"><svg xmlns="http://www.w3.org/2000/svg" height="0.714em" viewBox="0 0 471 714" width="0.471em" preserveAspectRatio="xMinYMin" style="width:0.471em"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">)</span></span></span><span style="top:-2.31em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0315em;">jk</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.51em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord"><span class="mrel">∣</span></span></span><span style="top:-2.31em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord"><span class="mrel">∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.51em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span></span></span><span style="top:-2.31em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal">M</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose sizing reset-size5 size6 delimcenter" style="top:0.025em;"><span class="delimsizing size3">]</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:17.5751em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-19.9576em;"><span class="pstrut" style="height:37.4652em;"></span><span class="stretchy fbox" style="border-width:0.04em;height:35.4652em;border-style:solid;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:17.5076em;"><span></span></span></span></span></span></span></span><span style="top:-2.835em;"><span class="pstrut" style="height:19.9576em;"></span><span class="mord"><span class="mord">⊗</span></span></span><span style="top:-1.635em;"><span class="pstrut" style="height:19.9576em;"></span><span class="mord"><span class="mord">1</span><span class="mopen">(</span><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="margin-left:0em;margin-right:0.05em;top:-2.55em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="margin-left:0em;margin-right:0.05em;top:-2.55em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:18.6826em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-2.86em;"><span class="pstrut" style="height:21.1826em;"></span><span class="mord"><span class="mord">∘</span></span></span><span style="top:-1.66em;"><span class="pstrut" style="height:21.1826em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:19.8826em;"><span></span></span></span></span></span></span></span></span></span></span></span></span>
<p>Now, except with negligible probability, a hash with no pre-image
will cause the final verification check made by honest parties
to fail, so we can instead cause an abort when the adversary
tries to send such a hash,
allowing us to always extract a pre-image, or to abort:</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable columnalign="center" rowspacing="0.16em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded width="+6pt" voffset="3pt" height="+6pt" lspace="3pt" mathbackground="#FBCFE8"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>4</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mo>…</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><msub><mo>↰</mo><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mpadded lspace="3pt" width="+6pt" voffset="3pt" mathbackground="#bae6fd" height="+6pt"><mstyle displaystyle="false" scriptlevel="0"><msub><mo>↱</mo><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>EndBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mpadded width="+6pt" height="+6pt" lspace="3pt" mathbackground="#bae6fd" voffset="3pt"><mstyle scriptlevel="0" displaystyle="false"><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><msub><mo>↰</mo><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mpadded width="+6pt" height="+6pt" lspace="3pt" mathbackground="#bae6fd" voffset="3pt"><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∃</mi><mi>j</mi><mi mathvariant="normal">.</mi><mspace width="0.5em"/><mtext>Hash</mtext><mo stretchy="false">(</mo><msub><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi>j</mi></msub><mo stretchy="false">)</mo><mi mathvariant="normal">≠</mi><mtext>Hash</mtext><mo stretchy="false">(</mo><msub><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi>i</mi></msub><mo stretchy="false">)</mo><mo>:</mo></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mo>⊗</mo><mtable columnalign="center" rowspacing="0.16em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="false" scriptlevel="0"><mstyle displaystyle="true" scriptlevel="0"><mstyle mathsize="0.9em"><mtable rowspacing="0.25em" columnspacing="0em" columnalign="right left"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded width="+6pt" height="+6pt" voffset="3pt" lspace="3pt" mathbackground="#FBCFE8"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><msubsup><mi mathvariant="normal">Γ</mi><mi>M</mi><mn>4</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>…</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mo>↱</mo><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mi>h</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mo>…</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">for</mtext><mtext> </mtext></mrow><mi>j</mi><mo>∈</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">H</mi><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mi>μ</mi><mo stretchy="false">[</mo><msub><mi>h</mi><mi>j</mi></msub><mo stretchy="false">]</mo><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mspace width="0.5em"/><mpadded voffset="3pt" height="+6pt" lspace="3pt" mathbackground="#bae6fd" width="+6pt"><mstyle scriptlevel="0" displaystyle="false"><msub><mo>↱</mo><mi>k</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">{</mo><mi>j</mi><mo stretchy="false">}</mo><mo separator="true">,</mo><mi>μ</mi><mo stretchy="false">[</mo><msub><mi>h</mi><mi>j</mi></msub><mo stretchy="false">]</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mtext mathvariant="monospace">else</mtext><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mspace width="0.5em"/><mpadded voffset="3pt" width="+6pt" mathbackground="#bae6fd" lspace="3pt" height="+6pt"><mstyle displaystyle="false" scriptlevel="0"><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mo>↰</mo><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mpadded mathbackground="#bae6fd" width="+6pt" lspace="3pt" height="+6pt" voffset="3pt"><mstyle scriptlevel="0" displaystyle="false"><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><msub><mo>↰</mo><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">H</mi><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mo>…</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⊗</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>1</mn><mo stretchy="false">(</mo><msub><mo>↱</mo><mi>k</mi></msub><mo separator="true">,</mo><msub><mo>↰</mo><mi>k</mi></msub><mo separator="true">,</mo><mtext>Hash</mtext><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mo lspace="0em" rspace="0em">∘</mo></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>F</mi><mo stretchy="false">[</mo><mtext>SyncComm</mtext><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Hash</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^4_H$
}\cr
&amp;\ldots\cr
\cr
&amp;\underline{
  \text{WaitBroadcast}_i():
}\cr
  &amp;\enspace
    \hat{x}\_\bullet \Lsh_i(\star, 0)
  \cr
  &amp;\enspace
  \colorbox{bae6fd}{$
    \Rsh_i(\star, \hat{x}\_\bullet, 1)
  $}
  \cr
\cr
&amp;\underline{
  \text{EndBroadcast}_i():
}\cr
  &amp;\enspace
  \colorbox{bae6fd}{$
    \vec{x}\_\bullet \Lsh_i(\star, 1)
  $}
  \cr
  &amp;\enspace
  \colorbox{bae6fd}{$
    \texttt{if } \exists j.\enspace
      \text{Hash}(\vec{x}_j) \neq \text{Hash}(\vec{x}_i)
    :
  $}
  \cr
  &amp;\enspace\enspace
    \texttt{stop}(\star, 1)
  \cr
\end{aligned}
}
}
\otimes
\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^4_M$
}\cr
\cr
&amp;\ldots\cr
\cr
&amp;\underline{
  \Rsh_k(S, h\_\bullet, 1):
}\cr
  &amp;\enspace
    \ldots
  \cr
  &amp;\enspace
    \texttt{for } j \in S \cap \mathcal{H}:
  \cr
  &amp;\enspace\enspace
    \texttt{if } \mu[h_j] \neq \bot:
  \cr
  &amp;\enspace\enspace\enspace
  \colorbox{bae6fd}{$
    \Rsh_k(\{j\}, \mu[h_j], 1)
  $}
  \cr
  &amp;\enspace\enspace
    \texttt{else}:
  \cr
  &amp;\enspace\enspace\enspace
  \colorbox{bae6fd}{$
    \texttt{stop}(\star, 1)
  $}
  \cr
  &amp;
\cr
&amp;\underline{
  \Lsh_k(S, 1):
}\cr
  &amp;\enspace
  \colorbox{bae6fd}{$
    \vec{x}\_\bullet\Lsh_k(S \cap \mathcal{H}, 1)
  $}
  \cr
  &amp;\enspace
    \ldots
  \cr
\cr
\end{aligned}
}
}
\cr
  \otimes
\cr
  1(\Rsh_k, \Lsh_k, \text{Hash})
\end{matrix}
\cr
  \circ
\cr
F[\text{SyncComm}] \otimes F[\text{Hash}]
\end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="vertical-align:-14.3354em;height:29.1709em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:14.8354em;"><span style="top:-16.8354em;"><span class="pstrut" style="height:15.6354em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:9.0354em;"><span style="top:-19.6209em;"><span class="pstrut" style="height:19.6209em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:9.6616em;"><span style="top:-11.6616em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-9.8849em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-8.3849em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-6.8849em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-5.2949em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-3.5849em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-1.8349em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-0.3349em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:1.4651em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:3.4251em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:5.1448em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:9.1616em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:9.6616em;"><span style="top:-11.6616em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="background-color:#FBCFE8;height:1.9936em;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-right:0.0417em;margin-left:0em;top:-2.5474em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-9.8849em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span></span></span><span style="top:-6.8849em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-5.2949em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span><span style="top:-3.5849em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.66em;"></span><span class="stretchy colorbox" style="height:1.66em;background-color:#bae6fd;"></span></span><span style="top:-3.66em;"><span class="pstrut" style="height:3.66em;"></span><span class="mord boxpad"><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.61em;"><span></span></span></span></span></span></span></span><span style="top:-0.3349em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">E</span><span class="mord">n</span><span class="mord">d</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:1.4651em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.66em;"></span><span class="stretchy colorbox" style="background-color:#bae6fd;height:1.66em;"></span></span><span style="top:-3.66em;"><span class="pstrut" style="height:3.66em;"></span><span class="mord boxpad"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="width:0.471em;height:0.714em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" viewBox="0 0 471 714" height="0.714em" preserveAspectRatio="xMinYMin" style="width:0.471em"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.61em;"><span></span></span></span></span></span></span></span><span style="top:3.4251em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.6296em;"></span><span class="stretchy colorbox" style="background-color:#bae6fd;height:1.6296em;"></span></span><span style="top:-3.6296em;"><span class="pstrut" style="height:3.6296em;"></span><span class="mord boxpad"><span class="mord text"><span class="mord texttt">if </span></span><span class="mord">∃</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord">.</span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" preserveAspectRatio="xMinYMin" height="0.714em" viewBox="0 0 471 714" style="width:0.471em"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:0em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMinYMin" height="0.714em" width="0.471em" style="width:0.471em" viewBox="0 0 471 714"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5796em;"><span></span></span></span></span></span></span></span><span style="top:5.1448em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:9.1616em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-11.0354em;"><span class="pstrut" style="height:19.6209em;"></span><span class="stretchy fbox" style="border-style:solid;height:17.6209em;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:8.5854em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:13.6354em;"><span style="top:-15.6354em;"><span class="pstrut" style="height:14.4104em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:12.4104em;"><span style="top:-26.3709em;"><span class="pstrut" style="height:26.3709em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:13.4116em;"><span style="top:-15.4116em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-13.6349em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-12.1349em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-10.6349em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-9.1349em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-7.4849em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-5.9849em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-4.4849em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-2.7749em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-1.0552em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:0.6548em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:2.3448em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:3.8448em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:5.6448em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:7.3948em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:8.8948em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:12.9116em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:13.4116em;"><span style="top:-15.4116em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="height:1.9936em;background-color:#FBCFE8;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-left:0em;margin-right:0.0417em;top:-2.5474em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.109em;">M</span></span></span><span style="margin-right:0.0417em;top:-3.163em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-12.1349em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span></span></span><span style="top:-9.1349em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.53em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">h</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.51em;"><span></span></span></span></span></span></span></span><span style="top:-7.4849em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="minner">…</span></span></span><span style="top:-5.9849em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">for </span></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:-4.4849em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord mathnormal">μ</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:-2.7749em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.6296em;"></span><span class="stretchy colorbox" style="height:1.6296em;background-color:#bae6fd;"></span></span><span style="top:-3.6296em;"><span class="pstrut" style="height:3.6296em;"></span><span class="mord boxpad"><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">({</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">}</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">μ</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5796em;"><span></span></span></span></span></span></span></span><span style="top:-1.0552em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">else</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:0.6548em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.6em;"></span><span class="stretchy colorbox" style="height:1.6em;background-color:#bae6fd;"></span></span><span style="top:-3.6em;"><span class="pstrut" style="height:3.6em;"></span><span class="mord boxpad"><span class="mord text"><span class="mord texttt">stop</span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.55em;"><span></span></span></span></span></span></span></span><span style="top:2.3448em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span></span></span><span style="top:3.8448em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:5.6448em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.66em;"></span><span class="stretchy colorbox" style="background-color:#bae6fd;height:1.66em;"></span></span><span style="top:-3.66em;"><span class="pstrut" style="height:3.66em;"></span><span class="mord boxpad"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" height="0.714em" style="width:0.471em" width="0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.61em;"><span></span></span></span></span></span></span></span><span style="top:7.3948em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="minner">…</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:11.4116em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-14.4104em;"><span class="pstrut" style="height:26.3709em;"></span><span class="stretchy fbox" style="border-width:0.04em;border-style:solid;height:24.3709em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:11.9604em;"><span></span></span></span></span></span></span></span><span style="top:-2.835em;"><span class="pstrut" style="height:14.4104em;"></span><span class="mord"><span class="mord">⊗</span></span></span><span style="top:-1.635em;"><span class="pstrut" style="height:14.4104em;"></span><span class="mord"><span class="mord">1</span><span class="mopen">(</span><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="margin-right:0.05em;margin-left:0em;top:-2.55em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:13.1354em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-2.86em;"><span class="pstrut" style="height:15.6354em;"></span><span class="mord"><span class="mord">∘</span></span></span><span style="top:-1.66em;"><span class="pstrut" style="height:15.6354em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:14.3354em;"><span></span></span></span></span></span></span></span></span></span></span></span></span>
<p>At this point, we've actually written a simulator
for a protocol <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="script">P</mi><mn>0</mn></msup></mrow><annotation encoding="application/x-tex">\mathscr{P}^0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span></span></span></span></span>, which is like our initial
protocol, except that the parties send their entire vector,
rather than their hash.
This shows that <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>EchoBroadcast</mtext><mo stretchy="false">]</mo><mo>⇝</mo><msup><mi mathvariant="script">P</mi><mn>0</mn></msup></mrow><annotation encoding="application/x-tex">\mathscr{P}[\text{EchoBroadcast}] \leadsto \mathscr{P}^0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="vertical-align:-0.25em;height:1em;"></span><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="mopen">[</span><span class="mord text"><span class="mord">E</span><span class="mord">c</span><span class="mord">h</span><span class="mord">o</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">⇝</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="margin-right:0.05em;top:-3.063em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span></span></span></span></span>.</p>
<p>We can unroll <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>Inst</mtext><mo stretchy="false">(</mo><msup><mi mathvariant="script">P</mi><mn>0</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\text{Inst}(\mathscr{P}^0)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">I</span><span class="mord">n</span><span class="mord">s</span><span class="mord">t</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span> to get:</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="true" scriptlevel="0"><mstyle mathsize="0.9em"><mtable columnalign="right left" columnspacing="0em" rowspacing="0.25em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded width="+6pt" voffset="3pt" height="+6pt" lspace="3pt" mathbackground="#FBCFE8"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>5</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mo>…</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mo>↱</mo><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mi>x</mi><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><msub><mo>↰</mo><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mo>↱</mo><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>EndBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><msub><mo>↰</mo><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∃</mi><mi>j</mi><mi mathvariant="normal">.</mi><mspace width="0.5em"/><mtext>Hash</mtext><mo stretchy="false">(</mo><msub><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi>j</mi></msub><mo stretchy="false">)</mo><mi mathvariant="normal">≠</mi><mtext>Hash</mtext><mo stretchy="false">(</mo><msub><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi>i</mi></msub><mo stretchy="false">)</mo><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mo>⊗</mo><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="false" scriptlevel="0"><mstyle displaystyle="true" scriptlevel="0"><mrow><mpadded mathbackground="#FBCFE8" width="+6pt" height="+6pt" lspace="3pt" voffset="3pt"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><msubsup><mi mathvariant="normal">Γ</mi><mi>M</mi><mn>5</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded><mo>=</mo><mn>1</mn><mrow><mo fence="true">(</mo><mtable columnalign="center" rowspacing="0.16em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mo>↱</mo><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><msub><mo>↰</mo><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mtext>Hash</mtext></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow></mstyle></mstyle></mstyle></menclose></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">∘</mo></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>F</mi><mo stretchy="false">[</mo><mtext>SyncComm</mtext><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Hash</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^5_H$
}\cr
&amp;\ldots\cr
\cr
&amp;\underline{
  \text{WaitBroadcast}_i():
}\cr
  &amp;\enspace
    \Rsh_i(\star, x, 0)
  \cr
  &amp;\enspace
    \hat{x}\_\bullet \Lsh_i(\star, 0)
  \cr
  &amp;\enspace
    \Rsh_i(\star, \hat{x}\_\bullet, 1)
  \cr
\cr
&amp;\underline{
  \text{EndBroadcast}_i():
}\cr
  &amp;\enspace
    \vec{x}\_\bullet \Lsh_i(\star, 1)
  \cr
  &amp;\enspace
    \texttt{if } \exists j.\enspace
      \text{Hash}(\vec{x}_j) \neq \text{Hash}(\vec{x}_i)
    :
  \cr
  &amp;\enspace\enspace
    \texttt{stop}(\star, 1)
  \cr
\end{aligned}
}
}
\otimes
\boxed{\colorbox{FBCFE8}{\large
  $\Gamma^5_M$
} = 1
\begin{pmatrix}
    \Rsh_k
  ,\cr
    \Lsh_k
  ,\cr
    \text{Hash}
\end{pmatrix}
}
\cr
  \circ
\cr
F[\text{SyncComm}] \otimes F[\text{Hash}]
\end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:20.1562em;vertical-align:-9.8281em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:10.3281em;"><span style="top:-12.3281em;"><span class="pstrut" style="height:11.1031em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:9.1031em;"><span style="top:-19.7562em;"><span class="pstrut" style="height:19.7562em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:9.7368em;"><span style="top:-11.7368em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-9.96em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-8.46em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-6.96em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-5.37em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-3.87em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-2.37em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-0.87em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:0.63em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:2.22em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:3.72em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:5.22em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:9.2368em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:9.7368em;"><span style="top:-11.7368em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="height:1.9936em;background-color:#FBCFE8;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="top:-2.5474em;margin-left:0em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-9.96em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span></span></span><span style="top:-6.96em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-5.37em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span><span style="top:-3.87em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span><span style="top:-2.37em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span><span style="top:0.63em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">E</span><span class="mord">n</span><span class="mord">d</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:2.22em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" preserveAspectRatio="xMinYMin" viewBox="0 0 471 714"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span><span style="top:3.72em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord">∃</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord">.</span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" width="0.471em" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="width:0.471em;height:0.714em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" viewBox="0 0 471 714" style="width:0.471em" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:5.22em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:9.2368em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-11.1031em;"><span class="pstrut" style="height:19.7562em;"></span><span class="stretchy fbox" style="height:17.7562em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:8.6531em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.39em;"><span style="top:-6.28em;"><span class="pstrut" style="height:6.28em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2512em;"><span style="top:-3.2512em;"><span class="pstrut" style="height:3.8542em;"></span><span class="stretchy colorbox" style="height:1.8542em;background-color:#FBCFE8;"></span></span><span style="top:-3.8542em;"><span class="pstrut" style="height:3.8542em;"></span><span class="mord boxpad"><span class="mord sizing reset-size6 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="top:-2.5474em;margin-left:0em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.109em;">M</span></span></span><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size6 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6031em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.875em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.875em" viewBox="0 0 875 3600" height="3.600em"><path d="M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,84c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-92c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="margin-right:0.05em;top:-2.55em;margin-left:0em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-right:0.05em;margin-left:0em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.875em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.875em" viewBox="0 0 875 3600" height="3.600em"><path d="M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,9
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-144c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-4.39em;"><span class="pstrut" style="height:6.28em;"></span><span class="stretchy fbox" style="height:4.28em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.89em;"><span></span></span></span></span></span></span></span><span style="top:-2.835em;"><span class="pstrut" style="height:11.1031em;"></span><span class="mord"><span class="mord">∘</span></span></span><span style="top:-1.635em;"><span class="pstrut" style="height:11.1031em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:9.8281em;"><span></span></span></span></span></span></span></span></span></span></span></span></span>
<p>Except with negligible probability, the hashes won't collide,
so we can replace the hash based check with an actual check
of equality.</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable columnspacing="1em" rowspacing="0.16em" columnalign="center"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded height="+6pt" width="+6pt" lspace="3pt" voffset="3pt" mathbackground="#FBCFE8"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>6</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mo>…</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>EndBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mo>…</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mpadded voffset="3pt" width="+6pt" height="+6pt" mathbackground="#bae6fd" lspace="3pt"><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∃</mi><mi>j</mi><mi mathvariant="normal">.</mi><mspace width="0.5em"/><msub><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi>j</mi></msub><mi mathvariant="normal">≠</mi><msub><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi>i</mi></msub><mo>:</mo></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mo>⊗</mo><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="true"><mrow><mpadded lspace="3pt" width="+6pt" voffset="3pt" height="+6pt" mathbackground="#FBCFE8"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><msubsup><mi mathvariant="normal">Γ</mi><mi>M</mi><mn>6</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded><mo>=</mo><msubsup><mi mathvariant="normal">Γ</mi><mi>M</mi><mn>5</mn></msubsup></mrow></mstyle></mstyle></mstyle></menclose></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mo rspace="0em" lspace="0em">∘</mo></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>F</mi><mo stretchy="false">[</mo><mtext>SyncComm</mtext><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Hash</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^6_H$
}\cr
&amp;\ldots\cr
&amp;\underline{
  \text{EndBroadcast}_i():
}\cr
  &amp;\enspace
    \ldots
  \cr
  &amp;\enspace
  \colorbox{bae6fd}{$
    \texttt{if } \exists j.\enspace
      \vec{x}_j \neq \vec{x}_i
    :
  $}
  \cr
  &amp;\enspace\enspace
    \texttt{stop}(\star, 1)
  \cr
\end{aligned}
}
}
\otimes
\boxed{\colorbox{FBCFE8}{\large
  $\Gamma^6_M$
} = \Gamma^5_M}
\cr
  \circ
\cr
F[\text{SyncComm}] \otimes F[\text{Hash}]
\end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:12.3295em;vertical-align:-5.9147em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:6.4147em;"><span style="top:-8.4147em;"><span class="pstrut" style="height:7.1897em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:5.1897em;"><span style="top:-11.9295em;"><span class="pstrut" style="height:11.9295em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:5.3886em;"><span style="top:-7.3886em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-5.6119em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-4.1119em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-2.5219em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-0.8479em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:0.8718em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:4.8886em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:5.3886em;"><span style="top:-7.3886em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="background-color:#FBCFE8;height:1.9936em;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-left:0em;margin-right:0.0417em;top:-2.5474em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">6</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-5.6119em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span></span></span><span style="top:-4.1119em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">E</span><span class="mord">n</span><span class="mord">d</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-2.5219em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="minner">…</span></span></span><span style="top:-0.8479em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.014em;"><span style="top:-3.014em;"><span class="pstrut" style="height:3.5936em;"></span><span class="stretchy colorbox" style="height:1.5936em;background-color:#bae6fd;"></span></span><span style="top:-3.5936em;"><span class="pstrut" style="height:3.5936em;"></span><span class="mord boxpad"><span class="mord text"><span class="mord texttt">if </span></span><span class="mord">∃</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord">.</span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 471 714" style="width:0.471em" width="0.471em" preserveAspectRatio="xMinYMin" height="0.714em"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" height="0.714em" preserveAspectRatio="xMinYMin" width="0.471em" viewBox="0 0 471 714" style="width:0.471em"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5796em;"><span></span></span></span></span></span></span></span><span style="top:0.8718em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:4.8886em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-7.1897em;"><span class="pstrut" style="height:11.9295em;"></span><span class="stretchy fbox" style="border-style:solid;border-width:0.04em;height:9.9295em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:4.7397em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5912em;"><span style="top:-4.5342em;"><span class="pstrut" style="height:4.5342em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2512em;"><span style="top:-3.2512em;"><span class="pstrut" style="height:3.8542em;"></span><span class="stretchy colorbox" style="height:1.8542em;background-color:#FBCFE8;"></span></span><span style="top:-3.8542em;"><span class="pstrut" style="height:3.8542em;"></span><span class="mord boxpad"><span class="mord sizing reset-size6 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-left:0em;margin-right:0.0417em;top:-2.5474em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.109em;">M</span></span></span><span style="margin-right:0.0417em;top:-3.163em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">6</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size6 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6031em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="margin-right:0.05em;top:-2.453em;margin-left:0em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.109em;">M</span></span></span><span style="margin-right:0.05em;top:-3.113em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.5912em;"><span class="pstrut" style="height:4.5342em;"></span><span class="stretchy fbox" style="border-width:0.04em;border-style:solid;height:2.5342em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9431em;"><span></span></span></span></span></span></span></span><span style="top:-2.835em;"><span class="pstrut" style="height:7.1897em;"></span><span class="mord"><span class="mord">∘</span></span></span><span style="top:-1.635em;"><span class="pstrut" style="height:7.1897em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:5.9147em;"><span></span></span></span></span></span></span></span></span></span></span></span></span>
<p>Now, we employ a classic trick, and are trying to get
rid of <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mo stretchy="false">[</mo><mtext>SyncComm</mtext><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">F[\text{SyncComm}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="vertical-align:-0.25em;height:1em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span></span><span class="mclose">]</span></span></span></span></span>.
Our strategy to do this will be to inline all of the variables
in a common mutable functionality:</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable columnalign="right left" rowspacing="0.25em" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded width="+6pt" lspace="3pt" height="+6pt" voffset="3pt" mathbackground="#bae6fd"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>7</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>StartBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><mi>x</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mtext mathvariant="monospace">wait</mtext><mi mathvariant="normal">_</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><mtext> </mtext><mi mathvariant="normal">∀</mi><mi>j</mi><mi mathvariant="normal">.</mi><mtext> </mtext><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>i</mi></mrow><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mrow><mo>∙</mo><mi>i</mi></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mtext>sync</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><mtext mathvariant="monospace">true</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>EndBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mtext mathvariant="monospace">wait</mtext><mi mathvariant="normal">_</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><mtext> </mtext><mi mathvariant="normal">∀</mi><mi>j</mi><mi mathvariant="normal">.</mi><mtext> sync</mtext><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>i</mi></mrow><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∃</mi><mi>j</mi><mi mathvariant="normal">.</mi><mspace width="0.5em"/><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>i</mi></mrow><mi mathvariant="normal">≠</mi><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mrow><mo>∙</mo><mi>i</mi></mrow><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mo>⊗</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded lspace="3pt" height="+6pt" voffset="3pt" mathbackground="#bae6fd" width="+6pt"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><msubsup><mi mathvariant="normal">Γ</mi><mi>M</mi><mn>7</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mo>↱</mo><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mi>m</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">assert</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mi mathvariant="normal">.</mi><mtext> </mtext><msub><mi>m</mi><mi>j</mi></msub><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo>∧</mo><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>k</mi><mi>j</mi></mrow><mo>=</mo><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>k</mi><mi>j</mi></mrow><mo>←</mo><msub><mi>m</mi><mi>j</mi></msub><mtext> </mtext><mo stretchy="false">(</mo><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mo>↱</mo><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mi>m</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">assert</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mi mathvariant="normal">.</mi><mtext> </mtext><msub><mi>m</mi><mi>j</mi></msub><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo>∧</mo><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>k</mi><mi>j</mi></mrow><mo>=</mo><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>k</mi><mi>j</mi></mrow><mo>←</mo><msub><mi>m</mi><mi>j</mi></msub><mtext> </mtext><mo stretchy="false">(</mo><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mtext>sync</mtext><mi mathvariant="normal">_</mi><mrow><mi>k</mi><mi>j</mi></mrow><mo>←</mo><mtext mathvariant="monospace">true</mtext><mtext> </mtext><mo stretchy="false">(</mo><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mo>↰</mo><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mtext mathvariant="monospace">wait</mtext><mi mathvariant="normal">_</mi><mrow><mo stretchy="false">(</mo><mi>k</mi><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><mtext> </mtext><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mi mathvariant="normal">.</mi><mtext> </mtext><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>k</mi></mrow><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mo stretchy="false">[</mo><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>k</mi></mrow><mo>∣</mo><mi>j</mi><mo>∈</mo><mi>S</mi><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mo>↰</mo><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mtext mathvariant="monospace">wait</mtext><mi mathvariant="normal">_</mi><mrow><mo stretchy="false">(</mo><mi>k</mi><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><mtext> </mtext><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mi mathvariant="normal">.</mi><mtext> sync</mtext><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>k</mi></mrow><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mo stretchy="false">[</mo><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>k</mi></mrow><mo>∣</mo><mi>j</mi><mo>∈</mo><mi>S</mi><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mo rspace="0em" lspace="0em">⊗</mo></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>F</mi><mo stretchy="false">[</mo><mtext>SyncComm</mtext><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Hash</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">∘</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="true" scriptlevel="0"><mstyle mathsize="0.9em"><mtable columnalign="right" rowspacing="0.25em" columnspacing=""><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow><mtext mathvariant="monospace">pub</mtext><mtext> </mtext></mrow><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo separator="true">,</mo><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo separator="true">,</mo><mtext>sync</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Stop</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{bae6fd}{\large
  $\Gamma^7_H$
}\cr
\cr
&amp;\underline{
  (1)\text{StartBroadcast}_i(x):
}\cr
  &amp;\enspace
    \hat{x}\_{ij} \gets x
  \cr
\cr
&amp;\underline{
  \text{WaitBroadcast}_i():
}\cr
  &amp;\enspace
    \texttt{wait}\_{(i, 0)}\ \forall j.\ \hat{x}\_{ji} \neq \bot
  \cr
  &amp;\enspace
    \vec{x}\_{ij} \gets \hat{x}\_{\bullet i}
  \cr
  &amp;\enspace
    \text{sync}\_{ij} \gets \texttt{true}
  \cr
\cr
&amp;\underline{
  \text{EndBroadcast}_i():
}\cr
  &amp;\enspace
    \texttt{wait}\_{(i, 1)}\ \forall j.\ \text{sync}\_{ji} \neq \bot
  \cr
  &amp;\enspace
    \texttt{if } \exists j.\enspace
      \vec{x}\_{ji} \neq \hat{x}\_{\bullet i}
    :
  \cr
  &amp;\enspace\enspace
    \texttt{stop}(\star, 1)
  \cr
\end{aligned}
}
}
\otimes
\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{bae6fd}{\large
  $\Gamma^7_M$
}\cr
\cr
&amp;\underline{
  \Rsh_k(S, m\_\bullet, 0):
}\cr
  &amp;\enspace
    \texttt{assert } \forall j \in S.\ m_j \neq \bot \land \hat{x}\_{kj} = \bot
  \cr
  &amp;\enspace
    \hat{x}\_{kj} \gets m_j\ (\forall j \in S)
  \cr
\cr
&amp;\underline{
  \Rsh_k(S, m\_\bullet, 1):
}\cr
  &amp;\enspace
    \texttt{assert } \forall j \in S.\ m_j \neq \bot \land \vec{x}\_{kj} = \bot
  \cr
  &amp;\enspace
    \vec{x}\_{kj} \gets m_j\ (\forall j \in S)
  \cr
  &amp;\enspace
    \text{sync}\_{kj} \gets \texttt{true}\ (\forall j \in S)
  \cr
\cr
&amp;\underline{
  \Lsh_k(S, 0):
}\cr
  &amp;\enspace
    \texttt{wait}\_{(k, 0)}\ \forall j \in S.\ \hat{x}\_{jk} \neq \bot
  \cr
  &amp;\enspace
    \texttt{return } [\hat{x}\_{j k} \mid j \in S]
  \cr
\cr
&amp;\underline{
  \Lsh_k(S, 1):
}\cr
  &amp;\enspace
    \texttt{wait}\_{(k, 1)}\ \forall j \in S.\ \text{sync}\_{jk} \neq \bot
  \cr
  &amp;\enspace
    \texttt{return } [\vec{x}\_{jk} \mid j \in S]
  \cr
\end{aligned}
}
}
\cr
  \otimes
\cr
  F[\text{SyncComm}] \otimes F[\text{Hash}]
\end{matrix}
\cr
  \circ
\cr
\boxed{
\small{
\begin{aligned}
\texttt{pub } \hat{x}\_{ij}, \vec{x}\_{ij}, \text{sync}\_{ij} \gets \bot
\end{aligned}
}
}
\otimes
F[\text{Stop}]
\end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="vertical-align:-15.6281em;height:31.7562em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:16.1281em;"><span style="top:-18.1281em;"><span class="pstrut" style="height:16.5131em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:10.4936em;"><span style="top:-22.5372em;"><span class="pstrut" style="height:22.5372em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:11.2818em;"><span style="top:-13.2818em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-11.505em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-10.005em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-8.415em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-6.915em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-5.415em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-3.825em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-2.325em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-0.825em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:0.675em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:2.175em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:3.765em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:5.265em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:6.765em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:10.7818em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:11.2818em;"><span style="top:-13.2818em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="height:1.9936em;background-color:#bae6fd;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-right:0.0417em;margin-left:0em;top:-2.5474em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="margin-right:0.0417em;top:-3.163em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">7</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-10.005em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">a</span><span class="mord">r</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-8.415em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">x</span></span></span><span style="top:-5.415em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-3.825em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">wait</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span></span><span class="mspace"> </span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord">.</span><span class="mspace"> </span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">ji</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:-2.325em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="width:0.471em;height:0.714em;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin" width="0.471em" height="0.714em" style="width:0.471em"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span><span class="mord mathnormal">i</span></span></span></span><span style="top:-0.825em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord">s</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord texttt">true</span></span></span></span><span style="top:2.175em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">E</span><span class="mord">n</span><span class="mord">d</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:3.765em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">wait</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span><span class="mspace"> </span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord">.</span><span class="mspace"> </span><span class="mord text"><span class="mord">s</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">ji</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:5.265em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord">∃</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord">.</span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="width:0.471em;height:0.714em;"><svg xmlns="http://www.w3.org/2000/svg" height="0.714em" preserveAspectRatio="xMinYMin" viewBox="0 0 471 714" style="width:0.471em" width="0.471em"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">ji</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span><span class="mord mathnormal">i</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:6.765em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:10.7818em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-12.4936em;"><span class="pstrut" style="height:22.5372em;"></span><span class="stretchy fbox" style="border-style:solid;height:20.5372em;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:10.0436em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:14.5131em;"><span style="top:-16.5131em;"><span class="pstrut" style="height:15.2881em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:13.2881em;"><span style="top:-28.1262em;"><span class="pstrut" style="height:28.1262em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:14.3868em;"><span style="top:-16.3868em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-14.61em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-13.11em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-11.46em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-9.96em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-8.46em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-6.96em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-5.31em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-3.81em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-2.31em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-0.81em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:0.69em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:2.28em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:3.78em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:5.28em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:6.78em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:8.37em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:9.87em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:13.8868em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:14.3868em;"><span style="top:-16.3868em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="height:1.9936em;background-color:#bae6fd;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="top:-2.5474em;margin-left:0em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.109em;">M</span></span></span><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">7</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-13.11em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.53em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-left:0em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.51em;"><span></span></span></span></span></span></span></span><span style="top:-11.46em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">assert </span></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mord">.</span><span class="mspace"> </span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:0em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">kj</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:-9.96em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">kj</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:0em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace"> </span><span class="mopen">(</span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span></span></span><span style="top:-6.96em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.53em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.51em;"><span></span></span></span></span></span></span></span><span style="top:-5.31em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">assert </span></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mord">.</span><span class="mspace"> </span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" viewBox="0 0 471 714" height="0.714em" style="width:0.471em" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">kj</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:-3.81em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin" style="width:0.471em" width="0.471em" height="0.714em"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">kj</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:0em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace"> </span><span class="mopen">(</span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span></span></span><span style="top:-2.31em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord">s</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">kj</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord texttt">true</span></span><span class="mspace"> </span><span class="mopen">(</span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span></span></span><span style="top:0.69em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;margin-left:0em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:2.28em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">wait</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0315em;">k</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span></span><span class="mspace"> </span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mord">.</span><span class="mspace"> </span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0315em;">jk</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:3.78em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mopen">[</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0315em;">jk</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">]</span></span></span><span style="top:6.78em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:8.37em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">wait</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0315em;">k</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span><span class="mspace"> </span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mord">.</span><span class="mspace"> </span><span class="mord text"><span class="mord">s</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0315em;">jk</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:9.87em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mopen">[</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" height="0.714em" width="0.471em" viewBox="0 0 471 714" style="width:0.471em" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0315em;">jk</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:13.8868em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-15.2881em;"><span class="pstrut" style="height:28.1262em;"></span><span class="stretchy fbox" style="height:26.1262em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:12.8381em;"><span></span></span></span></span></span></span></span><span style="top:-2.835em;"><span class="pstrut" style="height:15.2881em;"></span><span class="mord"><span class="mord">⊗</span></span></span><span style="top:-1.635em;"><span class="pstrut" style="height:15.2881em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:14.0131em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.275em;"><span class="pstrut" style="height:16.5131em;"></span><span class="mord"><span class="mord">∘</span></span></span><span style="top:-1.675em;"><span class="pstrut" style="height:16.5131em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.24em;"><span style="top:-4.03em;"><span class="pstrut" style="height:4.03em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1em;"><span style="top:-3.06em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord"><span class="mord text"><span class="mord texttt">pub </span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" style="width:0.471em" preserveAspectRatio="xMinYMin" height="0.714em" width="0.471em" viewBox="0 0 471 714"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord">s</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.24em;"><span class="pstrut" style="height:4.03em;"></span><span class="stretchy fbox" style="height:2.03em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.79em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">o</span><span class="mord">p</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:15.6281em;"><span></span></span></span></span></span></span></span></span></span></span></span></span>
<p>Next, we can split the verification check into an honest check, and a malicious check.</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable columnalign="center" columnspacing="1em" rowspacing="0.16em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded lspace="3pt" width="+6pt" height="+6pt" mathbackground="#FBCFE8" voffset="3pt"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>8</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>…</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>EndBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mo>…</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mpadded voffset="3pt" lspace="3pt" height="+6pt" width="+6pt" mathbackground="#bae6fd"><mstyle displaystyle="false" scriptlevel="0"><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∃</mi><mi>j</mi><mo>∈</mo><mi mathvariant="script">H</mi><mi mathvariant="normal">.</mi><mspace width="0.5em"/><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mrow><mo>∙</mo><mi>j</mi></mrow><mi mathvariant="normal">≠</mi><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mrow><mo>∙</mo><mi>i</mi></mrow><mo>:</mo></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mpadded voffset="3pt" mathbackground="#bae6fd" width="+6pt" height="+6pt" lspace="3pt"><mstyle displaystyle="false" scriptlevel="0"><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∃</mi><mi>j</mi><mo>∈</mo><mi mathvariant="script">M</mi><mi mathvariant="normal">.</mi><mspace width="0.5em"/><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>i</mi></mrow><mi mathvariant="normal">≠</mi><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mrow><mo>∙</mo><mi>i</mi></mrow><mo>:</mo></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mo>⊗</mo><mtable rowspacing="0.16em" columnspacing="1em" columnalign="center"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable columnalign="right left" columnspacing="0em" rowspacing="0.25em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded width="+6pt" height="+6pt" voffset="3pt" mathbackground="#FBCFE8" lspace="3pt"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msubsup><mi mathvariant="normal">Γ</mi><mi>M</mi><mn>8</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded><mo>=</mo><msubsup><mi mathvariant="normal">Γ</mi><mi>M</mi><mn>7</mn></msubsup></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo rspace="0em" lspace="0em">⊗</mo></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>F</mi><mo stretchy="false">[</mo><mtext>SyncComm</mtext><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Hash</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo rspace="0em" lspace="0em">∘</mo></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable rowspacing="0.25em" columnspacing="" columnalign="right"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow><mtext mathvariant="monospace">pub</mtext><mtext> </mtext></mrow><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo separator="true">,</mo><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo separator="true">,</mo><mtext>sync</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Stop</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^8_H$
}\cr
&amp;\ldots\cr
\cr
&amp;\underline{
  \text{EndBroadcast}_i():
}\cr
  &amp;\enspace
    \ldots
  \cr
  &amp;\enspace
  \colorbox{bae6fd}{$
    \texttt{if } \exists j \in \mathcal{H}.\enspace
      \hat{x}\_{\bullet j} \neq \hat{x}\_{\bullet i}
    :
  $}
  \cr
  &amp;\enspace\enspace
    \texttt{stop}(\star, 1)
  \cr
  &amp;\enspace
  \colorbox{bae6fd}{$
    \texttt{if } \exists j \in \mathcal{M}.\enspace
      \vec{x}\_{ji} \neq \hat{x}\_{\bullet i}
    :
  $}
  \cr
  &amp;\enspace\enspace
    \texttt{stop}(\star, 1)
  \cr
\end{aligned}
}
}
\otimes
\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^8_M$
} = \Gamma^7_M\cr
\end{aligned}
}
}
\cr
  \otimes
\cr
  F[\text{SyncComm}] \otimes F[\text{Hash}]
\end{matrix}
\cr
  \circ
\cr
\boxed{
\small{
\begin{aligned}
\texttt{pub } \hat{x}\_{ij}, \vec{x}\_{ij}, \text{sync}\_{ij} \gets \bot
\end{aligned}
}
}
\otimes
F[\text{Stop}]
\end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:17.6008em;vertical-align:-8.5504em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:9.0504em;"><span style="top:-11.0504em;"><span class="pstrut" style="height:9.4104em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:7.4104em;"><span style="top:-16.3708em;"><span class="pstrut" style="height:16.3708em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:7.856em;"><span style="top:-9.856em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-8.0793em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-6.5793em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-5.0793em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-3.4893em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-1.8348em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-0.0848em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:1.5892em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:3.3392em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:7.356em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:7.856em;"><span style="top:-9.856em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="height:1.9936em;background-color:#FBCFE8;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-right:0.0417em;margin-left:0em;top:-2.5474em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">8</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-8.0793em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span></span></span><span style="top:-5.0793em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">E</span><span class="mord">n</span><span class="mord">d</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-3.4893em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="minner">…</span></span></span><span style="top:-1.8348em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9944em;"><span style="top:-2.9944em;"><span class="pstrut" style="height:3.6044em;"></span><span class="stretchy colorbox" style="height:1.6044em;background-color:#bae6fd;"></span></span><span style="top:-3.6044em;"><span class="pstrut" style="height:3.6044em;"></span><span class="mord boxpad"><span class="mord text"><span class="mord texttt">if </span></span><span class="mord">∃</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mord">.</span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span><span class="mord mathnormal">i</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.61em;"><span></span></span></span></span></span></span></span><span style="top:-0.0848em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span><span style="top:1.5892em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.014em;"><span style="top:-3.014em;"><span class="pstrut" style="height:3.624em;"></span><span class="stretchy colorbox" style="height:1.624em;background-color:#bae6fd;"></span></span><span style="top:-3.624em;"><span class="pstrut" style="height:3.624em;"></span><span class="mord boxpad"><span class="mord text"><span class="mord texttt">if </span></span><span class="mord">∃</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathcal">M</span><span class="mord">.</span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="width:0.471em;height:0.714em;"><svg xmlns="http://www.w3.org/2000/svg" style="width:0.471em" width="0.471em" preserveAspectRatio="xMinYMin" height="0.714em" viewBox="0 0 471 714"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">ji</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span><span class="mord mathnormal">i</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.61em;"><span></span></span></span></span></span></span></span><span style="top:3.3392em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:7.356em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-9.4104em;"><span class="pstrut" style="height:16.3708em;"></span><span class="stretchy fbox" style="border-width:0.04em;border-style:solid;height:14.3708em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:6.9604em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.8221em;"><span style="top:-4.8221em;"><span class="pstrut" style="height:3.5971em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5971em;"><span style="top:-4.7442em;"><span class="pstrut" style="height:4.7442em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3968em;"><span style="top:-3.3968em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8968em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3968em;"><span style="top:-3.3968em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="height:1.9936em;background-color:#FBCFE8;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-left:0em;margin-right:0.0417em;top:-2.5474em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.109em;">M</span></span></span><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">8</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8426em;"><span style="margin-right:0.0556em;margin-left:0em;top:-2.353em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.109em;">M</span></span></span><span style="margin-right:0.0556em;top:-3.013em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mtight">7</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8968em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.5971em;"><span class="pstrut" style="height:4.7442em;"></span><span class="stretchy fbox" style="height:2.7442em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.1471em;"><span></span></span></span></span></span></span></span><span style="top:-2.835em;"><span class="pstrut" style="height:3.5971em;"></span><span class="mord"><span class="mord">⊗</span></span></span><span style="top:-1.635em;"><span class="pstrut" style="height:3.5971em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.3221em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.25em;"><span class="pstrut" style="height:9.4104em;"></span><span class="mord"><span class="mord">∘</span></span></span><span style="top:-1.65em;"><span class="pstrut" style="height:9.4104em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.24em;"><span style="top:-4.03em;"><span class="pstrut" style="height:4.03em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1em;"><span style="top:-3.06em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord"><span class="mord text"><span class="mord texttt">pub </span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="width:0.471em;height:0.714em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" preserveAspectRatio="xMinYMin" viewBox="0 0 471 714"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord">s</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.24em;"><span class="pstrut" style="height:4.03em;"></span><span class="stretchy fbox" style="border-style:solid;height:2.03em;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.79em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">o</span><span class="mord">p</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:8.5504em;"><span></span></span></span></span></span></span></span></span></span></span></span></span>
<p>The only reason the honest check will fail is if the adversary
sends to different messages to honest parties,
causing their confirmations to differ.
We can
detect that in <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Γ</mi><mi>M</mi></msub></mrow><annotation encoding="application/x-tex">\Gamma_M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="margin-left:0em;margin-right:0.05em;top:-2.55em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.109em;">M</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span> instead, replacing the honest check.</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable columnalign="center" columnspacing="1em" rowspacing="0.16em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable columnalign="right left" columnspacing="0em" rowspacing="0.25em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded lspace="3pt" mathbackground="#FBCFE8" width="+6pt" height="+6pt" voffset="3pt"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>9</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>StartBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><mi>x</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mtext>sent</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><mtext mathvariant="monospace">true</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mtext mathvariant="monospace">wait</mtext><mi mathvariant="normal">_</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><mtext> </mtext><mi mathvariant="normal">∀</mi><mi>j</mi><mi mathvariant="normal">.</mi><mtext> </mtext><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mrow><mo>∙</mo><mi>i</mi></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mtext>sync</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><mtext mathvariant="monospace">true</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>EndBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mtext mathvariant="monospace">wait</mtext><mi mathvariant="normal">_</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><mtext> </mtext><mi mathvariant="normal">∀</mi><mi>j</mi><mi mathvariant="normal">.</mi><mtext> sync</mtext><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>i</mi></mrow><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∃</mi><mi>j</mi><mo>∈</mo><mi mathvariant="script">M</mi><mi mathvariant="normal">.</mi><mspace width="0.5em"/><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>i</mi></mrow><mi mathvariant="normal">≠</mi><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mrow><mo>∙</mo><mi>i</mi></mrow><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mo>⊗</mo><mtable columnspacing="1em" columnalign="center" rowspacing="0.16em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable columnspacing="0em" rowspacing="0.25em" columnalign="right left"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded width="+6pt" voffset="3pt" mathbackground="#FBCFE8" lspace="3pt" height="+6pt"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msubsup><mi mathvariant="normal">Γ</mi><mi>M</mi><mn>9</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded mathbackground="#bae6fd" lspace="3pt" width="+6pt" voffset="3pt" height="+6pt"><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mi>k</mi></msub><mo>←</mo><mi mathvariant="normal">⊥</mi></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mo>↱</mo><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mi>m</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">assert</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mi mathvariant="normal">.</mi><mtext> </mtext><msub><mi>m</mi><mi>j</mi></msub><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo>∧</mo><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>k</mi><mi>j</mi></mrow><mo>=</mo><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mpadded voffset="3pt" width="+6pt" mathbackground="#bae6fd" lspace="3pt" height="+6pt"><mstyle displaystyle="false" scriptlevel="0"><mrow><mtext mathvariant="monospace">for</mtext><mtext> </mtext></mrow><mi>j</mi><mo>∈</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">H</mi><mo>:</mo></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mpadded mathbackground="#bae6fd" voffset="3pt" height="+6pt" width="+6pt" lspace="3pt"><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><msub><mi>x</mi><mi>k</mi></msub><mo>=</mo><mi mathvariant="normal">⊥</mi><mo>:</mo><mspace width="0.5em"/><msub><mi>x</mi><mi>k</mi></msub><mo>←</mo><msub><mi>m</mi><mi>j</mi></msub></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mpadded height="+6pt" mathbackground="#bae6fd" lspace="3pt" voffset="3pt" width="+6pt"><mstyle displaystyle="false" scriptlevel="0"><mrow><mtext mathvariant="monospace">elif</mtext><mtext> </mtext></mrow><msub><mi>x</mi><mi>k</mi></msub><mi mathvariant="normal">≠</mi><msub><mi>m</mi><mi>j</mi></msub><mo>:</mo><mspace width="0.5em"/><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">(</mo><mo stretchy="false">{</mo><mi>j</mi><mo stretchy="false">}</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>k</mi><mi>j</mi></mrow><mo>←</mo><msub><mi>m</mi><mi>j</mi></msub><mtext> </mtext><mo stretchy="false">(</mo><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>…</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⊗</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>F</mi><mo stretchy="false">[</mo><mtext>SyncComm</mtext><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Hash</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">∘</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable columnalign="right" columnspacing="" rowspacing="0.25em"><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow><mtext mathvariant="monospace">pub</mtext><mtext> </mtext></mrow><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo separator="true">,</mo><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo separator="true">,</mo><mtext>sent</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo separator="true">,</mo><mtext>sync</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Stop</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^9_H$
}\cr
\cr
&amp;\underline{
  (1)\text{StartBroadcast}_i(x):
}\cr
  &amp;\enspace
    \hat{x}\_{ij} \gets x
  \cr
  &amp;\enspace
    \text{sent}\_{ij} \gets \texttt{true}
  \cr
\cr
&amp;\underline{
  \text{WaitBroadcast}_i():
}\cr
  &amp;\enspace
    \texttt{wait}\_{(i, 0)}\ \forall j.\ \hat{x}\_{ij} \neq \bot
  \cr
  &amp;\enspace
    \vec{x}\_{ij} \gets \hat{x}\_{\bullet i}
  \cr
  &amp;\enspace
    \text{sync}\_{ij} \gets \texttt{true}
  \cr
\cr
&amp;\underline{
  \text{EndBroadcast}_i():
}\cr
  &amp;\enspace
    \texttt{wait}\_{(i, 1)}\ \forall j.\ \text{sync}\_{ji} \neq \bot
  \cr
  &amp;\enspace
    \texttt{if } \exists j \in \mathcal{M}.\enspace
      \vec{x}\_{ji} \neq \hat{x}\_{\bullet i}
    :
  \cr
  &amp;\enspace\enspace
    \texttt{stop}(\star, 1)
  \cr
\end{aligned}
}
}
\otimes
\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^9_M$
}\cr
\cr
&amp;\colorbox{bae6fd}{$
  x_k \gets \bot
$}\cr
&amp;\underline{
  \Rsh_k(S, m\_\bullet, 0):
}\cr
  &amp;\enspace
    \texttt{assert } \forall j \in S.\ m_j \neq \bot \land \hat{x}\_{kj} = \bot
  \cr
  &amp;\enspace
  \colorbox{bae6fd}{$
    \texttt{for } j \in S \cap \mathcal{H}:
  $}
  \cr
  &amp;\enspace\enspace
  \colorbox{bae6fd}{$
    \texttt{if } x_k = \bot:\enspace x_k \gets m_j
  $}
  \cr
  &amp;\enspace\enspace
  \colorbox{bae6fd}{$
    \texttt{elif } x_k \neq m_j:\enspace \texttt{stop}(\{j\}, 1)
  $}
  \cr
  &amp;\enspace
    \hat{x}\_{kj} \gets m_j\ (\forall j \in S)
  \cr
\cr
&amp;
\ldots
\cr
\end{aligned}
}
}
\cr
  \otimes
\cr
  F[\text{SyncComm}] \otimes F[\text{Hash}]
\end{matrix}
\cr
  \circ
\cr
\boxed{
\small{
\begin{aligned}
\texttt{pub } \hat{x}\_{ij}, \vec{x}\_{ij}, \text{sent}\_{ij}, \text{sync}\_{ij} \gets \bot
\end{aligned}
}
}
\otimes
F[\text{Stop}]
\end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:25.1172em;vertical-align:-12.3086em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:12.8086em;"><span style="top:-14.8086em;"><span class="pstrut" style="height:13.1686em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:11.1686em;"><span style="top:-23.8872em;"><span class="pstrut" style="height:23.8872em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:12.0318em;"><span style="top:-14.0318em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-12.255em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-10.755em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-9.165em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-7.665em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-6.165em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-4.665em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-3.075em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-1.575em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-0.075em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:1.425em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:2.925em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:4.515em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:6.015em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:7.515em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:11.5318em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:12.0318em;"><span style="top:-14.0318em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="background-color:#FBCFE8;height:1.9936em;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="top:-2.5474em;margin-left:0em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">9</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-10.755em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">a</span><span class="mord">r</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-9.165em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">x</span></span></span><span style="top:-7.665em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord">s</span><span class="mord">e</span><span class="mord">n</span><span class="mord">t</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord texttt">true</span></span></span></span><span style="top:-4.665em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-3.075em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">wait</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span></span><span class="mspace"> </span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord">.</span><span class="mspace"> </span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:-1.575em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="width:0.471em;height:0.714em;"><svg xmlns="http://www.w3.org/2000/svg" height="0.714em" preserveAspectRatio="xMinYMin" width="0.471em" style="width:0.471em" viewBox="0 0 471 714"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span><span class="mord mathnormal">i</span></span></span></span><span style="top:-0.075em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord">s</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord texttt">true</span></span></span></span><span style="top:2.925em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">E</span><span class="mord">n</span><span class="mord">d</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:4.515em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">wait</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span><span class="mspace"> </span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord">.</span><span class="mspace"> </span><span class="mord text"><span class="mord">s</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">ji</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:6.015em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord">∃</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathcal">M</span><span class="mord">.</span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin" width="0.471em" style="width:0.471em" height="0.714em"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">ji</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span><span class="mord mathnormal">i</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:7.515em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:11.5318em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-13.1686em;"><span class="pstrut" style="height:23.8872em;"></span><span class="stretchy fbox" style="height:21.8872em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:10.7186em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:10.2363em;"><span style="top:-12.2363em;"><span class="pstrut" style="height:11.0113em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:9.0113em;"><span style="top:-19.5725em;"><span class="pstrut" style="height:19.5725em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:9.6347em;"><span style="top:-11.6347em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-9.858em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-8.2036em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-6.6136em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-4.9636em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-3.3202em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-1.5314em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:0.3983em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:2.1179em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:3.6179em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:5.1179em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:9.1347em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:9.6347em;"><span style="top:-11.6347em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="height:1.9936em;background-color:#FBCFE8;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-left:0em;top:-2.5474em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.109em;">M</span></span></span><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">9</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-8.2036em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9944em;"><span style="top:-2.9944em;"><span class="pstrut" style="height:3.4444em;"></span><span class="stretchy colorbox" style="height:1.4444em;background-color:#bae6fd;"></span></span><span style="top:-3.4444em;"><span class="pstrut" style="height:3.4444em;"></span><span class="mord boxpad"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-6.6136em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.53em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.51em;"><span></span></span></span></span></span></span></span><span style="top:-4.9636em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">assert </span></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mord">.</span><span class="mspace"> </span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">kj</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:-3.3202em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9833em;"><span style="top:-2.9833em;"><span class="pstrut" style="height:3.4778em;"></span><span class="stretchy colorbox" style="height:1.4778em;background-color:#bae6fd;"></span></span><span style="top:-3.4778em;"><span class="pstrut" style="height:3.4778em;"></span><span class="mord boxpad"><span class="mord text"><span class="mord texttt">for </span></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4944em;"><span></span></span></span></span></span></span></span><span style="top:-1.5314em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9944em;"><span style="top:-2.9944em;"><span class="pstrut" style="height:3.5741em;"></span><span class="stretchy colorbox" style="height:1.5741em;background-color:#bae6fd;"></span></span><span style="top:-3.5741em;"><span class="pstrut" style="height:3.5741em;"></span><span class="mord boxpad"><span class="mord text"><span class="mord texttt">if </span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5796em;"><span></span></span></span></span></span></span></span><span style="top:0.3983em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.6296em;"></span><span class="stretchy colorbox" style="background-color:#bae6fd;height:1.6296em;"></span></span><span style="top:-3.6296em;"><span class="pstrut" style="height:3.6296em;"></span><span class="mord boxpad"><span class="mord text"><span class="mord texttt">elif </span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mopen">({</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">}</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5796em;"><span></span></span></span></span></span></span></span><span style="top:2.1179em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">kj</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace"> </span><span class="mopen">(</span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span></span></span><span style="top:5.1179em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:9.1347em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-11.0113em;"><span class="pstrut" style="height:19.5725em;"></span><span class="stretchy fbox" style="height:17.5725em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:8.5613em;"><span></span></span></span></span></span></span></span><span style="top:-2.835em;"><span class="pstrut" style="height:11.0113em;"></span><span class="mord"><span class="mord">⊗</span></span></span><span style="top:-1.635em;"><span class="pstrut" style="height:11.0113em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:9.7363em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.25em;"><span class="pstrut" style="height:13.1686em;"></span><span class="mord"><span class="mord">∘</span></span></span><span style="top:-1.65em;"><span class="pstrut" style="height:13.1686em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.24em;"><span style="top:-4.03em;"><span class="pstrut" style="height:4.03em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1em;"><span style="top:-3.06em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord"><span class="mord text"><span class="mord texttt">pub </span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="width:0.471em;height:0.714em;"><svg xmlns="http://www.w3.org/2000/svg" height="0.714em" width="0.471em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord">s</span><span class="mord">e</span><span class="mord">n</span><span class="mord">t</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord">s</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.24em;"><span class="pstrut" style="height:4.03em;"></span><span class="stretchy fbox" style="height:2.03em;border-width:0.04em;border-style:solid;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.79em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">o</span><span class="mord">p</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:12.3086em;"><span></span></span></span></span></span></span></span></span></span></span></span></span>
<p>Now, the only thing that can cause a malicious failure is if
a bad <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow></mrow><annotation encoding="application/x-tex">\vec{x}\_{ij}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.024em;vertical-align:-0.31em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="width:0.471em;height:0.714em;"><svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMinYMin" width="0.471em" style="width:0.471em" height="0.714em" viewBox="0 0 471 714"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span></span></span></span></span> value is set.
We can capture this with a trap value.</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable columnalign="center" columnspacing="1em" rowspacing="0.16em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded voffset="3pt" width="+6pt" lspace="3pt" mathbackground="#FBCFE8" height="+6pt"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>10</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>Broadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><mi>x</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mtext>sent</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><mtext mathvariant="monospace">true</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mtext mathvariant="monospace">wait</mtext><mi mathvariant="normal">_</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><mtext> </mtext><mi mathvariant="normal">∀</mi><mi>j</mi><mi mathvariant="normal">.</mi><mtext> </mtext><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mrow><mo>∙</mo><mi>i</mi></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mtext>sync</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><mtext mathvariant="monospace">true</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>EndBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mtext mathvariant="monospace">wait</mtext><mi mathvariant="normal">_</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><mtext> </mtext><mi mathvariant="normal">∀</mi><mi>j</mi><mi mathvariant="normal">.</mi><mtext> sync</mtext><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>i</mi></mrow><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mpadded height="+6pt" lspace="3pt" voffset="3pt" mathbackground="#bae6fd" width="+6pt"><mstyle displaystyle="false" scriptlevel="0"><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mtext>trap</mtext><mi mathvariant="normal">_</mi><mrow><mo>∙</mo><mi>i</mi></mrow><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo>∧</mo><mtext>trap</mtext><mi mathvariant="normal">_</mi><mrow><mo>∙</mo><mi>i</mi></mrow><mi mathvariant="normal">≠</mi><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mrow><mo>∙</mo><mi>i</mi></mrow><mo>:</mo></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mo>⊗</mo><mtable columnspacing="1em" rowspacing="0.16em" columnalign="center"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable columnalign="right left" columnspacing="0em" rowspacing="0.25em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded width="+6pt" lspace="3pt" voffset="3pt" height="+6pt" mathbackground="#FBCFE8"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msubsup><mi mathvariant="normal">Γ</mi><mi>M</mi><mn>10</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mo>…</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mo>↱</mo><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mi>m</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">assert</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mi mathvariant="normal">.</mi><mtext> </mtext><msub><mi>m</mi><mi>j</mi></msub><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo>∧</mo><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>k</mi><mi>j</mi></mrow><mo>=</mo><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mpadded width="+6pt" lspace="3pt" voffset="3pt" height="+6pt" mathbackground="#bae6fd"><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext mathvariant="monospace">for</mtext><mtext> </mtext></mrow><mi>j</mi><mo>∈</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">H</mi><mo>:</mo></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mpadded mathbackground="#bae6fd" lspace="3pt" width="+6pt" voffset="3pt" height="+6pt"><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mtext>trap</mtext><mi mathvariant="normal">_</mi><mrow><mo>∙</mo><mi>j</mi></mrow><mo>=</mo><mi mathvariant="normal">⊥</mi><mo>:</mo><mspace width="0.5em"/><mtext>trap</mtext><mi mathvariant="normal">_</mi><mrow><mo>∙</mo><mi>j</mi></mrow><mo>←</mo><msub><mi>m</mi><mi>j</mi></msub></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mpadded width="+6pt" lspace="3pt" height="+6pt" voffset="3pt" mathbackground="#bae6fd"><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext mathvariant="monospace">elif</mtext><mtext> </mtext></mrow><mtext>trap</mtext><mi mathvariant="normal">_</mi><mrow><mo>∙</mo><mi>j</mi></mrow><mi mathvariant="normal">≠</mi><msub><mi>m</mi><mi>j</mi></msub><mo>:</mo><mspace width="0.5em"/><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">(</mo><mo stretchy="false">{</mo><mi>j</mi><mo stretchy="false">}</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>k</mi><mi>j</mi></mrow><mo>←</mo><msub><mi>m</mi><mi>j</mi></msub><mtext> </mtext><mo stretchy="false">(</mo><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mtext>sync</mtext><mi mathvariant="normal">_</mi><mrow><mi>k</mi><mi>j</mi></mrow><mo>←</mo><mtext mathvariant="monospace">true</mtext><mtext> </mtext><mo stretchy="false">(</mo><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⊗</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>F</mi><mo stretchy="false">[</mo><mtext>SyncComm</mtext><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Hash</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mo lspace="0em" rspace="0em">∘</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable columnalign="right" columnspacing="" rowspacing="0.25em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow><mtext mathvariant="monospace">pub</mtext><mtext> </mtext></mrow><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo separator="true">,</mo><mtext>trap</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo separator="true">,</mo><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo separator="true">,</mo><mtext>sent</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo separator="true">,</mo><mtext>sync</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Stop</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^{10}_H$
}\cr
\cr
&amp;\underline{
  (1)\text{Broadcast}_i(x):
}\cr
  &amp;\enspace
    \hat{x}\_{ij} \gets x
  \cr
  &amp;\enspace
    \text{sent}\_{ij} \gets \texttt{true}
  \cr
\cr
&amp;\underline{
  \text{WaitBroadcast}_i():
}\cr
  &amp;\enspace
    \texttt{wait}\_{(i, 0)}\ \forall j.\ \hat{x}\_{ij} \neq \bot
  \cr
  &amp;\enspace
    \vec{x}\_{ij} \gets \hat{x}\_{\bullet i}
  \cr
  &amp;\enspace
    \text{sync}\_{ij} \gets \texttt{true}
  \cr
\cr
&amp;\underline{
  \text{EndBroadcast}_i():
}\cr
  &amp;\enspace
    \texttt{wait}\_{(i, 1)}\ \forall j.\ \text{sync}\_{ji} \neq \bot
  \cr
  &amp;\enspace
  \colorbox{bae6fd}{$
    \texttt{if }
      \text{trap}\_{\bullet i} \neq \bot \land
      \text{trap}\_{\bullet i} \neq \hat{x}\_{\bullet i}
    :
  $}
  \cr
  &amp;\enspace\enspace
    \texttt{stop}(\star, 1)
  \cr
\end{aligned}
}
}
\otimes
\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^{10}_M$
}\cr
\cr
&amp;\ldots\cr
\cr
&amp;\underline{
  \Rsh_k(S, m\_\bullet, 1):
}\cr
  &amp;\enspace
    \texttt{assert } \forall j \in S.\ m_j \neq \bot \land \vec{x}\_{kj} = \bot
  \cr
  &amp;\enspace
  \colorbox{bae6fd}{$
    \texttt{for } j \in S \cap \mathcal{H}:
  $}
  \cr
  &amp;\enspace\enspace
  \colorbox{bae6fd}{$
    \texttt{if } \text{trap}\_{\bullet j} = \bot:\enspace \text{trap}\_{\bullet j} \gets m_j
  $}
  \cr
  &amp;\enspace\enspace
  \colorbox{bae6fd}{$
    \texttt{elif } \text{trap}\_{\bullet j} \neq m_j:\enspace \texttt{stop}(\{j\}, 1)
  $}
  \cr
  &amp;\enspace
    \vec{x}\_{kj} \gets m_j\ (\forall j \in S)
  \cr
  &amp;\enspace
    \text{sync}\_{kj} \gets \texttt{true}\ (\forall j \in S)
  \cr
\end{aligned}
}
}
\cr
  \otimes
\cr
  F[\text{SyncComm}] \otimes F[\text{Hash}]
\end{matrix}
\cr
  \circ
\cr
\boxed{
\small{
\begin{aligned}
\texttt{pub } \hat{x}\_{ij}, \text{trap}\_{ij}, \vec{x}\_{ij}, \text{sent}\_{ij}, \text{sync}\_{ij} \gets \bot
\end{aligned}
}
}
\otimes
F[\text{Stop}]
\end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:25.4812em;vertical-align:-12.4906em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:12.9906em;"><span style="top:-14.9906em;"><span class="pstrut" style="height:13.3506em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:11.3506em;"><span style="top:-24.2512em;"><span class="pstrut" style="height:24.2512em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:12.234em;"><span style="top:-14.234em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-12.4573em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-10.9573em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-9.3673em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-7.8673em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-6.3673em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-4.8673em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-3.2773em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-1.7773em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-0.2773em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:1.2227em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:2.7227em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:4.3127em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:5.9672em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:7.7172em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:11.734em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:12.234em;"><span style="top:-14.234em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="height:1.9936em;background-color:#FBCFE8;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-right:0.0417em;top:-2.5474em;margin-left:0em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight"><span class="mord mtight">10</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-10.9573em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-9.3673em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">x</span></span></span><span style="top:-7.8673em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord">s</span><span class="mord">e</span><span class="mord">n</span><span class="mord">t</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord texttt">true</span></span></span></span><span style="top:-4.8673em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-3.2773em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">wait</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span></span><span class="mspace"> </span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord">.</span><span class="mspace"> </span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:-1.7773em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" preserveAspectRatio="xMinYMin" viewBox="0 0 471 714"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span><span class="mord mathnormal">i</span></span></span></span><span style="top:-0.2773em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord">s</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord texttt">true</span></span></span></span><span style="top:2.7227em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">E</span><span class="mord">n</span><span class="mord">d</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:4.3127em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">wait</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span><span class="mspace"> </span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord">.</span><span class="mspace"> </span><span class="mord text"><span class="mord">s</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">ji</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:5.9672em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9944em;"><span style="top:-2.9944em;"><span class="pstrut" style="height:3.6044em;"></span><span class="stretchy colorbox" style="background-color:#bae6fd;height:1.6044em;"></span></span><span style="top:-3.6044em;"><span class="pstrut" style="height:3.6044em;"></span><span class="mord boxpad"><span class="mord text"><span class="mord texttt">if </span></span><span class="mord text"><span class="mord">t</span><span class="mord">r</span><span class="mord">a</span><span class="mord">p</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span><span class="mord mathnormal">i</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">t</span><span class="mord">r</span><span class="mord">a</span><span class="mord">p</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span><span class="mord mathnormal">i</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span><span class="mord mathnormal">i</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.61em;"><span></span></span></span></span></span></span></span><span style="top:7.7172em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:11.734em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-13.3506em;"><span class="pstrut" style="height:24.2512em;"></span><span class="stretchy fbox" style="border-style:solid;border-width:0.04em;height:22.2512em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:10.9006em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:10.1536em;"><span style="top:-12.1536em;"><span class="pstrut" style="height:10.9286em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:8.9286em;"><span style="top:-19.4072em;"><span class="pstrut" style="height:19.4072em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:9.5429em;"><span style="top:-11.5429em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-9.7662em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-8.2662em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-6.7662em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-5.2662em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-3.6162em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-1.9728em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-0.1839em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:1.7761em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:3.5261em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:5.0261em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:9.0429em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:9.5429em;"><span style="top:-11.5429em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="height:1.9936em;background-color:#FBCFE8;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="top:-2.5474em;margin-left:0em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.109em;">M</span></span></span><span style="margin-right:0.0417em;top:-3.163em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight"><span class="mord mtight">10</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-8.2662em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span></span></span><span style="top:-5.2662em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.53em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.51em;"><span></span></span></span></span></span></span></span><span style="top:-3.6162em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">assert </span></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mord">.</span><span class="mspace"> </span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:0em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" style="width:0.471em" preserveAspectRatio="xMinYMin" width="0.471em" height="0.714em" viewBox="0 0 471 714"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">kj</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:-1.9728em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9833em;"><span style="top:-2.9833em;"><span class="pstrut" style="height:3.4778em;"></span><span class="stretchy colorbox" style="height:1.4778em;background-color:#bae6fd;"></span></span><span style="top:-3.4778em;"><span class="pstrut" style="height:3.4778em;"></span><span class="mord boxpad"><span class="mord text"><span class="mord texttt">for </span></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4944em;"><span></span></span></span></span></span></span></span><span style="top:-0.1839em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9944em;"><span style="top:-2.9944em;"><span class="pstrut" style="height:3.6044em;"></span><span class="stretchy colorbox" style="background-color:#bae6fd;height:1.6044em;"></span></span><span style="top:-3.6044em;"><span class="pstrut" style="height:3.6044em;"></span><span class="mord boxpad"><span class="mord text"><span class="mord texttt">if </span></span><span class="mord text"><span class="mord">t</span><span class="mord">r</span><span class="mord">a</span><span class="mord">p</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord">t</span><span class="mord">r</span><span class="mord">a</span><span class="mord">p</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.61em;"><span></span></span></span></span></span></span></span><span style="top:1.7761em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.66em;"></span><span class="stretchy colorbox" style="height:1.66em;background-color:#bae6fd;"></span></span><span style="top:-3.66em;"><span class="pstrut" style="height:3.66em;"></span><span class="mord boxpad"><span class="mord text"><span class="mord texttt">elif </span></span><span class="mord text"><span class="mord">t</span><span class="mord">r</span><span class="mord">a</span><span class="mord">p</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mopen">({</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">}</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.61em;"><span></span></span></span></span></span></span></span><span style="top:3.5261em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" height="0.714em" viewBox="0 0 471 714" width="0.471em" style="width:0.471em" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">kj</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace"> </span><span class="mopen">(</span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span></span></span><span style="top:5.0261em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord">s</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">kj</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord texttt">true</span></span><span class="mspace"> </span><span class="mopen">(</span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:9.0429em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-10.9286em;"><span class="pstrut" style="height:19.4072em;"></span><span class="stretchy fbox" style="border-style:solid;height:17.4072em;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:8.4786em;"><span></span></span></span></span></span></span></span><span style="top:-2.835em;"><span class="pstrut" style="height:10.9286em;"></span><span class="mord"><span class="mord">⊗</span></span></span><span style="top:-1.635em;"><span class="pstrut" style="height:10.9286em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:9.6536em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.25em;"><span class="pstrut" style="height:13.3506em;"></span><span class="mord"><span class="mord">∘</span></span></span><span style="top:-1.65em;"><span class="pstrut" style="height:13.3506em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.24em;"><span style="top:-4.03em;"><span class="pstrut" style="height:4.03em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1em;"><span style="top:-3.06em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord"><span class="mord text"><span class="mord texttt">pub </span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord">t</span><span class="mord">r</span><span class="mord">a</span><span class="mord">p</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="width:0.471em;height:0.714em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" style="width:0.471em" height="0.714em" preserveAspectRatio="xMinYMin" viewBox="0 0 471 714"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord">s</span><span class="mord">e</span><span class="mord">n</span><span class="mord">t</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord">s</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.24em;"><span class="pstrut" style="height:4.03em;"></span><span class="stretchy fbox" style="border-style:solid;border-width:0.04em;height:2.03em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.79em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">o</span><span class="mord">p</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:12.4906em;"><span></span></span></span></span></span></span></span></span></span></span></span></span>
<p>Since we can't equivocate, simplify variables.</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable columnalign="center" columnspacing="1em" rowspacing="0.16em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="true" scriptlevel="0"><mstyle mathsize="0.9em"><mtable columnalign="right left" columnspacing="0em" rowspacing="0.25em"><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded height="+6pt" mathbackground="#bae6fd" width="+6pt" voffset="3pt" lspace="3pt"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>11</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>Broadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>SetBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>SendBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mi>x</mi><mi mathvariant="normal">_</mi><mo lspace="0em" rspace="0em">∙</mo><mo>←</mo><msub><mtext>GetBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>Sync</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>EndBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>WaitSync</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><msub><mtext>BadBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mo>⊗</mo><mtable columnalign="center" columnspacing="1em" rowspacing="0.16em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded lspace="3pt" width="+6pt" voffset="3pt" mathbackground="#FBCFE8" height="+6pt"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msubsup><mi mathvariant="normal">Γ</mi><mi>M</mi><mn>11</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded lspace="3pt" voffset="3pt" width="+6pt" mathbackground="#bae6fd" height="+6pt"><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mi>k</mi></msub><mo separator="true">,</mo><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo separator="true">,</mo><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><mi mathvariant="normal">⊥</mi></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mo>↱</mo><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mi>m</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">assert</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mi mathvariant="normal">.</mi><mtext> </mtext><msub><mi>m</mi><mi>j</mi></msub><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo>∧</mo><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>k</mi><mi>j</mi></mrow><mo>=</mo><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">for</mtext><mtext> </mtext></mrow><mi>j</mi><mo>∈</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">H</mi><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><msub><mi>x</mi><mi>k</mi></msub><mo>=</mo><mi mathvariant="normal">⊥</mi><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mspace width="0.5em"/><msub><mi>x</mi><mi>k</mi></msub><mo>←</mo><msub><mi>m</mi><mi>j</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mspace width="0.5em"/><mpadded width="+6pt" height="+6pt" lspace="3pt" voffset="3pt" mathbackground="#bae6fd"><mstyle displaystyle="false" scriptlevel="0"><msub><mtext>SetBroadcast</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><msub><mi>x</mi><mi>k</mi></msub><mo stretchy="false">)</mo></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">elif</mtext><mtext> </mtext></mrow><msub><mi>x</mi><mi>k</mi></msub><mi mathvariant="normal">≠</mi><msub><mi>m</mi><mi>j</mi></msub><mo>:</mo><mspace width="0.5em"/><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">(</mo><mo stretchy="false">{</mo><mi>j</mi><mo stretchy="false">}</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>k</mi><mi>j</mi></mrow><mo>←</mo><msub><mi>m</mi><mi>j</mi></msub><mtext> </mtext><mo stretchy="false">(</mo><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">M</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mpadded voffset="3pt" height="+6pt" width="+6pt" mathbackground="#bae6fd" lspace="3pt"><mstyle displaystyle="false" scriptlevel="0"><msub><mtext>SendBroadcast</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">H</mi><mo stretchy="false">)</mo></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mo>↱</mo><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mi>m</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">assert</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mi mathvariant="normal">.</mi><mtext> </mtext><msub><mi>m</mi><mi>j</mi></msub><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo>∧</mo><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>k</mi><mi>j</mi></mrow><mo>=</mo><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">for</mtext><mtext> </mtext></mrow><mi>j</mi><mo>∈</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">H</mi><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mtext>trap</mtext><mi mathvariant="normal">_</mi><mrow><mo>∙</mo><mi>j</mi></mrow><mo>=</mo><mi mathvariant="normal">⊥</mi><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mspace width="0.5em"/><mpadded height="+6pt" lspace="3pt" voffset="3pt" width="+6pt" mathbackground="#bae6fd"><mstyle scriptlevel="0" displaystyle="false"><mtext>Trap</mtext><mo stretchy="false">(</mo><mi>j</mi><mo separator="true">,</mo><msub><mi>m</mi><mi>j</mi></msub><mo stretchy="false">)</mo></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">elif</mtext><mtext> </mtext></mrow><mtext>trap</mtext><mi mathvariant="normal">_</mi><mrow><mo>∙</mo><mi>j</mi></mrow><mi mathvariant="normal">≠</mi><msub><mi>m</mi><mi>j</mi></msub><mo>:</mo><mspace width="0.5em"/><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">(</mo><mo stretchy="false">{</mo><mi>j</mi><mo stretchy="false">}</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>k</mi><mi>j</mi></mrow><mo>←</mo><msub><mi>m</mi><mi>j</mi></msub><mtext> </mtext><mo stretchy="false">(</mo><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mpadded width="+6pt" mathbackground="#bae6fd" lspace="3pt" height="+6pt" voffset="3pt"><mstyle scriptlevel="0" displaystyle="false"><msub><mtext>Sync</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mo>↰</mo><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mtext mathvariant="monospace">wait</mtext><mi mathvariant="normal">_</mi><mrow><mo stretchy="false">(</mo><mi>k</mi><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><mtext> </mtext><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mo>∩</mo><mi>M</mi><mi mathvariant="normal">.</mi><mtext> </mtext><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>k</mi></mrow><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mpadded height="+6pt" mathbackground="#bae6fd" width="+6pt" lspace="3pt" voffset="3pt"><mstyle scriptlevel="0" displaystyle="false"><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>k</mi></mrow><mo>←</mo><msub><mtext>GetBroadcast</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">{</mo><mi>j</mi><mo stretchy="false">}</mo><mo stretchy="false">)</mo><mtext> </mtext><mo stretchy="false">(</mo><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">H</mi><mo stretchy="false">)</mo></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mo stretchy="false">[</mo><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>k</mi></mrow><mo>∣</mo><mi>j</mi><mo>∈</mo><mi>S</mi><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mo>↰</mo><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mpadded lspace="3pt" height="+6pt" width="+6pt" mathbackground="#bae6fd" voffset="3pt"><mstyle scriptlevel="0" displaystyle="false"><msub><mtext>WaitSync</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mpadded mathbackground="#bae6fd" lspace="3pt" height="+6pt" voffset="3pt" width="+6pt"><mstyle scriptlevel="0" displaystyle="false"><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>k</mi></mrow><mo>←</mo><msub><mtext>GetBroadcast</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo stretchy="false">)</mo><mtext> </mtext><mo stretchy="false">(</mo><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">H</mi><mo stretchy="false">)</mo></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mo stretchy="false">[</mo><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>k</mi></mrow><mo>∣</mo><mi>j</mi><mo>∈</mo><mi>S</mi><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo rspace="0em" lspace="0em">⊗</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>F</mi><mo stretchy="false">[</mo><mtext>SyncComm</mtext><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Hash</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mo lspace="0em" rspace="0em">∘</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="false" scriptlevel="0"><mstyle displaystyle="true" scriptlevel="0"><mstyle mathsize="0.9em"><mtable columnspacing="0em" rowspacing="0.25em" columnalign="right left"><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded width="+6pt" lspace="3pt" voffset="3pt" mathbackground="#FBCFE8" height="+6pt"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><mi>F</mi><mo stretchy="false">[</mo><mtext>Broadcast</mtext><msup><mo stretchy="false">]</mo><mo rspace="0em" mathvariant="normal" lspace="0em">′</mo></msup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><msub><mi>x</mi><mi>i</mi></msub><mo separator="true">,</mo><mtext>sent</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo separator="true">,</mo><mtext>trap</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>SetBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mi>x</mi><mi>i</mi></msub><mo>←</mo><mi>x</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>GetBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mtext mathvariant="monospace">wait</mtext><mi mathvariant="normal">_</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><mtext> sent</mtext><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>i</mi></mrow><mtext> </mtext><mo stretchy="false">(</mo><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mo stretchy="false">[</mo><msub><mi>x</mi><mi>j</mi></msub><mo>∣</mo><mi>j</mi><mo>∈</mo><mi>S</mi><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><mtext>Trap</mtext><mo stretchy="false">(</mo><mi>j</mi><mo separator="true">,</mo><mi>m</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">assert</mtext><mtext> </mtext></mrow><mtext>trap</mtext><mi mathvariant="normal">_</mi><mrow><mo>∙</mo><mi>j</mi></mrow><mo>=</mo><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mtext>trap</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><msub><mi>m</mi><mi>i</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><mtext>BadBroadcast</mtext><mo stretchy="false">(</mo><mi>j</mi><mo separator="true">,</mo><mi>m</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∃</mi><mi>i</mi><mi mathvariant="normal">.</mi><mtext> trap</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo>∧</mo><mtext>trap</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mi mathvariant="normal">≠</mi><mi>x</mi><mi mathvariant="normal">_</mi><mi>i</mi></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Sync</mtext><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Stop</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{bae6fd}{\large
  $\Gamma^{11}_H$
}\cr
\cr
&amp;\underline{
  (1)\text{Broadcast}_i(x):
}\cr
  &amp;\enspace
    \text{SetBroadcast}_i(x)
  \cr
  &amp;\enspace
    \text{SendBroadcast}_i(\star)
  \cr
\cr
&amp;\underline{
  \text{WaitBroadcast}_i():
}\cr
  &amp;\enspace
    x\_{\bullet} \gets \text{GetBroadcast}_i(\star)
  \cr
  &amp;\enspace
    \text{Sync}_i(\star)
  \cr
\cr
&amp;\underline{
  \text{EndBroadcast}_i():
}\cr
  &amp;\enspace
    \text{WaitSync}_i(\star)
  \cr
  &amp;\enspace
    \texttt{if } \text{BadBroadcast}_i():
  \cr
  &amp;\enspace\enspace
    \texttt{stop}(\star, 1)
  \cr
\end{aligned}
}
}
\otimes
\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^{11}_M$
}\cr
\cr
&amp;\colorbox{bae6fd}{$
x_k, \hat{x}\_{ij}, \vec{x}\_{ij} \gets \bot
$}\cr
&amp;\underline{
  \Rsh_k(S, m\_\bullet, 0):
}\cr
  &amp;\enspace
    \texttt{assert } \forall j \in S.\ m_j \neq \bot \land \hat{x}\_{kj} = \bot
  \cr
  &amp;\enspace
    \texttt{for } j \in S \cap \mathcal{H}:
  \cr
  &amp;\enspace\enspace
    \texttt{if } x_k = \bot:
  \cr
  &amp;\enspace\enspace\enspace
    x_k \gets m_j
  \cr
  &amp;\enspace\enspace\enspace
  \colorbox{bae6fd}{$
    \text{SetBroadcast}_k(x_k)
  $}
  \cr
  &amp;\enspace\enspace
    \texttt{elif } x_k \neq m_j:\enspace \texttt{stop}(\{j\}, 1)
  \cr
  &amp;\enspace
    \hat{x}\_{kj} \gets m_j\ (\forall j \in S \cap \mathcal{M})
  \cr
  &amp;\enspace
  \colorbox{bae6fd}{$
    \text{SendBroadcast}_k(S \cap \mathcal{H})
  $}
  \cr
\cr
&amp;\underline{
  \Rsh_k(S, m\_\bullet, 1):
}\cr
  &amp;\enspace
    \texttt{assert } \forall j \in S.\ m_j \neq \bot \land \vec{x}\_{kj} = \bot
  \cr
  &amp;\enspace
    \texttt{for } j \in S \cap \mathcal{H}:
  \cr
  &amp;\enspace\enspace
    \texttt{if } \text{trap}\_{\bullet j} = \bot:
  \cr
  &amp;\enspace\enspace\enspace
  \colorbox{bae6fd}{$
    \text{Trap}(j, m_j)
  $}
  \cr
  &amp;\enspace\enspace
    \texttt{elif } \text{trap}\_{\bullet j} \neq m_j:\enspace \texttt{stop}(\{j\}, 1)
  \cr
  &amp;\enspace
    \vec{x}\_{kj} \gets m_j\ (\forall j \in S)
  \cr
  &amp;\enspace
  \colorbox{bae6fd}{$
    \text{Sync}_k(S)
  $}
  \cr
\cr
&amp;\underline{
  \Lsh_k(S, 0):
}\cr
  &amp;\enspace
    \texttt{wait}\_{(k, 0)}\ \forall j \in S \cap M.\ \hat{x}\_{jk} \neq \bot
  \cr
  &amp;\enspace
  \colorbox{bae6fd}{$
    \hat{x}\_{jk} \gets \text{GetBroadcast}_k(\{j\})\ (\forall j \in S \cap \mathcal{H})
  $}
  \cr
  &amp;\enspace
    \texttt{return } [\hat{x}\_{j k} \mid j \in S]
  \cr
\cr
&amp;\underline{
  \Lsh_k(S, 1):
}\cr
  &amp;\enspace
  \colorbox{bae6fd}{$
    \text{WaitSync}_k()
  $}
  \cr
  &amp;\enspace
  \colorbox{bae6fd}{$
    \vec{x}\_{jk} \gets \text{GetBroadcast}_k(\star)\ (\forall j \in S \cap \mathcal{H})
  $}
  \cr
  &amp;\enspace
    \texttt{return } [\vec{x}\_{jk} \mid j \in S]
  \cr
\end{aligned}
}
}
\cr
  \otimes
\cr
  F[\text{SyncComm}] \otimes F[\text{Hash}]
\end{matrix}
\cr
  \circ
\cr
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $F[\text{Broadcast}]&#x27;$
}\cr
\cr
&amp;x_i, \text{sent}\_{ij}, \text{trap}\_{ij} \gets \bot\cr
\cr
&amp;\underline{
  (1)\text{SetBroadcast}_i(x):
}\cr
  &amp;\enspace
    x_i \gets x
  \cr
\cr
&amp;\underline{
  \text{GetBroadcast}_i(S):
}\cr
  &amp;\enspace
    \texttt{wait}\_{(i, 0)}\ \text{sent}\_{ji}\ (\forall j \in S)
  \cr
  &amp;\enspace
    \texttt{return } [x_j \mid j \in S]
  \cr
\cr
&amp;\underline{
  \text{Trap}(j, m\_\bullet):
}\cr
  &amp;\enspace
    \texttt{assert } \text{trap}\_{\bullet j} = \bot
  \cr
  &amp;\enspace
    \text{trap}\_{i j} \gets m_i
  \cr
\cr
&amp;\underline{
  \text{BadBroadcast}(j, m\_\bullet):
}\cr
  &amp;\enspace
    \texttt{return } \exists i.\ \text{trap}\_{i j} \neq \bot \land \text{trap}\_{i j} \neq x\_i
  \cr
\end{aligned}
}
}
\otimes
F[\text{Sync}(1)]
\otimes
F[\text{Stop}]
\end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:75.0545em;vertical-align:-37.2772em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:37.7772em;"><span style="top:-39.7772em;"><span class="pstrut" style="height:26.8162em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:10.4936em;"><span style="top:-22.5372em;"><span class="pstrut" style="height:22.5372em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:11.2818em;"><span style="top:-13.2818em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-11.505em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-10.005em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-8.415em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-6.915em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-5.415em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-3.915em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-2.325em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-0.825em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:0.675em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:2.175em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:3.765em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:5.265em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:6.765em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:10.7818em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:11.2818em;"><span style="top:-13.2818em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="height:1.9936em;background-color:#bae6fd;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="top:-2.5474em;margin-left:0em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight"><span class="mord mtight">11</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-10.005em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-8.415em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span><span style="top:-6.915em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">n</span><span class="mord">d</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mclose">)</span></span></span><span style="top:-3.915em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-2.325em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord mathnormal">x</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord text"><span class="mord">G</span><span class="mord">e</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mclose">)</span></span></span><span style="top:-0.825em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="margin-right:0.0556em;top:-2.3389em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mclose">)</span></span></span><span style="top:2.175em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">E</span><span class="mord">n</span><span class="mord">d</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:3.765em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.3389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mclose">)</span></span></span><span style="top:5.265em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord"><span class="mord text"><span class="mord">B</span><span class="mord">a</span><span class="mord">d</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:6.765em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:10.7818em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-12.4936em;"><span class="pstrut" style="height:22.5372em;"></span><span class="stretchy fbox" style="height:20.5372em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:10.0436em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:24.8162em;"><span style="top:-26.8162em;"><span class="pstrut" style="height:25.5912em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:23.5912em;"><span style="top:-48.7325em;"><span class="pstrut" style="height:48.7325em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:25.8347em;"><span style="top:-27.8347em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-26.058em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-24.384em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-22.634em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-20.984em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-19.484em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-17.984em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-16.484em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-14.774em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-13.084em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-11.584em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-9.874em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-8.184em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-6.684em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-5.034em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-3.534em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-2.034em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-0.324em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:1.3957em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:2.8957em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:4.6057em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:6.3068em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:7.8068em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:9.3968em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:11.1068em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:12.8568em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:14.3568em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:15.8568em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:17.6568em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:19.5679em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:21.3179em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:25.3347em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:25.8347em;"><span style="top:-27.8347em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="height:1.9936em;background-color:#FBCFE8;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-left:0em;top:-2.5474em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.109em;">M</span></span></span><span style="margin-right:0.0417em;top:-3.163em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight"><span class="mord mtight">11</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-24.384em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.014em;"><span style="top:-3.014em;"><span class="pstrut" style="height:3.624em;"></span><span class="stretchy colorbox" style="height:1.624em;background-color:#bae6fd;"></span></span><span style="top:-3.624em;"><span class="pstrut" style="height:3.624em;"></span><span class="mord boxpad"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMinYMin" height="0.714em" width="0.471em" style="width:0.471em" viewBox="0 0 471 714"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.61em;"><span></span></span></span></span></span></span></span><span style="top:-22.634em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.53em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-left:0em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.51em;"><span></span></span></span></span></span></span></span><span style="top:-20.984em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">assert </span></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mord">.</span><span class="mspace"> </span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">kj</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:-19.484em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">for </span></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:-17.984em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-left:0em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:-16.484em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span></span></span><span style="top:-14.774em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.6em;"></span><span class="stretchy colorbox" style="height:1.6em;background-color:#bae6fd;"></span></span><span style="top:-3.6em;"><span class="pstrut" style="height:3.6em;"></span><span class="mord boxpad"><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.55em;"><span></span></span></span></span></span></span></span><span style="top:-13.084em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">elif </span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mopen">({</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">}</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span><span style="top:-11.584em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">kj</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace"> </span><span class="mopen">(</span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal">M</span><span class="mclose">)</span></span></span><span style="top:-9.874em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.6em;"></span><span class="stretchy colorbox" style="background-color:#bae6fd;height:1.6em;"></span></span><span style="top:-3.6em;"><span class="pstrut" style="height:3.6em;"></span><span class="mord boxpad"><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">n</span><span class="mord">d</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.55em;"><span></span></span></span></span></span></span></span><span style="top:-6.684em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.53em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-left:0em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.51em;"><span></span></span></span></span></span></span></span><span style="top:-5.034em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">assert </span></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mord">.</span><span class="mspace"> </span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="width:0.471em;height:0.714em;"><svg xmlns="http://www.w3.org/2000/svg" height="0.714em" preserveAspectRatio="xMinYMin" width="0.471em" style="width:0.471em" viewBox="0 0 471 714"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">kj</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:-3.534em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">for </span></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:-2.034em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord text"><span class="mord">t</span><span class="mord">r</span><span class="mord">a</span><span class="mord">p</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:-0.324em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.6296em;"></span><span class="stretchy colorbox" style="background-color:#bae6fd;height:1.6296em;"></span></span><span style="top:-3.6296em;"><span class="pstrut" style="height:3.6296em;"></span><span class="mord boxpad"><span class="mord text"><span class="mord">T</span><span class="mord">r</span><span class="mord">a</span><span class="mord">p</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5796em;"><span></span></span></span></span></span></span></span><span style="top:1.3957em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">elif </span></span><span class="mord text"><span class="mord">t</span><span class="mord">r</span><span class="mord">a</span><span class="mord">p</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mopen">({</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">}</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span><span style="top:2.8957em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" height="0.714em" preserveAspectRatio="xMinYMin" style="width:0.471em" viewBox="0 0 471 714" width="0.471em"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">kj</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace"> </span><span class="mopen">(</span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span></span></span><span style="top:4.6057em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.6111em;"></span><span class="stretchy colorbox" style="background-color:#bae6fd;height:1.6111em;"></span></span><span style="top:-3.6111em;"><span class="pstrut" style="height:3.6111em;"></span><span class="mord boxpad"><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2019em;"><span style="top:-2.3389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5611em;"><span></span></span></span></span></span></span></span><span style="top:7.8068em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:9.3968em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">wait</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0315em;">k</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span></span><span class="mspace"> </span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.109em;">M</span><span class="mord">.</span><span class="mspace"> </span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0315em;">jk</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:11.1068em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.66em;"></span><span class="stretchy colorbox" style="height:1.66em;background-color:#bae6fd;"></span></span><span style="top:-3.66em;"><span class="pstrut" style="height:3.66em;"></span><span class="mord boxpad"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0315em;">jk</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord text"><span class="mord">G</span><span class="mord">e</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">({</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">})</span><span class="mspace"> </span><span class="mopen">(</span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.61em;"><span></span></span></span></span></span></span></span><span style="top:12.8568em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mopen">[</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0315em;">jk</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">]</span></span></span><span style="top:15.8568em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:17.6568em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.6111em;"></span><span class="stretchy colorbox" style="background-color:#bae6fd;height:1.6111em;"></span></span><span style="top:-3.6111em;"><span class="pstrut" style="height:3.6111em;"></span><span class="mord boxpad"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2019em;"><span style="top:-2.3389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5611em;"><span></span></span></span></span></span></span></span><span style="top:19.5679em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.66em;"></span><span class="stretchy colorbox" style="height:1.66em;background-color:#bae6fd;"></span></span><span style="top:-3.66em;"><span class="pstrut" style="height:3.66em;"></span><span class="mord boxpad"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" height="0.714em" width="0.471em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0315em;">jk</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord text"><span class="mord">G</span><span class="mord">e</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mclose">)</span><span class="mspace"> </span><span class="mopen">(</span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.61em;"><span></span></span></span></span></span></span></span><span style="top:21.3179em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mopen">[</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="width:0.471em;height:0.714em;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 471 714" width="0.471em" style="width:0.471em" height="0.714em" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0315em;">jk</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:25.3347em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-25.5912em;"><span class="pstrut" style="height:48.7325em;"></span><span class="stretchy fbox" style="border-style:solid;border-width:0.04em;height:46.7325em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:23.1412em;"><span></span></span></span></span></span></span></span><span style="top:-2.835em;"><span class="pstrut" style="height:25.5912em;"></span><span class="mord"><span class="mord">⊗</span></span></span><span style="top:-1.635em;"><span class="pstrut" style="height:25.5912em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:24.3162em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-14.621em;"><span class="pstrut" style="height:26.8162em;"></span><span class="mord"><span class="mord">∘</span></span></span><span style="top:-1.675em;"><span class="pstrut" style="height:26.8162em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:12.586em;"><span style="top:-26.722em;"><span class="pstrut" style="height:26.722em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:13.6067em;"><span style="top:-15.6067em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-13.8333em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-12.3333em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-10.8333em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-9.3333em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-7.7433em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-6.2433em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-4.7433em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-3.1533em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-1.6533em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-0.1533em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:1.3467em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:2.9967em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:4.4967em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:5.9967em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:7.4967em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:9.1467em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:13.1067em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:13.6067em;"><span style="top:-15.6067em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3em;"><span style="top:-3.3em;"><span class="pstrut" style="height:3.9333em;"></span><span class="stretchy colorbox" style="background-color:#FBCFE8;height:1.9333em;"></span></span><span style="top:-3.9333em;"><span class="pstrut" style="height:3.9333em;"></span><span class="mord boxpad"><span class="mord mathnormal sizing reset-size5 size7" style="margin-right:0.1389em;">F</span><span class="mopen sizing reset-size5 size7">[</span><span class="mord text sizing reset-size5 size7"><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="mclose sizing reset-size5 size7"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7334em;"><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6333em;"><span></span></span></span></span></span></span></span><span style="top:-12.3333em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord">s</span><span class="mord">e</span><span class="mord">n</span><span class="mord">t</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord">t</span><span class="mord">r</span><span class="mord">a</span><span class="mord">p</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:-9.3333em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-7.7433em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">x</span></span></span><span style="top:-4.7433em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">G</span><span class="mord">e</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-3.1533em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">wait</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span></span><span class="mspace"> </span><span class="mord text"><span class="mord">s</span><span class="mord">e</span><span class="mord">n</span><span class="mord">t</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">ji</span></span><span class="mspace"> </span><span class="mopen">(</span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span></span></span><span style="top:-1.6533em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">]</span></span></span><span style="top:1.3467em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.53em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">T</span><span class="mord">r</span><span class="mord">a</span><span class="mord">p</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.51em;"><span></span></span></span></span></span></span></span><span style="top:2.9967em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">assert </span></span><span class="mord text"><span class="mord">t</span><span class="mord">r</span><span class="mord">a</span><span class="mord">p</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:4.4967em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord">t</span><span class="mord">r</span><span class="mord">a</span><span class="mord">p</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:7.4967em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.53em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">B</span><span class="mord">a</span><span class="mord">d</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.51em;"><span></span></span></span></span></span></span></span><span style="top:9.1467em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord">∃</span><span class="mord mathnormal">i</span><span class="mord">.</span><span class="mspace"> </span><span class="mord text"><span class="mord">t</span><span class="mord">r</span><span class="mord">a</span><span class="mord">p</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">t</span><span class="mord">r</span><span class="mord">a</span><span class="mord">p</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">x</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord mathnormal">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:13.1067em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-14.586em;"><span class="pstrut" style="height:26.722em;"></span><span class="stretchy fbox" style="border-style:solid;border-width:0.04em;height:24.722em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:12.136em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">o</span><span class="mord">p</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:37.2772em;"><span></span></span></span></span></span></span></span></span></span></span></span></span>
<p>As suggested by the introduction of this broadcast functionality,
we now have a new protocol <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="script">P</mi><mn>1</mn></msup></mrow><annotation encoding="application/x-tex">\mathscr{P}^1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span>,
and have shown that <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="script">P</mi><mn>0</mn></msup><mo>⇝</mo><msup><mi mathvariant="script">P</mi><mn>1</mn></msup></mrow><annotation encoding="application/x-tex">\mathscr{P}^0 \leadsto \mathscr{P}^1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">⇝</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span>
by our game hopping.
We're not quite done yet, because the trapping here is a bit too strong,
in that the adversary can trap even after a broadcast value has been
set.
We can simulate this freedom away.</p>
<p>Next, unroll again.</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable columnspacing="1em" rowspacing="0.16em" columnalign="center"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable columnalign="right left" columnspacing="0em" rowspacing="0.25em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded width="+6pt" lspace="3pt" voffset="3pt" height="+6pt" mathbackground="#FBCFE8"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>12</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>StartBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mo>…</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mo>⊗</mo><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="true"><mrow><mpadded height="+6pt" mathbackground="#FBCFE8" width="+6pt" voffset="3pt" lspace="3pt"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><msubsup><mi mathvariant="normal">Γ</mi><mi>M</mi><mn>12</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded><mo>=</mo><mn>1</mn><mrow><mo fence="true">(</mo><mtable columnspacing="1em" rowspacing="0.16em" columnalign="center"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><msub><mtext>SetBroadcast</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><msub><mtext>GetBroadcast</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><msub><mtext>BadBroadcast</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mtext>Sync</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>Trap</mtext></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow></mstyle></mstyle></mstyle></menclose></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo rspace="0em" lspace="0em">∘</mo></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>F</mi><mo stretchy="false">[</mo><mtext>Broadcast</mtext><msup><mo stretchy="false">]</mo><mo mathvariant="normal" rspace="0em" lspace="0em">′</mo></msup><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Sync</mtext><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Stop</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^{12}_H$
}\cr
\cr
&amp;\underline{
  (1)\text{StartBroadcast}_i(x):
}\cr
&amp;\enspace
  \ldots
\cr
\end{aligned}
}
}
\otimes
\boxed{\colorbox{FBCFE8}{\large
  $\Gamma^{12}_M$
} = 1
\begin{pmatrix}
    \text{SetBroadcast}_k
  ,\cr
    \text{GetBroadcast}_k
  ,\cr
    \text{BadBroadcast}_k
  ,\cr
    \text{Sync}_k
  ,\cr
    \text{Trap}
\end{pmatrix}
}
\cr
  \circ
\cr
F[\text{Broadcast}]&#x27; \otimes F[\text{Sync}(1)] \otimes F[\text{Stop}]
\end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:9.2752em;vertical-align:-4.3876em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:4.8876em;"><span style="top:-6.8876em;"><span class="pstrut" style="height:5.6626em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.6626em;"><span style="top:-8.8752em;"><span class="pstrut" style="height:8.8752em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.6918em;"><span style="top:-5.6918em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-3.915em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-2.415em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-0.825em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.1918em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.6918em;"><span style="top:-5.6918em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="background-color:#FBCFE8;height:1.9936em;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-right:0.0417em;top:-2.5474em;margin-left:0em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="margin-right:0.0417em;top:-3.163em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-2.415em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">a</span><span class="mord">r</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-0.825em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="minner">…</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.1918em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-5.6626em;"><span class="pstrut" style="height:8.8752em;"></span><span class="stretchy fbox" style="border-style:solid;height:6.8752em;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.2126em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.59em;"><span style="top:-8.68em;"><span class="pstrut" style="height:8.68em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2512em;"><span style="top:-3.2512em;"><span class="pstrut" style="height:3.8542em;"></span><span class="stretchy colorbox" style="height:1.8542em;background-color:#FBCFE8;"></span></span><span style="top:-3.8542em;"><span class="pstrut" style="height:3.8542em;"></span><span class="mord boxpad"><span class="mord sizing reset-size6 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-left:0em;margin-right:0.0417em;top:-2.5474em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.109em;">M</span></span></span><span style="margin-right:0.0417em;top:-3.163em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size6 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6031em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em;"><span style="top:-5.25em;"><span class="pstrut" style="height:8em;"></span><span style="width:0.875em;height:6.000em;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 875 6000" height="6.000em" width="0.875em"><path d="M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,2484c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-2492c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em;"><span style="top:-5.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="margin-right:0.05em;top:-2.55em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">G</span><span class="mord">e</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="margin-right:0.05em;top:-2.55em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">B</span><span class="mord">a</span><span class="mord">d</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="margin-right:0.05em;top:-2.55em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.242em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-0.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">T</span><span class="mord">r</span><span class="mord">a</span><span class="mord">p</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em;"><span style="top:-5.25em;"><span class="pstrut" style="height:8em;"></span><span style="width:0.875em;height:6.000em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.875em" height="6.000em" viewBox="0 0 875 6000"><path d="M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,2409
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-2544c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em;"><span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-5.59em;"><span class="pstrut" style="height:8.68em;"></span><span class="stretchy fbox" style="height:6.68em;border-width:0.04em;border-style:solid;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.09em;"><span></span></span></span></span></span></span></span><span style="top:-2.835em;"><span class="pstrut" style="height:5.6626em;"></span><span class="mord"><span class="mord">∘</span></span></span><span style="top:-1.635em;"><span class="pstrut" style="height:5.6626em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="margin-right:0.05em;top:-3.063em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">o</span><span class="mord">p</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:4.3876em;"><span></span></span></span></span></span></span></span></span></span></span></span></span>
<p>Traps that happen after a broadcast can be simulated by triggering an abort
ourselves in the simulator.</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="true" scriptlevel="0"><mstyle mathsize="0.9em"><mtable columnalign="right left" rowspacing="0.25em" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded voffset="3pt" mathbackground="#FBCFE8" width="+6pt" height="+6pt" lspace="3pt"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>13</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded><mo>=</mo><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>12</mn></msubsup></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mo>⊗</mo><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="false" scriptlevel="0"><mstyle displaystyle="true" scriptlevel="0"><mstyle mathsize="0.9em"><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded height="+6pt" width="+6pt" mathbackground="#FBCFE8" lspace="3pt" voffset="3pt"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msubsup><mi mathvariant="normal">Γ</mi><mi>M</mi><mn>13</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded lspace="3pt" voffset="3pt" mathbackground="#bae6fd" height="+6pt" width="+6pt"><mstyle scriptlevel="0" displaystyle="false"><munder accentunder="true"><mrow><mtext>Trap</mtext><mo stretchy="false">(</mo><mi>j</mi><mo separator="true">,</mo><mi>m</mi><mi mathvariant="normal">_</mi><mo rspace="0em" lspace="0em">∙</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">for</mtext><mtext> </mtext></mrow><mi>i</mi><mo>∈</mo><mi mathvariant="script">H</mi><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∃</mi><mi>k</mi><mi mathvariant="normal">.</mi><mtext> </mtext><mi>x</mi><mo>←</mo><mrow><mtext mathvariant="monospace">nowait</mtext><mtext> </mtext></mrow><msub><mtext>GetBroadcast</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">{</mo><mi>i</mi><mo stretchy="false">}</mo><mo stretchy="false">)</mo><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><msub><mi>m</mi><mi>i</mi></msub><mi mathvariant="normal">≠</mi><mi>x</mi><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mspace width="0.5em"/><mspace width="0.5em"/><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">(</mo><mo stretchy="false">{</mo><mi>j</mi><mo stretchy="false">}</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mspace width="0.5em"/><mspace width="0.5em"/><mtext mathvariant="monospace">return</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mtext>Trap</mtext><mo stretchy="false">(</mo><mi>j</mi><mo separator="true">,</mo><mi>m</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mo rspace="0em" lspace="0em">∘</mo></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>F</mi><mo stretchy="false">[</mo><mtext>Broadcast</mtext><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Sync</mtext><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Stop</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^{13}_H$
} = \Gamma^{12}_H\cr
\end{aligned}
}
}
\otimes
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^{13}_M$
}\cr
\cr
&amp;\colorbox{bae6fd}{$
\underline{
  \text{Trap}(j, m\_{\bullet}):
}$}\cr
  &amp;\enspace
    \texttt{for } i \in \mathcal{H}:
  \cr
  &amp;\enspace\enspace
    \texttt{if } \exists k.\ x \gets \texttt{nowait } \text{GetBroadcast}_k(\{i\}):
  \cr
  &amp;\enspace\enspace\enspace
    \texttt{if } m_i \neq x:
  \cr
  &amp;\enspace\enspace\enspace\enspace
    \texttt{stop}(\{j\}, 1)
  \cr
  &amp;\enspace\enspace\enspace\enspace
    \texttt{return}
  \cr
  &amp;\enspace
    \text{Trap}(j, m\_\bullet)
  \cr
\end{aligned}
}
}
\cr
  \circ
\cr
F[\text{Broadcast}] \otimes F[\text{Sync}(1)] \otimes F[\text{Stop}]
\end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:16.5382em;vertical-align:-8.0191em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:8.5191em;"><span style="top:-10.5191em;"><span class="pstrut" style="height:9.2941em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5971em;"><span style="top:-4.7442em;"><span class="pstrut" style="height:4.7442em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3968em;"><span style="top:-3.3968em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8968em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3968em;"><span style="top:-3.3968em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="background-color:#FBCFE8;height:1.9936em;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="top:-2.5474em;margin-left:0em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight"><span class="mord mtight">13</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8426em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.353em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8968em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.5971em;"><span class="pstrut" style="height:4.7442em;"></span><span class="stretchy fbox" style="border-style:solid;height:2.7442em;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.1471em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:7.2941em;"><span style="top:-16.1382em;"><span class="pstrut" style="height:16.1382em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:7.7268em;"><span style="top:-9.7268em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-7.95em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-6.24em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-4.29em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-2.79em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-1.29em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:0.21em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:1.71em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:3.21em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:7.2268em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:7.7268em;"><span style="top:-9.7268em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="background-color:#FBCFE8;height:1.9936em;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="top:-2.5474em;margin-right:0.0417em;margin-left:0em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.109em;">M</span></span></span><span style="margin-right:0.0417em;top:-3.163em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight"><span class="mord mtight">13</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-6.24em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.86em;"></span><span class="stretchy colorbox" style="background-color:#bae6fd;height:1.86em;"></span></span><span style="top:-3.86em;"><span class="pstrut" style="height:3.86em;"></span><span class="mord boxpad"><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.53em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">T</span><span class="mord">r</span><span class="mord">a</span><span class="mord">p</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.51em;"><span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.81em;"><span></span></span></span></span></span></span></span><span style="top:-4.29em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">for </span></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:-2.79em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord">∃</span><span class="mord mathnormal" style="margin-right:0.0315em;">k</span><span class="mord">.</span><span class="mspace"> </span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord texttt">nowait </span></span><span class="mord"><span class="mord text"><span class="mord">G</span><span class="mord">e</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">({</span><span class="mord mathnormal">i</span><span class="mclose">})</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:-1.29em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:0.21em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mopen">({</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">}</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span><span style="top:1.71em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return</span></span></span></span><span style="top:3.21em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord">T</span><span class="mord">r</span><span class="mord">a</span><span class="mord">p</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:7.2268em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-9.2941em;"><span class="pstrut" style="height:16.1382em;"></span><span class="stretchy fbox" style="border-style:solid;border-width:0.04em;height:14.1382em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:6.8441em;"><span></span></span></span></span></span></span></span><span style="top:-2.835em;"><span class="pstrut" style="height:9.2941em;"></span><span class="mord"><span class="mord">∘</span></span></span><span style="top:-1.635em;"><span class="pstrut" style="height:9.2941em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">o</span><span class="mord">p</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:8.0191em;"><span></span></span></span></span></span></span></span></span></span></span></span></span>
<p>This is a simulator for <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>IdealBroadcast</mtext><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\mathscr{P}[\text{IdealBroadcast}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="mopen">[</span><span class="mord text"><span class="mord">I</span><span class="mord">d</span><span class="mord">e</span><span class="mord">a</span><span class="mord">l</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="mclose">]</span></span></span></span></span>,
which concludes our proof, via the logic:</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>EchoBroadcast</mtext><mo stretchy="false">]</mo><mo>⇝</mo><msup><mi mathvariant="script">P</mi><mn>0</mn></msup><mo>⇝</mo><msup><mi mathvariant="script">P</mi><mn>1</mn></msup><mo>⇝</mo><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>IdealBroadcast</mtext><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\mathscr{P}[\text{EchoBroadcast}] \leadsto \mathscr{P}^0 \leadsto \mathscr{P}^1
\leadsto \mathscr{P}[\text{IdealBroadcast}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="mopen">[</span><span class="mord text"><span class="mord">E</span><span class="mord">c</span><span class="mord">h</span><span class="mord">o</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">⇝</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8641em;"></span><span class="mord"><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">⇝</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8641em;"></span><span class="mord"><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">⇝</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="mopen">[</span><span class="mord text"><span class="mord">I</span><span class="mord">d</span><span class="mord">e</span><span class="mord">a</span><span class="mord">l</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="mclose">]</span></span></span></span></span></span>
<p><span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">■</mi></mrow><annotation encoding="application/x-tex">\blacksquare</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.675em;"></span><span class="mord amsrm">■</span></span></span></span></span></p>
<h1>Commitments</h1>
<p>Our main application of broadcast will be to define a commitment protocol.
The basic idea is that you commit to a value by hashing it,
along with a random salt,
and then broadcast that commitment.
Later, you can open the value by sending it along with the salt.</p>
<p><strong>Definition (Commitment Protocol):</strong></p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="true"><mtable columnspacing="1em" rowspacing="0.16em" columnalign="center"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mpadded width="+6pt" lspace="3pt" voffset="3pt" height="+6pt" mathbackground="#FBCFE8"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>Commit</mtext><mo stretchy="false">]</mo></mstyle><mtext> </mtext></mstyle></mpadded></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable columnspacing="0em" columnalign="right left" rowspacing="0.25em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded height="+6pt" mathbackground="#FBCFE8" width="+6pt" voffset="3pt" lspace="3pt"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msub><mi>P</mi><mi>i</mi></msub></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msub><mi>x</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>r</mi><mi>i</mi></msub><mo>←</mo><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>SetCommit</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mi>x</mi><mi>i</mi></msub><mo>←</mo><mi>x</mi><mo separator="true">,</mo><mspace width="1em"/><msub><mi>r</mi><mi>i</mi></msub><mover><mo minsize="1.75em" stretchy="true">←</mo><mpadded width="+0.6em" lspace="0.3em"><mi mathvariant="normal">$</mi></mpadded></mover><msup><mtext mathvariant="monospace">01</mtext><mrow><mn>2</mn><mi>λ</mi></mrow></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>SetBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mtext>Hash</mtext><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>r</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>Commit</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>SendBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitCommit</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><msub><mtext>WaitBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>Open</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">assert</mtext><mtext> </mtext></mrow><msub><mi>x</mi><mi>i</mi></msub><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mo>↱</mo><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>r</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitOpen</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mi>c</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo>←</mo><msub><mtext>WaitCommit</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>EndBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mo stretchy="false">(</mo><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo rspace="0em" lspace="0em">∙</mo><mo separator="true">,</mo><mover accent="true"><mi>r</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo lspace="0em" rspace="0em">∙</mo><mo stretchy="false">)</mo><msub><mo>↰</mo><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∃</mi><mi>j</mi><mi mathvariant="normal">.</mi><mtext> Hash</mtext><mo stretchy="false">(</mo><msub><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi>j</mi></msub><mo separator="true">,</mo><msub><mover accent="true"><mi>r</mi><mo>^</mo></mover><mi>j</mi></msub><mo stretchy="false">)</mo><mi mathvariant="normal">≠</mi><msub><mi>c</mi><mi>j</mi></msub><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo rspace="0em" lspace="0em">∙</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mspace width="1em"/><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>F</mi><mo stretchy="false">[</mo><mtext>Stop</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⊚</mo></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>F</mi><mo stretchy="false">[</mo><mtext>SyncComm</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo rspace="0em" lspace="0em">⊗</mo></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>F</mi><mo stretchy="false">[</mo><mtext>Hash</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Leakage</mtext><mo>:</mo><mo>=</mo><mo stretchy="false">{</mo><mtext>Hash</mtext><mo separator="true">,</mo><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">}</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></menclose><mo>⊲</mo><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>EchoBroadcast</mtext><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\boxed{
\begin{matrix}
\colorbox{FBCFE8}{\large
  $\mathscr{P}[\text{Commit}]$
}\cr
\cr
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $P_i$
}\cr
\cr
&amp;x_i, r_i \gets \bot\cr
\cr
&amp;\underline{
  (1)\text{SetCommit}_i(x):
}\cr
  &amp;\enspace
    x_i \gets x, \quad r_i \xleftarrow{\$} \texttt{01}^{2 \lambda}
  \cr
  &amp;\enspace
    \text{SetBroadcast}_i(\text{Hash}(x_i, r_i))
  \cr
\cr
&amp;\underline{
  \text{Commit}_i():
}\cr
  &amp;\enspace
    \text{SendBroadcast}_i(\star)
  \cr
\cr
&amp;\underline{
  \text{WaitCommit}_i():
}\cr
  &amp;\enspace
    \texttt{return } \text{WaitBroadcast}_i()
  \cr
\cr
&amp;\underline{
  \text{Open}_i():
}\cr
  &amp;\enspace
    \texttt{assert } x_i \neq \bot
  \cr
  &amp;\enspace
    \Rsh_i(\star, (x_i, r_i), 2)
  \cr
\cr
&amp;\underline{
  \text{WaitOpen}_i():
}\cr
  &amp;\enspace
    c\_\bullet \gets \text{WaitCommit}_i()
  \cr
  &amp;\enspace
    \text{EndBroadcast}_i()
  \cr
  &amp;\enspace
    (\hat{x}\_{\bullet}, \hat{r}\_{\bullet}) \Lsh_i(\star, 2)
  \cr
  &amp;\enspace
    \texttt{if } \exists j.\ \text{Hash}(\hat{x}_j, \hat{r}_j) \neq c_j:
  \cr
  &amp;\enspace\enspace
    \texttt{stop}(\star, 2)
  \cr
  &amp;\enspace
    \texttt{return } \hat{x}\_{\bullet}
  \cr
\cr
\end{aligned}
}
}
\quad
\begin{matrix}
F[\text{Stop}]\cr
\circledcirc\cr
F[\text{SyncComm}]\cr
\otimes\cr
F[\text{Hash}]\cr
\end{matrix}\cr
\cr
\text{Leakage} := \{\text{Hash}, \texttt{stop}\}
\end{matrix}
}
\lhd \mathscr{P}[\text{EchoBroadcast}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="vertical-align:-21.2494em;height:42.9988em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:21.7494em;"><span style="top:-44.9988em;"><span class="pstrut" style="height:44.9988em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:21.4094em;"><span style="top:-40.8938em;"><span class="pstrut" style="height:20.6844em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2em;"><span style="top:-3.2em;"><span class="pstrut" style="height:3.8em;"></span><span class="stretchy colorbox" style="height:1.8em;background-color:#FBCFE8;"></span></span><span style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord boxpad"><span class="mord mathscr sizing reset-size6 size7" style="margin-right:0.0808em;">P</span><span class="mopen sizing reset-size6 size7">[</span><span class="mord text sizing reset-size6 size7"><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="mclose sizing reset-size6 size7">]</span><span class="mord sizing reset-size6 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6em;"><span></span></span></span></span></span></span></span><span style="top:-39.4538em;"><span class="pstrut" style="height:20.6844em;"></span><span class="mord"></span></span><span style="top:-20.4094em;"><span class="pstrut" style="height:20.6844em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:18.6844em;"><span style="top:-38.9188em;"><span class="pstrut" style="height:38.9188em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:20.3827em;"><span style="top:-22.3827em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-20.7427em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-19.2427em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-17.7427em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-16.2427em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-14.3707em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-12.8707em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-11.3707em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-9.8707em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-8.2807em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-6.7807em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-5.2807em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-3.6907em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-2.1907em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-0.6907em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:0.9104em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:2.4104em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:3.9104em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:5.4104em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:7.0116em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:8.5116em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:10.0116em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:11.5116em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:13.0116em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:14.5116em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:16.0116em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:19.8827em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:20.3827em;"><span style="top:-22.3827em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2111em;"><span style="top:-3.2111em;"><span class="pstrut" style="height:3.7111em;"></span><span class="stretchy colorbox" style="background-color:#FBCFE8;height:1.7111em;"></span></span><span style="top:-3.7111em;"><span class="pstrut" style="height:3.7111em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord mathnormal" style="margin-right:0.1389em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0417em;top:-2.65em;margin-left:-0.1389em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5em;"><span></span></span></span></span></span></span></span><span style="top:-19.2427em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0278em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:-0.0278em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:-16.2427em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-14.3707em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:1em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0278em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:-0.0278em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.122em;"><span style="top:-3.222em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mtight">$</span></span></span></span><span style="top:-2.589em;"><span class="pstrut" style="height:2.6em;"></span><span class="hide-tail" style="min-width:1.469em;height:0.522em;"><svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMinYMin slice" width="400em" height="0.522em" viewBox="0 0 400000 522"><path d="M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.011em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord text"><span class="mord texttt">01</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.876em;"><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight">λ</span></span></span></span></span></span></span></span></span></span></span><span style="top:-12.8707em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0278em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:-0.0278em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">))</span></span></span><span style="top:-9.8707em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-8.2807em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">n</span><span class="mord">d</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mclose">)</span></span></span><span style="top:-5.2807em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-3.6907em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span></span></span><span style="top:-0.6907em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.5789em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="margin-right:0.0556em;top:-2.3389em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4611em;"><span></span></span></span></span></span></span></span><span style="top:0.9104em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">assert </span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:2.4104em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0278em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:-0.0278em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span><span style="top:5.4104em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.5789em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.3389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4611em;"><span></span></span></span></span></span></span></span><span style="top:7.0116em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord mathnormal">c</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span></span></span><span style="top:8.5116em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">E</span><span class="mord">n</span><span class="mord">d</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span></span></span><span style="top:10.0116em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal" style="margin-right:0.0278em;">r</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span><span style="top:11.5116em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord">∃</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord">.</span><span class="mspace"> </span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal" style="margin-right:0.0278em;">r</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:-0.0278em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:13.0116em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span><span style="top:14.5116em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:18.3827em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-20.6844em;"><span class="pstrut" style="height:38.9188em;"></span><span class="stretchy fbox" style="border-style:solid;border-width:0.04em;height:36.9188em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:18.2344em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em;"><span style="top:-5.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">o</span><span class="mord">p</span></span><span class="mclose">]</span></span></span><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord amsrm">⊚</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span></span><span class="mclose">]</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">⊗</span></span></span><span style="top:-0.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-1.335em;"><span class="pstrut" style="height:20.6844em;"></span><span class="mord"></span></span><span style="top:-0.135em;"><span class="pstrut" style="height:20.6844em;"></span><span class="mord"><span class="mord text"><span class="mord">L</span><span class="mord">e</span><span class="mord">a</span><span class="mord">k</span><span class="mord">a</span><span class="mord">g</span><span class="mord">e</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">{</span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mclose">}</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:20.9094em;"><span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-23.7494em;"><span class="pstrut" style="height:44.9988em;"></span><span class="stretchy fbox" style="border-width:0.04em;height:42.9988em;border-style:solid;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:21.2494em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin amsrm">⊲</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="vertical-align:-0.25em;height:1em;"></span><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="mopen">[</span><span class="mord text"><span class="mord">E</span><span class="mord">c</span><span class="mord">h</span><span class="mord">o</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="mclose">]</span></span></span></span></span></span>
<p><span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">□</mi></mrow><annotation encoding="application/x-tex">\square</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.675em;"></span><span class="mord amsrm">□</span></span></span></span></span></p>
<p>The ideal functionality this is supposed
to implement is relatively straightforward.
You set a commit value,
and can wait for others to commit as well.
Finally, you can open, which doesn't allow you to actually
change the value you've committed to, it just makes it now visible to others.
We also have the usual abort points remaining in the protocol.</p>
<p><strong>Definition (Ideal Commitment):</strong></p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="true"><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mpadded width="+6pt" height="+6pt" lspace="3pt" mathbackground="#FBCFE8" voffset="3pt"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>IdealCommit</mtext><mo stretchy="false">]</mo></mstyle><mtext> </mtext></mstyle></mpadded></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable rowspacing="0.25em" columnspacing="0em" columnalign="right left"><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded width="+6pt" lspace="3pt" height="+6pt" voffset="3pt" mathbackground="#FBCFE8"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msub><mi>P</mi><mi>i</mi></msub></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>SetCommit</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>SetCommit</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>Commit</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>Commit</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitCommit</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>WaitCommit</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>Sync</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>Open</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>Open</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitOpen</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>WaitCommit</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>WaitSync</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><msub><mtext>WaitOpen</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mspace width="1em"/><mtable columnalign="center" rowspacing="0.16em" columnspacing="1em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable columnspacing="0em" rowspacing="0.25em" columnalign="right left"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded width="+6pt" voffset="3pt" height="+6pt" lspace="3pt" mathbackground="#FBCFE8"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><mi>F</mi><mo stretchy="false">[</mo><mtext>Commit</mtext><mo stretchy="false">]</mo></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msub><mi>x</mi><mi>i</mi></msub><mo separator="true">,</mo><mtext>com</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo separator="true">,</mo><mtext>open</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>SetCommit</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mi>x</mi><mi>i</mi></msub><mo>←</mo><mi>x</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>Commit</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mtext>com</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><mtext mathvariant="monospace">true</mtext><mtext> </mtext><mo stretchy="false">(</mo><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitCommit</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mtext mathvariant="monospace">wait</mtext><mi mathvariant="normal">_</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mi mathvariant="normal">.</mi><mtext> com</mtext><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>i</mi></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>Open</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">assert</mtext><mtext> </mtext></mrow><msub><mi>x</mi><mi>i</mi></msub><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mtext>open</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><mtext mathvariant="monospace">true</mtext><mo stretchy="false">(</mo><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitOpen</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mtext>wait</mtext><mi mathvariant="normal">_</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo></mrow><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mi mathvariant="normal">.</mi><mtext> open</mtext><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>i</mi></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mi>x</mi><mi mathvariant="normal">_</mi><mo>∙</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mo rspace="0em" lspace="0em">⊗</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>F</mi><mo stretchy="false">[</mo><mtext>Sync</mtext><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mo lspace="0em" rspace="0em">⊚</mo></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>F</mi><mo stretchy="false">[</mo><mtext>Stop</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Leakage</mtext><mo>:</mo><mo>=</mo><mo stretchy="false">{</mo><mtext>Hash</mtext><mo separator="true">,</mo><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">}</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></menclose></mrow><annotation encoding="application/x-tex">\boxed{
\begin{matrix}
\colorbox{FBCFE8}{\large
  $\mathscr{P}[\text{IdealCommit}]$
}\cr
\cr
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $P_i$
}\cr
\cr
&amp;\underline{
  (1)\text{SetCommit}_i(x):
}\cr
  &amp;\enspace
    \text{SetCommit}_i(x)
  \cr
\cr
&amp;\underline{
  \text{Commit}_i():
}\cr
  &amp;\enspace
    \text{Commit}_i(\star)
  \cr
\cr
&amp;\underline{
  \text{WaitCommit}_i():
}\cr
  &amp;\enspace
    \text{WaitCommit}_i(\star)
  \cr
  &amp;\enspace
    \text{Sync}_i(\star)
  \cr
\cr
&amp;\underline{
  \text{Open}_i():
}\cr
  &amp;\enspace
    \text{Open}_i(\star)
  \cr
\cr
&amp;\underline{
  \text{WaitOpen}_i():
}\cr
  &amp;\enspace
    \text{WaitCommit}_i()
  \cr
  &amp;\enspace
    \text{WaitSync}_i(\star)
  \cr
  &amp;\enspace
    \texttt{return } \text{WaitOpen}_i(\star)
  \cr
\end{aligned}
}
}
\quad
\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $F[\text{Commit}]$
}\cr
\cr
&amp;x_i, \text{com}\_{ij}, \text{open}\_{ij} \gets \bot\cr
\cr
&amp;\underline{
  (1)\text{SetCommit}_i(x):
}\cr
  &amp;\enspace
    x_i \gets x
  \cr
\cr
&amp;\underline{
  \text{Commit}_i(S):
}\cr
  &amp;\enspace
    \text{com}\_{ij} \gets \texttt{true}\ (\forall j \in S)
  \cr
\cr
&amp;\underline{
  \text{WaitCommit}_i(S):
}\cr
  &amp;\enspace
    \texttt{wait}\_{(i, 0)} \forall j \in S.\ \text{com}\_{ji}
  \cr
\cr
&amp;\underline{
  \text{Open}_i(S):
}\cr
  &amp;\enspace
    \texttt{assert } x_i \neq \bot
  \cr
  &amp;\enspace
    \text{open}\_{ij} \gets \texttt{true} (\forall j \in S)
  \cr
\cr
&amp;\underline{
  \text{WaitOpen}_i(S):
}\cr
  &amp;\enspace
    \text{wait}\_{(i, 2)} \forall j \in S.\ \text{open}\_{ji}
  \cr
  &amp;\enspace
    \texttt{return } x\_\bullet
  \cr
\end{aligned}
}
}\cr
\otimes\cr
F[\text{Sync}(1)]\cr
\circledcirc\cr
F[\text{Stop}]
\end{matrix}\cr
\cr
\text{Leakage} := \{\text{Hash}, \texttt{stop}\}
\end{matrix}
}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:39.645em;vertical-align:-19.5725em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:20.0725em;"><span style="top:-41.645em;"><span class="pstrut" style="height:41.645em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:19.7325em;"><span style="top:-37.565em;"><span class="pstrut" style="height:19.0325em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2em;"><span style="top:-3.2em;"><span class="pstrut" style="height:3.8em;"></span><span class="stretchy colorbox" style="height:1.8em;background-color:#FBCFE8;"></span></span><span style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord boxpad"><span class="mord mathscr sizing reset-size6 size7" style="margin-right:0.0808em;">P</span><span class="mopen sizing reset-size6 size7">[</span><span class="mord text sizing reset-size6 size7"><span class="mord">I</span><span class="mord">d</span><span class="mord">e</span><span class="mord">a</span><span class="mord">l</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="mclose sizing reset-size6 size7">]</span><span class="mord sizing reset-size6 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6em;"><span></span></span></span></span></span></span></span><span style="top:-36.125em;"><span class="pstrut" style="height:19.0325em;"></span><span class="mord"></span></span><span style="top:-18.7325em;"><span class="pstrut" style="height:19.0325em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:13.8325em;"><span style="top:-29.215em;"><span class="pstrut" style="height:29.215em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:14.9917em;"><span style="top:-16.9917em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-15.3517em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-13.8517em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-12.2617em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-10.7617em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-9.2617em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-7.6717em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-6.1717em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-4.6717em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-3.0817em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-1.5817em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:-0.0817em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:1.4183em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:3.0194em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:4.5194em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:6.0194em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:7.6206em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:9.1206em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span><span style="top:10.6206em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:14.4917em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:14.9917em;"><span style="top:-16.9917em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2111em;"><span style="top:-3.2111em;"><span class="pstrut" style="height:3.7111em;"></span><span class="stretchy colorbox" style="background-color:#FBCFE8;height:1.7111em;"></span></span><span style="top:-3.7111em;"><span class="pstrut" style="height:3.7111em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord mathnormal" style="margin-right:0.1389em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.65em;margin-left:-0.1389em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5em;"><span></span></span></span></span></span></span></span><span style="top:-13.8517em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-12.2617em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span><span style="top:-9.2617em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-7.6717em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mclose">)</span></span></span><span style="top:-4.6717em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-3.0817em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mclose">)</span></span></span><span style="top:-1.5817em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.3389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mclose">)</span></span></span><span style="top:1.4183em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.5789em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="margin-right:0.0556em;top:-2.3389em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4611em;"><span></span></span></span></span></span></span></span><span style="top:3.0194em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="margin-right:0.0556em;top:-2.3389em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mclose">)</span></span></span><span style="top:6.0194em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.5789em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.3389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4611em;"><span></span></span></span></span></span></span></span><span style="top:7.6206em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span></span></span><span style="top:9.1206em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="margin-right:0.0556em;top:-2.3389em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mclose">)</span></span></span><span style="top:10.6206em;"><span class="pstrut" style="height:3.2111em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="margin-right:0.0556em;top:-2.3389em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:14.4917em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-15.8325em;"><span class="pstrut" style="height:29.215em;"></span><span class="stretchy fbox" style="border-width:0.04em;height:27.215em;border-style:solid;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:13.3825em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:17.0325em;"><span style="top:-19.0325em;"><span class="pstrut" style="height:16.6075em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:14.6075em;"><span style="top:-30.765em;"><span class="pstrut" style="height:30.765em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:15.8528em;"><span style="top:-17.8528em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-16.0794em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-14.5794em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-13.0794em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-11.5794em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-9.9894em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-8.4894em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-6.9894em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-5.3994em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-3.8994em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-2.3994em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:-0.8094em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:0.6906em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:2.1906em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:3.7917em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:5.2917em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:6.7917em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:8.2917em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:9.8928em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span><span style="top:11.3928em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:15.3528em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:15.8528em;"><span style="top:-17.8528em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3em;"><span style="top:-3.3em;"><span class="pstrut" style="height:3.9333em;"></span><span class="stretchy colorbox" style="height:1.9333em;background-color:#FBCFE8;"></span></span><span style="top:-3.9333em;"><span class="pstrut" style="height:3.9333em;"></span><span class="mord boxpad"><span class="mord mathnormal sizing reset-size5 size7" style="margin-right:0.1389em;">F</span><span class="mopen sizing reset-size5 size7">[</span><span class="mord text sizing reset-size5 size7"><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="mclose sizing reset-size5 size7">]</span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6333em;"><span></span></span></span></span></span></span></span><span style="top:-14.5794em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord">c</span><span class="mord">o</span><span class="mord">m</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord">o</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:-11.5794em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-9.9894em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">x</span></span></span><span style="top:-6.9894em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-5.3994em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord">c</span><span class="mord">o</span><span class="mord">m</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord texttt">true</span></span><span class="mspace"> </span><span class="mopen">(</span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span></span></span><span style="top:-2.3994em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-0.8094em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">wait</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mord">.</span><span class="mspace"> </span><span class="mord text"><span class="mord">c</span><span class="mord">o</span><span class="mord">m</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">ji</span></span></span></span><span style="top:2.1906em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.5789em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.3389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4611em;"><span></span></span></span></span></span></span></span><span style="top:3.7917em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">assert </span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:5.2917em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord">o</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord texttt">true</span></span><span class="mopen">(</span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span></span></span><span style="top:8.2917em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.5789em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.3389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4611em;"><span></span></span></span></span></span></span></span><span style="top:9.8928em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord">w</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">)</span></span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mord">.</span><span class="mspace"> </span><span class="mord text"><span class="mord">o</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal">ji</span></span></span></span><span style="top:11.3928em;"><span class="pstrut" style="height:3.3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord mathnormal">x</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:15.3528em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-16.6075em;"><span class="pstrut" style="height:30.765em;"></span><span class="stretchy fbox" style="border-width:0.04em;border-style:solid;height:28.765em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:14.1575em;"><span></span></span></span></span></span></span></span><span style="top:-4.035em;"><span class="pstrut" style="height:16.6075em;"></span><span class="mord"><span class="mord">⊗</span></span></span><span style="top:-2.835em;"><span class="pstrut" style="height:16.6075em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)]</span></span></span><span style="top:-1.635em;"><span class="pstrut" style="height:16.6075em;"></span><span class="mord"><span class="mord amsrm">⊚</span></span></span><span style="top:-0.435em;"><span class="pstrut" style="height:16.6075em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">o</span><span class="mord">p</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:16.5325em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-1.36em;"><span class="pstrut" style="height:19.0325em;"></span><span class="mord"></span></span><span style="top:-0.16em;"><span class="pstrut" style="height:19.0325em;"></span><span class="mord"><span class="mord text"><span class="mord">L</span><span class="mord">e</span><span class="mord">a</span><span class="mord">k</span><span class="mord">a</span><span class="mord">g</span><span class="mord">e</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">{</span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mclose">}</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:19.2325em;"><span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-22.0725em;"><span class="pstrut" style="height:41.645em;"></span><span class="stretchy fbox" style="border-style:solid;border-width:0.04em;height:39.645em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:19.5725em;"><span></span></span></span></span></span></span></span></span></span></span>
<p><span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">□</mi></mrow><annotation encoding="application/x-tex">\square</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.675em;"></span><span class="mord amsrm">□</span></span></span></span></span></p>
<p><strong>Lemma:</strong></p>
<p>For some negligible <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding="application/x-tex">\epsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">ϵ</span></span></span></span></span>, and any combination of malicious parties,
we have:</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable columnspacing="1em" rowspacing="0.16em" columnalign="center"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>Commit</mtext><mo><mover><mo><mo>⇝</mo></mo><mi>ϵ</mi></mover></mo><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>IdealCommit</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix}
\mathscr{P}[\text{Commit}
\overset{\epsilon}{\leadsto}
\mathscr{P}[\text{IdealCommit}]
\end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="vertical-align:-0.4196em;height:1.3393em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9196em;"><span style="top:-2.9404em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="mopen">[</span><span class="mord text"><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mop op-limits"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9793em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop amsrm">⇝</span></span></span><span style="top:-3.5779em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">ϵ</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="mopen">[</span><span class="mord text"><span class="mord">I</span><span class="mord">d</span><span class="mord">e</span><span class="mord">a</span><span class="mord">l</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4196em;"><span></span></span></span></span></span></span></span></span></span></span></span></span>
<p><strong>Proof:</strong></p>
<p>First, we have <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>Commit</mtext><mo stretchy="false">]</mo><mo>⇝</mo><msup><mi mathvariant="script">P</mi><mn>0</mn></msup></mrow><annotation encoding="application/x-tex">\mathscr{P}[\text{Commit}] \leadsto \mathscr{P}^0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="mopen">[</span><span class="mord text"><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">⇝</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="margin-right:0.05em;top:-3.063em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span></span></span></span></span>,
where <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="script">P</mi><mn>0</mn></msup></mrow><annotation encoding="application/x-tex">\mathscr{P}^0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span></span></span></span></span> replaces <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>EchoBroadcast</mtext><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\mathscr{P}[\text{EchoBroadcast}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="mopen">[</span><span class="mord text"><span class="mord">E</span><span class="mord">c</span><span class="mord">h</span><span class="mord">o</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="mclose">]</span></span></span></span></span>
with <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>IdealBroadcast</mtext><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\mathscr{P}[\text{IdealBroadcast}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="mopen">[</span><span class="mord text"><span class="mord">I</span><span class="mord">d</span><span class="mord">e</span><span class="mord">a</span><span class="mord">l</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="mclose">]</span></span></span></span></span>,
and we start from there.</p>
<p>We unroll <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>Inst</mtext><mo stretchy="false">(</mo><msup><mi mathvariant="script">P</mi><mn>0</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\text{Inst}(\mathscr{P}^0)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="vertical-align:-0.25em;height:1.0641em;"></span><span class="mord text"><span class="mord">I</span><span class="mord">n</span><span class="mord">s</span><span class="mord">t</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="margin-right:0.05em;top:-3.063em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span> to get:</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle displaystyle="false" scriptlevel="0"><mstyle displaystyle="true" scriptlevel="0"><mstyle mathsize="0.9em"><mtable columnspacing="0em" columnalign="right left" rowspacing="0.25em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded voffset="3pt" width="+6pt" mathbackground="#FBCFE8" height="+6pt" lspace="3pt"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>0</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>SetCommit</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mo>…</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mo>⊗</mo><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="true"><mrow><mpadded voffset="3pt" mathbackground="#FBCFE8" height="+6pt" width="+6pt" lspace="3pt"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><msubsup><mi mathvariant="normal">Γ</mi><mi>M</mi><mn>0</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded><mo>=</mo><mn>1</mn><mrow><mo fence="true">(</mo><mtable rowspacing="0.16em" columnspacing="1em" columnalign="center"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><msub><mtext>SetBroadcast</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><msub><mtext>SendBroadcast</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mtext>GetBroadcast</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><msub><mtext>BadBroadcast</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mtext>Trap</mtext><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mtext>Sync</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><msub><mtext>WaitSync</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mo>↱</mo><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mo>↰</mo><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Hash</mtext><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mtext mathvariant="monospace">stop</mtext></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow></mstyle></mstyle></mstyle></menclose></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mo rspace="0em" lspace="0em">∘</mo></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>F</mi><mo stretchy="false">[</mo><mtext>Broadcast</mtext><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Sync</mtext><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>SyncComm</mtext><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Hash</mtext><mo stretchy="false">]</mo><mo>⊚</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Stop</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^0_H$
}\cr
\cr
&amp;\underline{
  (1)\text{SetCommit}_i(x):
}\cr
&amp;\enspace
  \ldots
\cr
\end{aligned}
}
}
\otimes
\boxed{\colorbox{FBCFE8}{\large
  $\Gamma^0_M$
} = 1
\begin{pmatrix}
    \text{SetBroadcast}_k
  ,\cr
    \text{SendBroadcast}_k
  ,\cr
    \text{GetBroadcast}_k
  ,\cr
    \text{BadBroadcast}_k
  ,\cr
    \text{Trap}
  ,\cr
    \text{Sync}_k
  ,\cr
    \text{WaitSync}_k
  ,\cr
    \Rsh_k
  ,\cr
    \Lsh_k
  ,\cr
    \text{Hash}
  ,\cr
    \texttt{stop}
\end{pmatrix}
}
\cr
  \circ
\cr
F[\text{Broadcast}] \otimes F[\text{Sync}(1)] \otimes F[\text{SyncComm}] \otimes F[\text{Hash}]
\circledcirc F[\text{Stop}]
\end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="vertical-align:-7.89em;height:16.2801em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:8.39em;"><span style="top:-10.39em;"><span class="pstrut" style="height:9.19em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.6626em;"><span style="top:-8.8752em;"><span class="pstrut" style="height:8.8752em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.6918em;"><span style="top:-5.6918em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-3.915em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-2.415em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-0.825em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.1918em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.6918em;"><span style="top:-5.6918em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="height:1.9936em;background-color:#FBCFE8;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-left:0em;top:-2.5474em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="margin-right:0.0417em;top:-3.163em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-2.415em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-0.825em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="minner">…</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.1918em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-5.6626em;"><span class="pstrut" style="height:8.8752em;"></span><span class="stretchy fbox" style="border-style:solid;height:6.8752em;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.2126em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:7.19em;"><span style="top:-15.8801em;"><span class="pstrut" style="height:15.8801em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2512em;"><span style="top:-3.2512em;"><span class="pstrut" style="height:3.8542em;"></span><span class="stretchy colorbox" style="height:1.8542em;background-color:#FBCFE8;"></span></span><span style="top:-3.8542em;"><span class="pstrut" style="height:3.8542em;"></span><span class="mord boxpad"><span class="mord sizing reset-size6 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="top:-2.5474em;margin-left:0em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.109em;">M</span></span></span><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size6 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6031em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:6.8499em;"><span style="top:-8.8499em;"><span class="pstrut" style="height:15.2em;"></span><span style="height:13.200em;width:0.875em;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 875 13200" width="0.875em" height="13.200em"><path d="M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,9684c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-9692c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:6.3501em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:6.85em;"><span style="top:-9.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-7.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">n</span><span class="mord">d</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-6.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">G</span><span class="mord">e</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="margin-right:0.05em;top:-2.55em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-5.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">B</span><span class="mord">a</span><span class="mord">d</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="margin-right:0.05em;top:-2.55em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">T</span><span class="mord">r</span><span class="mord">a</span><span class="mord">p</span></span><span class="mpunct">,</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.242em;"><span style="margin-right:0.05em;top:-2.4559em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.242em;"><span style="margin-right:0.05em;top:-2.4559em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-0.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="margin-left:0em;margin-right:0.05em;top:-2.55em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:0.59em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="margin-right:0.05em;top:-2.55em;margin-left:0em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:1.79em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mpunct">,</span></span></span><span style="top:2.99em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord texttt">stop</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:6.35em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:6.8499em;"><span style="top:-8.8499em;"><span class="pstrut" style="height:15.2em;"></span><span style="height:13.200em;width:0.875em;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 875 13200" height="13.200em" width="0.875em"><path d="M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,9609
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-9744c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:6.3501em;"><span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-9.19em;"><span class="pstrut" style="height:15.8801em;"></span><span class="stretchy fbox" style="height:13.8801em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:6.6901em;"><span></span></span></span></span></span></span></span><span style="top:-2.8599em;"><span class="pstrut" style="height:9.19em;"></span><span class="mord"><span class="mord">∘</span></span></span><span style="top:-1.66em;"><span class="pstrut" style="height:9.19em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin amsrm">⊚</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">o</span><span class="mord">p</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:7.89em;"><span></span></span></span></span></span></span></span></span></span></span></span></span>
<p>Now, a trap value needs to be provided before the commitment
value is known.
However, for honest parties, these commitment values
are in all likelihood freshly sampled, because of the entropy
in <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0278em;">r</span></span></span></span></span>.
This means that trapping honest values is useless,
since except with negligible probability, it has no effect.</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="true"><mtable columnalign="right left" columnspacing="0em" rowspacing="0.25em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded mathbackground="#FBCFE8" height="+6pt" voffset="3pt" lspace="3pt" width="+6pt"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>1</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded><mo>=</mo><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>0</mn></msubsup></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></menclose><mo>⊗</mo><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable columnspacing="0em" columnalign="right left" rowspacing="0.25em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded width="+6pt" lspace="3pt" height="+6pt" voffset="3pt" mathbackground="#FBCFE8"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msubsup><mi mathvariant="normal">Γ</mi><mi>M</mi><mn>1</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>…</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded mathbackground="#bae6fd" height="+6pt" width="+6pt" lspace="3pt" voffset="3pt"><mstyle displaystyle="false" scriptlevel="0"><munder accentunder="true"><mrow><mtext>Trap</mtext><mo stretchy="false">(</mo><mi>j</mi><mo separator="true">,</mo><mi>m</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>com</mtext><mi>i</mi></msub><mo>←</mo><msub><mi>x</mi><mi>i</mi></msub><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo stretchy="false">(</mo><mi mathvariant="normal">∀</mi><mi>i</mi><mo>∈</mo><mi mathvariant="script">M</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>com</mtext><mi>i</mi></msub><mo>←</mo><mrow><mtext mathvariant="monospace">nowait</mtext><mtext> </mtext></mrow><msub><mtext>GetBroadcast</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">{</mo><mi>i</mi><mo stretchy="false">}</mo><mo stretchy="false">)</mo><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo stretchy="false">(</mo><mi mathvariant="normal">∀</mi><mi>i</mi><mo>∈</mo><mi mathvariant="script">H</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">assert</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∀</mi><mi>i</mi><mi mathvariant="normal">.</mi><mtext> </mtext><msub><mi>m</mi><mi>i</mi></msub><mo>=</mo><mi mathvariant="normal">⊥</mi><mo>∨</mo><mo stretchy="false">(</mo><mtext>trap</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>=</mo><mi mathvariant="normal">⊥</mi><mo>∧</mo><mi mathvariant="normal">¬</mi><msub><mtext>com</mtext><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mi mathvariant="normal">∀</mi><mi>i</mi><mo>∈</mo><mi mathvariant="script">H</mi><mi mathvariant="normal">.</mi><mtext> </mtext><msub><mi>m</mi><mi>i</mi></msub><mo>←</mo><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mtext>Trap</mtext><mo stretchy="false">(</mo><mi>j</mi><mo separator="true">,</mo><mi>m</mi><mi mathvariant="normal">_</mi><mo lspace="0em" rspace="0em">∙</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mo lspace="0em" rspace="0em">∘</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>F</mi><mo stretchy="false">[</mo><mtext>Broadcast</mtext><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Sync</mtext><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>SyncComm</mtext><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Hash</mtext><mo stretchy="false">]</mo><mo>⊚</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Stop</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix}
\boxed{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^1_H$
} = \Gamma^0_H
\end{aligned}
}
\otimes
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^1_M$
}\cr
&amp;\ldots\cr
&amp;\colorbox{bae6fd}{$
\underline{
  \text{Trap}(j, m\_\bullet):
}$}\cr
  &amp;\enspace
    \text{com}_i \gets x_i \neq \bot (\forall i \in \mathcal{M})
  \cr
  &amp;\enspace
    \text{com}_i \gets \texttt{nowait } \text{GetBroadcast}_k(\{i\})\neq \bot (\forall i \in \mathcal{H})
  \cr
  &amp;\enspace
    \texttt{assert } \forall i.\ m_i = \bot \lor (\text{trap}\_{i j} = \bot \land \neg \text{com}_i)
  \cr
  &amp;\enspace
    \forall i \in \mathcal{H}.\ m_i \gets \bot
  \cr
  &amp;\enspace
    \text{Trap}(j, m\_{\bullet})
  \cr
\end{aligned}
}
}
\cr
  \circ
\cr
F[\text{Broadcast}] \otimes F[\text{Sync}(1)] \otimes F[\text{SyncComm}] \otimes F[\text{Hash}]
\circledcirc F[\text{Stop}]
\end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="vertical-align:-7.3441em;height:15.1882em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:7.8441em;"><span style="top:-9.8441em;"><span class="pstrut" style="height:8.6191em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6671em;"><span style="top:-4.8342em;"><span class="pstrut" style="height:4.8342em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3271em;"><span style="top:-3.3271em;"><span class="pstrut" style="height:3.2512em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8271em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3271em;"><span style="top:-3.3271em;"><span class="pstrut" style="height:3.2512em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2512em;"><span style="top:-3.2512em;"><span class="pstrut" style="height:3.8542em;"></span><span class="stretchy colorbox" style="background-color:#FBCFE8;height:1.8542em;"></span></span><span style="top:-3.8542em;"><span class="pstrut" style="height:3.8542em;"></span><span class="mord boxpad"><span class="mord sizing reset-size6 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="top:-2.5474em;margin-left:0em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="margin-right:0.0417em;top:-3.163em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size6 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6031em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="margin-right:0.05em;margin-left:0em;top:-2.453em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="margin-right:0.05em;top:-3.113em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8271em;"><span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.6671em;"><span class="pstrut" style="height:4.8342em;"></span><span class="stretchy fbox" style="height:2.8342em;border-width:0.04em;border-style:solid;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.1671em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:6.6191em;"><span style="top:-14.7882em;"><span class="pstrut" style="height:14.7882em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:6.9768em;"><span style="top:-8.9768em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-7.2em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-5.49em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-3.54em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-2.04em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-0.54em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:0.96em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:2.46em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:6.4768em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:6.9768em;"><span style="top:-8.9768em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="height:1.9936em;background-color:#FBCFE8;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-right:0.0417em;top:-2.5474em;margin-left:0em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.109em;">M</span></span></span><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-7.2em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span></span></span><span style="top:-5.49em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.86em;"></span><span class="stretchy colorbox" style="background-color:#bae6fd;height:1.86em;"></span></span><span style="top:-3.86em;"><span class="pstrut" style="height:3.86em;"></span><span class="mord boxpad"><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.53em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">T</span><span class="mord">r</span><span class="mord">a</span><span class="mord">p</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.51em;"><span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.81em;"><span></span></span></span></span></span></span></span><span style="top:-3.54em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">c</span><span class="mord">o</span><span class="mord">m</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:0em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mopen">(</span><span class="mord">∀</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathcal">M</span><span class="mclose">)</span></span></span><span style="top:-2.04em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">c</span><span class="mord">o</span><span class="mord">m</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord texttt">nowait </span></span><span class="mord"><span class="mord text"><span class="mord">G</span><span class="mord">e</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">({</span><span class="mord mathnormal">i</span><span class="mclose">})</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mopen">(</span><span class="mord">∀</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mclose">)</span></span></span><span style="top:-0.54em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">assert </span></span><span class="mord">∀</span><span class="mord mathnormal">i</span><span class="mord">.</span><span class="mspace"> </span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord text"><span class="mord">t</span><span class="mord">r</span><span class="mord">a</span><span class="mord">p</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">¬</span><span class="mord"><span class="mord text"><span class="mord">c</span><span class="mord">o</span><span class="mord">m</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:0.96em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord">∀</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mord">.</span><span class="mspace"> </span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:2.46em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord">T</span><span class="mord">r</span><span class="mord">a</span><span class="mord">p</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:6.4768em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-8.6191em;"><span class="pstrut" style="height:14.7882em;"></span><span class="stretchy fbox" style="height:12.7882em;border-width:0.04em;border-style:solid;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:6.1691em;"><span></span></span></span></span></span></span></span><span style="top:-2.835em;"><span class="pstrut" style="height:8.6191em;"></span><span class="mord"><span class="mord">∘</span></span></span><span style="top:-1.635em;"><span class="pstrut" style="height:8.6191em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin amsrm">⊚</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">o</span><span class="mord">p</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:7.3441em;"><span></span></span></span></span></span></span></span></span></span></span></span></span>
<p>We can now replace <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mo stretchy="false">[</mo><mtext>Broadcast</mtext><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">F[\text{Broadcast}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="vertical-align:-0.25em;height:1em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="mclose">]</span></span></span></span></span> with
a function <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mo stretchy="false">[</mo><msup><mtext>Broadcast</mtext><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">F[\text{Broadcast}&#x27;]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="vertical-align:-0.25em;height:1.0862em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord"><span class="mord text"><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8362em;"><span style="margin-right:0.05em;top:-3.1473em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></span>, in which trapping isn't
possible, because we can simulate the effects ourself.</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable columnspacing="1em" columnalign="center" rowspacing="0.16em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="true" scriptlevel="0"><mtable columnalign="right left" columnspacing="0em" rowspacing="0.25em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded voffset="3pt" width="+6pt" mathbackground="#FBCFE8" height="+6pt" lspace="3pt"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>2</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded><mo>=</mo><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>1</mn></msubsup></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></menclose><mo>⊗</mo><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable columnalign="right left" rowspacing="0.25em" columnspacing="0em"><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded mathbackground="#FBCFE8" lspace="3pt" width="+6pt" height="+6pt" voffset="3pt"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msubsup><mi mathvariant="normal">Γ</mi><mi>M</mi><mn>2</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>…</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded voffset="3pt" mathbackground="#bae6fd" width="+6pt" lspace="3pt" height="+6pt"><mstyle scriptlevel="0" displaystyle="false"><msub><mi>c</mi><mi>k</mi></msub><mo separator="true">,</mo><mtext>trap</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo separator="true">,</mo><msub><mtext>bad</mtext><mi>k</mi></msub><mo>←</mo><mi mathvariant="normal">⊥</mi></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><mtext>Trap</mtext><mo stretchy="false">(</mo><mi>j</mi><mo separator="true">,</mo><mi>m</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>com</mtext><mi>i</mi></msub><mo>←</mo><msub><mi>c</mi><mi>i</mi></msub><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo stretchy="false">(</mo><mi mathvariant="normal">∀</mi><mi>i</mi><mo>∈</mo><mi mathvariant="script">M</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>com</mtext><mi>i</mi></msub><mo>←</mo><mrow><mtext mathvariant="monospace">nowait</mtext><mtext> </mtext></mrow><msub><mtext>GetBroadcast</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">{</mo><mi>i</mi><mo stretchy="false">}</mo><mo stretchy="false">)</mo><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo stretchy="false">(</mo><mi mathvariant="normal">∀</mi><mi>i</mi><mo>∈</mo><mi mathvariant="script">H</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">assert</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∀</mi><mi>i</mi><mi mathvariant="normal">.</mi><mtext> </mtext><msub><mi>m</mi><mi>i</mi></msub><mo>=</mo><mi mathvariant="normal">⊥</mi><mo>∨</mo><mo stretchy="false">(</mo><mtext>trap</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>=</mo><mi mathvariant="normal">⊥</mi><mo>∧</mo><mi mathvariant="normal">¬</mi><msub><mtext>com</mtext><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mi mathvariant="normal">∀</mi><mi>i</mi><mo>∈</mo><mi mathvariant="script">H</mi><mi mathvariant="normal">.</mi><mtext> </mtext><msub><mi>m</mi><mi>i</mi></msub><mo>←</mo><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mpadded mathbackground="#bae6fd" height="+6pt" lspace="3pt" width="+6pt" voffset="3pt"><mstyle displaystyle="false" scriptlevel="0"><mtext>trap</mtext><mi mathvariant="normal">_</mi><mrow><mi>i</mi><mi>j</mi></mrow><mo>←</mo><msub><mi>m</mi><mi>i</mi></msub></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded voffset="3pt" height="+6pt" width="+6pt" mathbackground="#bae6fd" lspace="3pt"><mstyle scriptlevel="0" displaystyle="false"><munder accentunder="true"><mrow><msub><mtext>SetBroadcast</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>c</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mi>c</mi><mi>k</mi></msub><mo>←</mo><mi>c</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∃</mi><mi>j</mi><mi mathvariant="normal">.</mi><mtext> trap</mtext><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>k</mi></mrow><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi><mo>∧</mo><mtext>trap</mtext><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>k</mi></mrow><mi mathvariant="normal">≠</mi><mi>c</mi><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><msub><mtext>bad</mtext><mi>j</mi></msub><mo>←</mo><mtext mathvariant="monospace">true</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mi>j</mi><mo>∈</mo><mi mathvariant="script">H</mi><mo>:</mo><mtext> </mtext><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">(</mo><mo stretchy="false">{</mo><mi>j</mi><mo stretchy="false">}</mo><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded lspace="3pt" voffset="3pt" width="+6pt" height="+6pt" mathbackground="#bae6fd"><mstyle scriptlevel="0" displaystyle="false"><munder accentunder="true"><mrow><msub><mtext>BadBroadcast</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><msub><mtext>bad</mtext><mi>k</mi></msub></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo rspace="0em" lspace="0em">∘</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>F</mi><mo stretchy="false">[</mo><msup><mtext>Broadcast</mtext><mo rspace="0em" mathvariant="normal" lspace="0em">′</mo></msup><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Sync</mtext><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>SyncComm</mtext><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Hash</mtext><mo stretchy="false">]</mo><mo>⊚</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Stop</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix}
\boxed{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^2_H$
} = \Gamma^1_H
\end{aligned}
}
\otimes
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^2_M$
}\cr
&amp;\ldots\cr
&amp;\colorbox{bae6fd}{$
c_k, \text{trap}\_{ij}, \text{bad}_k \gets \bot$}
\cr
\cr
&amp;\underline{
  \text{Trap}(j, m\_\bullet):
}\cr
  &amp;\enspace
    \text{com}_i \gets c_i \neq \bot (\forall i \in \mathcal{M})
  \cr
  &amp;\enspace
    \text{com}_i \gets \texttt{nowait } \text{GetBroadcast}_k(\{i\})\neq \bot (\forall i \in \mathcal{H})
  \cr
  &amp;\enspace
    \texttt{assert } \forall i.\ m_i = \bot \lor (\text{trap}\_{i j} = \bot \land \neg \text{com}_i)
  \cr
  &amp;\enspace
    \forall i \in \mathcal{H}.\ m_i \gets \bot
  \cr
  &amp;\enspace
  \colorbox{bae6fd}{$
    \text{trap}\_{ij} \gets m_i
  $}
  \cr
\cr
&amp;\colorbox{bae6fd}{$
\underline{
  \text{SetBroadcast}_k(c):
}$}\cr
  &amp;\enspace
    c_k \gets c
  \cr
  &amp;\enspace
    \texttt{if } \exists j.\ \text{trap}\_{jk} \neq \bot \land \text{trap}\_{jk} \neq c:
  \cr
  &amp;\enspace\enspace
    \text{bad}_j \gets \texttt{true}
  \cr
  &amp;\enspace\enspace
    \texttt{if } j \in \mathcal{H}:\ \texttt{stop}(\{j\}, 1)
  \cr
\cr
&amp;\colorbox{bae6fd}{$
\underline{
  \text{BadBroadcast}_k():
}$}\cr
  &amp;\enspace
    \texttt{return } \text{bad}_k
  \cr
\end{aligned}
}
}
\cr
  \circ
\cr
F[\text{Broadcast}&#x27;] \otimes F[\text{Sync}(1)] \otimes F[\text{SyncComm}] \otimes F[\text{Hash}]
\circledcirc F[\text{Stop}]
\end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:31.3558em;vertical-align:-15.4279em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:15.9279em;"><span style="top:-17.9279em;"><span class="pstrut" style="height:16.7029em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6671em;"><span style="top:-4.8342em;"><span class="pstrut" style="height:4.8342em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3271em;"><span style="top:-3.3271em;"><span class="pstrut" style="height:3.2512em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8271em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3271em;"><span style="top:-3.3271em;"><span class="pstrut" style="height:3.2512em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2512em;"><span style="top:-3.2512em;"><span class="pstrut" style="height:3.8542em;"></span><span class="stretchy colorbox" style="height:1.8542em;background-color:#FBCFE8;"></span></span><span style="top:-3.8542em;"><span class="pstrut" style="height:3.8542em;"></span><span class="mord boxpad"><span class="mord sizing reset-size6 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-left:0em;margin-right:0.0417em;top:-2.5474em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="margin-right:0.0417em;top:-3.163em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size6 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6031em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="margin-right:0.05em;top:-3.113em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8271em;"><span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.6671em;"><span class="pstrut" style="height:4.8342em;"></span><span class="stretchy fbox" style="border-width:0.04em;height:2.8342em;border-style:solid;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.1671em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:14.7029em;"><span style="top:-30.9558em;"><span class="pstrut" style="height:30.9558em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:15.9588em;"><span style="top:-17.9588em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-16.182em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-14.5276em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-12.7776em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-11.2776em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-9.6276em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-8.1276em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-6.6276em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-5.1276em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-3.5081em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-1.7581em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-0.0481em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:1.8419em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:3.3419em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:4.8419em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:6.3419em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:7.8419em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:9.5519em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:11.4419em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:15.4588em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:15.9588em;"><span style="top:-17.9588em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="height:1.9936em;background-color:#FBCFE8;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="top:-2.5474em;margin-left:0em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.109em;">M</span></span></span><span style="margin-right:0.0417em;top:-3.163em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-16.182em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span></span></span><span style="top:-14.5276em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9944em;"><span style="top:-2.9944em;"><span class="pstrut" style="height:3.6044em;"></span><span class="stretchy colorbox" style="height:1.6044em;background-color:#bae6fd;"></span></span><span style="top:-3.6044em;"><span class="pstrut" style="height:3.6044em;"></span><span class="mord boxpad"><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;margin-left:0em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord">t</span><span class="mord">r</span><span class="mord">a</span><span class="mord">p</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord text"><span class="mord">b</span><span class="mord">a</span><span class="mord">d</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.61em;"><span></span></span></span></span></span></span></span><span style="top:-11.2776em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.53em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">T</span><span class="mord">r</span><span class="mord">a</span><span class="mord">p</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.51em;"><span></span></span></span></span></span></span></span><span style="top:-9.6276em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">c</span><span class="mord">o</span><span class="mord">m</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mopen">(</span><span class="mord">∀</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathcal">M</span><span class="mclose">)</span></span></span><span style="top:-8.1276em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">c</span><span class="mord">o</span><span class="mord">m</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord texttt">nowait </span></span><span class="mord"><span class="mord text"><span class="mord">G</span><span class="mord">e</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">({</span><span class="mord mathnormal">i</span><span class="mclose">})</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mopen">(</span><span class="mord">∀</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mclose">)</span></span></span><span style="top:-6.6276em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">assert </span></span><span class="mord">∀</span><span class="mord mathnormal">i</span><span class="mord">.</span><span class="mspace"> </span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:0em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord text"><span class="mord">t</span><span class="mord">r</span><span class="mord">a</span><span class="mord">p</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">¬</span><span class="mord"><span class="mord text"><span class="mord">c</span><span class="mord">o</span><span class="mord">m</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-5.1276em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord">∀</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mord">.</span><span class="mspace"> </span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:-3.5081em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9595em;"><span style="top:-2.9595em;"><span class="pstrut" style="height:3.5695em;"></span><span class="stretchy colorbox" style="background-color:#bae6fd;height:1.5695em;"></span></span><span style="top:-3.5695em;"><span class="pstrut" style="height:3.5695em;"></span><span class="mord boxpad"><span class="mord text"><span class="mord">t</span><span class="mord">r</span><span class="mord">a</span><span class="mord">p</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">ij</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.61em;"><span></span></span></span></span></span></span></span><span style="top:-0.0481em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.8em;"></span><span class="stretchy colorbox" style="height:1.8em;background-color:#bae6fd;"></span></span><span style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord boxpad"><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">c</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span></span></span></span></span></span></span></span><span style="top:1.8419em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">c</span></span></span><span style="top:3.3419em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord">∃</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord">.</span><span class="mspace"> </span><span class="mord text"><span class="mord">t</span><span class="mord">r</span><span class="mord">a</span><span class="mord">p</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0315em;">jk</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">t</span><span class="mord">r</span><span class="mord">a</span><span class="mord">p</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0315em;">jk</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:4.8419em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">b</span><span class="mord">a</span><span class="mord">d</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord texttt">true</span></span></span></span><span style="top:6.3419em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace"> </span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mopen">({</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">}</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span><span style="top:9.5519em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.8em;"></span><span class="stretchy colorbox" style="background-color:#bae6fd;height:1.8em;"></span></span><span style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord boxpad"><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">B</span><span class="mord">a</span><span class="mord">d</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span></span></span></span></span></span></span></span><span style="top:11.4419em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord"><span class="mord text"><span class="mord">b</span><span class="mord">a</span><span class="mord">d</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:15.4588em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-16.7029em;"><span class="pstrut" style="height:30.9558em;"></span><span class="stretchy fbox" style="border-style:solid;border-width:0.04em;height:28.9558em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:14.2529em;"><span></span></span></span></span></span></span></span><span style="top:-2.835em;"><span class="pstrut" style="height:16.7029em;"></span><span class="mord"><span class="mord">∘</span></span></span><span style="top:-1.635em;"><span class="pstrut" style="height:16.7029em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord"><span class="mord text"><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8362em;"><span style="top:-3.1473em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin amsrm">⊚</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">o</span><span class="mord">p</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:15.4279em;"><span></span></span></span></span></span></span></span></span></span></span></span></span>
<p>From this we see that we're in fact simulating a protocol <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="script">P</mi><mn>1</mn></msup></mrow><annotation encoding="application/x-tex">\mathscr{P}^1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="margin-right:0.05em;top:-3.063em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span>,
which is like <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>IdealBroadcast</mtext><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\mathscr{P}[\text{IdealBroadcast}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="vertical-align:-0.25em;height:1em;"></span><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="mopen">[</span><span class="mord text"><span class="mord">I</span><span class="mord">d</span><span class="mord">e</span><span class="mord">a</span><span class="mord">l</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="mclose">]</span></span></span></span></span>,
except that trapping is not possible.
Let's unroll that protocol, to get:</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable columnalign="center" columnspacing="1em" rowspacing="0.16em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded width="+6pt" height="+6pt" lspace="3pt" mathbackground="#FBCFE8" voffset="3pt"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>3</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>SetCommit</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mo>…</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mo>⊗</mo><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="true"><mrow><mpadded width="+6pt" height="+6pt" mathbackground="#FBCFE8" lspace="3pt" voffset="3pt"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msubsup><mi mathvariant="normal">Γ</mi><mi>M</mi><mn>3</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded><mo>=</mo><mn>1</mn><mrow><mo fence="true">(</mo><mtable rowspacing="0.16em" columnspacing="1em" columnalign="center"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><msub><mtext>SetBroadcast</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><msub><mtext>SendBroadcast</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mtext>GetBroadcast</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo separator="true" rspace="0em" lspace="0em">,</mo></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><msub><mtext>Sync</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mtext>WaitSync</mtext><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><msub><mo>↱</mo><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mo>↰</mo><mi>k</mi></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Hash</mtext><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mtext mathvariant="monospace">stop</mtext></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow></mstyle></mstyle></mstyle></menclose></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mo rspace="0em" lspace="0em">∘</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>F</mi><mo stretchy="false">[</mo><msup><mtext>Broadcast</mtext><mo lspace="0em" mathvariant="normal" rspace="0em">′</mo></msup><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Sync</mtext><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>SyncComm</mtext><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Hash</mtext><mo stretchy="false">]</mo><mo>⊚</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Stop</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^3_H$
}\cr
\cr
&amp;\underline{
  (1)\text{SetCommit}_i(x):
}\cr
&amp;\enspace
  \ldots
\cr
\end{aligned}
}
}
\otimes
\boxed{\colorbox{FBCFE8}{\large
  $\Gamma^3_M$
} = 1
\begin{pmatrix}
    \text{SetBroadcast}_k
  ,\cr
    \text{SendBroadcast}_k
  ,\cr
    \text{GetBroadcast}_k
  ,\cr
  ,\cr
    \text{Sync}_k
  ,\cr
    \text{WaitSync}_k
  ,\cr
    \Rsh_k
  ,\cr
    \Lsh_k
  ,\cr
    \text{Hash}
  ,\cr
    \texttt{stop}
\end{pmatrix}
}
\cr
  \circ
\cr
F[\text{Broadcast}&#x27;] \otimes F[\text{Sync}(1)] \otimes F[\text{SyncComm}] \otimes F[\text{Hash}]
\circledcirc F[\text{Stop}]
\end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:15.0801em;vertical-align:-7.29em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:7.79em;"><span style="top:-9.79em;"><span class="pstrut" style="height:8.59em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.6626em;"><span style="top:-8.8752em;"><span class="pstrut" style="height:8.8752em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.6918em;"><span style="top:-5.6918em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-3.915em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-2.415em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-0.825em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.1918em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.6918em;"><span style="top:-5.6918em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="height:1.9936em;background-color:#FBCFE8;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-right:0.0417em;top:-2.5474em;margin-left:0em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-2.415em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-0.825em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="minner">…</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.1918em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-5.6626em;"><span class="pstrut" style="height:8.8752em;"></span><span class="stretchy fbox" style="height:6.8752em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.2126em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:6.59em;"><span style="top:-14.6801em;"><span class="pstrut" style="height:14.6801em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2512em;"><span style="top:-3.2512em;"><span class="pstrut" style="height:3.8542em;"></span><span class="stretchy colorbox" style="height:1.8542em;background-color:#FBCFE8;"></span></span><span style="top:-3.8542em;"><span class="pstrut" style="height:3.8542em;"></span><span class="mord boxpad"><span class="mord sizing reset-size6 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-right:0.0417em;top:-2.5474em;margin-left:0em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.109em;">M</span></span></span><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size6 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6031em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:6.2499em;"><span style="top:-8.2499em;"><span class="pstrut" style="height:14em;"></span><span style="width:0.875em;height:12.000em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.875em" height="12.000em" viewBox="0 0 875 12000"><path d="M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,8484c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-8492c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:5.7501em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:6.25em;"><span style="top:-8.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-7.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">n</span><span class="mord">d</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-6.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">G</span><span class="mord">e</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="margin-right:0.05em;top:-2.55em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mpunct">,</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.242em;"><span style="margin-right:0.05em;top:-2.4559em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.242em;"><span style="margin-right:0.05em;top:-2.4559em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="margin-right:0.05em;margin-left:0em;top:-2.55em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-0.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="margin-right:0.05em;margin-left:0em;top:-2.55em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:1.19em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mpunct">,</span></span></span><span style="top:2.39em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord texttt">stop</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:5.75em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:6.2499em;"><span style="top:-8.2499em;"><span class="pstrut" style="height:14em;"></span><span style="width:0.875em;height:12.000em;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 875 12000" width="0.875em" height="12.000em"><path d="M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,8409
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-8544c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:5.7501em;"><span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-8.59em;"><span class="pstrut" style="height:14.6801em;"></span><span class="stretchy fbox" style="border-width:0.04em;height:12.6801em;border-style:solid;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:6.0901em;"><span></span></span></span></span></span></span></span><span style="top:-2.86em;"><span class="pstrut" style="height:8.59em;"></span><span class="mord"><span class="mord">∘</span></span></span><span style="top:-1.66em;"><span class="pstrut" style="height:8.59em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord"><span class="mord text"><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8362em;"><span style="margin-right:0.05em;top:-3.1473em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin amsrm">⊚</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">o</span><span class="mord">p</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:7.29em;"><span></span></span></span></span></span></span></span></span></span></span></span></span>
<p>At the end of <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mtext>WaitOpen</mtext><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\text{WaitOpen}_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="vertical-align:-0.2441em;height:0.9275em;"></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2175em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span></span></span></span></span>, we check that the opened
values match the commitments.
Because honest parties will always open the right values,
we can instead limit the check to malicious parties.</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable columnspacing="1em" rowspacing="0.16em" columnalign="center"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable columnalign="right left" rowspacing="0.25em" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded width="+6pt" lspace="3pt" mathbackground="#FBCFE8" voffset="3pt" height="+6pt"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>4</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitOpen</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mi>c</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo>←</mo><msub><mtext>WaitCommit</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>EndBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mo stretchy="false">(</mo><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo rspace="0em" lspace="0em">∙</mo><mo separator="true">,</mo><mover accent="true"><mi>r</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo lspace="0em" rspace="0em">∙</mo><mo stretchy="false">)</mo><msub><mo>↰</mo><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mpadded mathbackground="#bae6fd" lspace="3pt" height="+6pt" width="+6pt" voffset="3pt"><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∃</mi><mi>j</mi><mo>∈</mo><mi mathvariant="script">M</mi><mi mathvariant="normal">.</mi><mtext> Hash</mtext><mo stretchy="false">(</mo><msub><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi>j</mi></msub><mo separator="true">,</mo><msub><mover accent="true"><mi>r</mi><mo>^</mo></mover><mi>j</mi></msub><mo stretchy="false">)</mo><mi mathvariant="normal">≠</mi><msub><mi>c</mi><mi>j</mi></msub><mo>:</mo></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo lspace="0em" rspace="0em">∙</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mo>⊗</mo><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle displaystyle="false" scriptlevel="0"><mstyle displaystyle="true" scriptlevel="0"><mrow><mpadded width="+6pt" voffset="3pt" height="+6pt" lspace="3pt" mathbackground="#FBCFE8"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msubsup><mi mathvariant="normal">Γ</mi><mi>M</mi><mn>4</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded><mo>=</mo><msubsup><mi mathvariant="normal">Γ</mi><mi>M</mi><mn>3</mn></msubsup></mrow></mstyle></mstyle></mstyle></menclose></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mo rspace="0em" lspace="0em">∘</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>F</mi><mo stretchy="false">[</mo><msup><mtext>Broadcast</mtext><mo lspace="0em" mathvariant="normal" rspace="0em">′</mo></msup><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Sync</mtext><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>SyncComm</mtext><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Hash</mtext><mo stretchy="false">]</mo><mo>⊚</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Stop</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^4_H$
}\cr
\cr
&amp;\underline{
  \text{WaitOpen}_i(x):
}\cr
  &amp;\enspace
    c\_\bullet \gets \text{WaitCommit}_i()
  \cr
  &amp;\enspace
    \text{EndBroadcast}_i()
  \cr
  &amp;\enspace
    (\hat{x}\_{\bullet}, \hat{r}\_{\bullet}) \Lsh_i(\star, 2)
  \cr
  &amp;\enspace
  \colorbox{bae6fd}{$
    \texttt{if } \exists j \in \mathcal{M}.\ \text{Hash}(\hat{x}_j, \hat{r}_j) \neq c_j:
  $}
  \cr
  &amp;\enspace\enspace
    \texttt{stop}(\star, 2)
  \cr
  &amp;\enspace
    \texttt{return } \hat{x}\_{\bullet}
  \cr
\end{aligned}
}
}
\otimes
\boxed{\colorbox{FBCFE8}{\large
  $\Gamma^4_M$
} = \Gamma^3_M
}
\cr
  \circ
\cr
F[\text{Broadcast}&#x27;] \otimes F[\text{Sync}(1)] \otimes F[\text{SyncComm}] \otimes F[\text{Hash}]
\circledcirc F[\text{Stop}]
\end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="vertical-align:-7.9609em;height:16.4219em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:8.4609em;"><span style="top:-10.4609em;"><span class="pstrut" style="height:9.2359em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:7.2359em;"><span style="top:-16.0219em;"><span class="pstrut" style="height:16.0219em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:7.6622em;"><span style="top:-9.6622em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-7.8854em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-6.3854em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-4.7843em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-3.2843em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-1.7843em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-0.0743em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:1.6453em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:3.1453em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:7.1622em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:7.6622em;"><span style="top:-9.6622em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="height:1.9936em;background-color:#FBCFE8;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-right:0.0417em;margin-left:0em;top:-2.5474em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-6.3854em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.5789em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="margin-right:0.0556em;top:-2.3389em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4611em;"><span></span></span></span></span></span></span></span><span style="top:-4.7843em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord mathnormal">c</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span></span></span><span style="top:-3.2843em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">E</span><span class="mord">n</span><span class="mord">d</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span></span></span><span style="top:-1.7843em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal" style="margin-right:0.0278em;">r</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span><span style="top:-0.0743em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.6296em;"></span><span class="stretchy colorbox" style="height:1.6296em;background-color:#bae6fd;"></span></span><span style="top:-3.6296em;"><span class="pstrut" style="height:3.6296em;"></span><span class="mord boxpad"><span class="mord text"><span class="mord texttt">if </span></span><span class="mord">∃</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathcal">M</span><span class="mord">.</span><span class="mspace"> </span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal" style="margin-right:0.0278em;">r</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:-0.0278em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:0em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5796em;"><span></span></span></span></span></span></span></span><span style="top:1.6453em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span><span style="top:3.1453em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:7.1622em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-9.2359em;"><span class="pstrut" style="height:16.0219em;"></span><span class="stretchy fbox" style="border-width:0.04em;border-style:solid;height:14.0219em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:6.7859em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5912em;"><span style="top:-4.5342em;"><span class="pstrut" style="height:4.5342em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2512em;"><span style="top:-3.2512em;"><span class="pstrut" style="height:3.8542em;"></span><span class="stretchy colorbox" style="background-color:#FBCFE8;height:1.8542em;"></span></span><span style="top:-3.8542em;"><span class="pstrut" style="height:3.8542em;"></span><span class="mord boxpad"><span class="mord sizing reset-size6 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-right:0.0417em;margin-left:0em;top:-2.5474em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.109em;">M</span></span></span><span style="margin-right:0.0417em;top:-3.163em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size6 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6031em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.109em;">M</span></span></span><span style="margin-right:0.05em;top:-3.113em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.5912em;"><span class="pstrut" style="height:4.5342em;"></span><span class="stretchy fbox" style="height:2.5342em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9431em;"><span></span></span></span></span></span></span></span><span style="top:-2.835em;"><span class="pstrut" style="height:9.2359em;"></span><span class="mord"><span class="mord">∘</span></span></span><span style="top:-1.635em;"><span class="pstrut" style="height:9.2359em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord"><span class="mord text"><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8362em;"><span style="margin-right:0.05em;top:-3.1473em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin amsrm">⊚</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">o</span><span class="mord">p</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:7.9609em;"><span></span></span></span></span></span></span></span></span></span></span></span></span>
<p>Now, because of the entropy of the <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0278em;">r</span></span></span></span></span> values, in all likelihood
the random oracle will not have been queried
at that value before, and so we can instead assume that the value
is random, and then backfill it later.
Thus, we have honest parties broadcast completely random commitments,
and then program the random oracle after they open the commitment.</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable columnspacing="1em" columnalign="center" rowspacing="0.16em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable columnspacing="0em" columnalign="right left" rowspacing="0.25em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded lspace="3pt" voffset="3pt" mathbackground="#FBCFE8" height="+6pt" width="+6pt"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>5</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded lspace="3pt" width="+6pt" mathbackground="#bae6fd" height="+6pt" voffset="3pt"><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>c</mi><mi>i</mi></msub><mo>←</mo><mi mathvariant="normal">⊥</mi></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mo>…</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded width="+6pt" voffset="3pt" height="+6pt" mathbackground="#bae6fd" lspace="3pt"><mstyle scriptlevel="0" displaystyle="false"><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>SetCommit</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mi>x</mi><mi>i</mi></msub><mo>←</mo><mi>x</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mi>c</mi><mi>i</mi></msub><mover><mo minsize="1.75em" stretchy="true">←</mo><mpadded lspace="0.3em" width="+0.6em"><mi mathvariant="normal">$</mi></mpadded></mover><msup><mtext mathvariant="monospace">01</mtext><mrow><mn>2</mn><mi>λ</mi></mrow></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>SetBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><msub><mi>c</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>Open</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">assert</mtext><mtext> </mtext></mrow><msub><mi>x</mi><mi>i</mi></msub><mi mathvariant="normal">≠</mi><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mpadded lspace="3pt" height="+6pt" width="+6pt" voffset="3pt" mathbackground="#bae6fd"><mstyle scriptlevel="0" displaystyle="false"><msub><mi>r</mi><mi>i</mi></msub><mover><mo stretchy="true" minsize="1.75em">←</mo><mpadded width="+0.6em" lspace="0.3em"><mi mathvariant="normal">$</mi></mpadded></mover><msup><mtext mathvariant="monospace">01</mtext><mrow><mn>2</mn><mi>λ</mi></mrow></msup></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mo>↱</mo><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>r</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitOpen</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mi>c</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo>←</mo><msub><mtext>WaitCommit</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>EndBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mo stretchy="false">(</mo><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo rspace="0em" lspace="0em">∙</mo><mo separator="true">,</mo><mover accent="true"><mi>r</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo lspace="0em" rspace="0em">∙</mo><mo stretchy="false">)</mo><msub><mo>↰</mo><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∃</mi><mi>j</mi><mo>∈</mo><mi mathvariant="script">M</mi><mi mathvariant="normal">.</mi><mtext> Hash</mtext><mo stretchy="false">(</mo><msub><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi>j</mi></msub><mo separator="true">,</mo><msub><mover accent="true"><mi>r</mi><mo>^</mo></mover><mi>j</mi></msub><mo stretchy="false">)</mo><mi mathvariant="normal">≠</mi><msub><mi>c</mi><mi>j</mi></msub><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo rspace="0em" lspace="0em">∙</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mo>⊗</mo><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable columnspacing="0em" columnalign="right left" rowspacing="0.25em"><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded width="+6pt" mathbackground="#FBCFE8" voffset="3pt" height="+6pt" lspace="3pt"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>5</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mo>…</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded mathbackground="#bae6fd" height="+6pt" width="+6pt" lspace="3pt" voffset="3pt"><mstyle scriptlevel="0" displaystyle="false"><munder accentunder="true"><mrow><mtext>Hash</mtext><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>r</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∃</mi><mi>k</mi><mo>∈</mo><mi mathvariant="script">M</mi><mo separator="true">,</mo><mi>j</mi><mo>∈</mo><mi mathvariant="script">H</mi><mi mathvariant="normal">.</mi><mtext> </mtext><mtext mathvariant="monospace">nowait</mtext><msub><mo>↰</mo><mi>k</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">{</mo><mi>j</mi><mo stretchy="false">}</mo><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>r</mi><mo stretchy="false">)</mo><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∃</mi><mi>k</mi><mo>∈</mo><mi mathvariant="script">M</mi><mo separator="true">,</mo><mi>j</mi><mo>∈</mo><mi mathvariant="script">H</mi><mi mathvariant="normal">.</mi><mtext> </mtext><mrow><mtext mathvariant="monospace">nowait</mtext><mtext> </mtext></mrow><mtext>GetBroadcast</mtext><mo stretchy="false">(</mo><mo stretchy="false">{</mo><mi>j</mi><mo stretchy="false">}</mo><mo stretchy="false">)</mo><mo>→</mo><msub><mi>c</mi><mi>j</mi></msub><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><msub><mi>c</mi><mi>j</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mtext>Hash</mtext><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>r</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">∘</mo></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>F</mi><mo stretchy="false">[</mo><msup><mtext>Broadcast</mtext><mo lspace="0em" rspace="0em" mathvariant="normal">′</mo></msup><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Sync</mtext><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>SyncComm</mtext><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Hash</mtext><mo stretchy="false">]</mo><mo>⊚</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Stop</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^5_H$
}\cr
\cr
&amp;\colorbox{bae6fd}{$
x_i, c_i \gets \bot
$}\cr
&amp;\ldots\cr
\cr
&amp;\colorbox{bae6fd}{$
\underline{
  (1)\text{SetCommit}_i(x):
}$}\cr
  &amp;\enspace
    x_i \gets x
  \cr
  &amp;\enspace
    c_i \xleftarrow{\$} \texttt{01}^{2 \lambda}
  \cr
  &amp;\enspace
    \text{SetBroadcast}_i(c_i)
  \cr
\cr
&amp;\underline{
  \text{Open}_i():
}\cr
  &amp;\enspace
    \texttt{assert } x_i \neq \bot
  \cr
  &amp;\enspace
  \colorbox{bae6fd}{$
    r_i \xleftarrow{\$} \texttt{01}^{2\lambda}
  $}
  \cr
  &amp;\enspace
    \Rsh_i(\star, (x_i, r_i), 2)
  \cr
\cr
&amp;\underline{
  \text{WaitOpen}_i(x):
}\cr
  &amp;\enspace
    c\_\bullet \gets \text{WaitCommit}_i()
  \cr
  &amp;\enspace
    \text{EndBroadcast}_i()
  \cr
  &amp;\enspace
    (\hat{x}\_{\bullet}, \hat{r}\_{\bullet}) \Lsh_i(\star, 2)
  \cr
  &amp;\enspace
    \texttt{if } \exists j \in \mathcal{M}.\ \text{Hash}(\hat{x}_j, \hat{r}_j) \neq c_j:
  \cr
  &amp;\enspace\enspace
    \texttt{stop}(\star, 2)
  \cr
  &amp;\enspace
    \texttt{return } \hat{x}\_{\bullet}
  \cr
\end{aligned}
}
}
\otimes
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^5_H$
}\cr
&amp;\ldots\cr
\cr
&amp;\colorbox{bae6fd}{$
\underline{
  \text{Hash}(x, r):
}$}\cr
  &amp;\enspace
    \texttt{if } \exists k \in \mathcal{M}, j \in \mathcal{H}.\ \texttt{nowait}\Lsh_k(\{j\}, 2) = (x, r):
  \cr
  &amp;\enspace\enspace
    \texttt{if } \exists k \in \mathcal{M}, j \in \mathcal{H}.\ \texttt{nowait } \text{GetBroadcast}(\{j\}) \to c_j:
  \cr
  &amp;\enspace\enspace\enspace
    \texttt{return } c_j
  \cr
  &amp;\enspace
    \texttt{return } \text{Hash}(x, r)
  \cr
\end{aligned}
}
}
\cr
  \circ
\cr
F[\text{Broadcast}&#x27;] \otimes F[\text{Sync}(1)] \otimes F[\text{SyncComm}] \otimes F[\text{Hash}]
\circledcirc F[\text{Stop}]
\end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:35.3348em;vertical-align:-17.4174em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:17.9174em;"><span style="top:-19.9174em;"><span class="pstrut" style="height:18.6924em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:16.6924em;"><span style="top:-34.9348em;"><span class="pstrut" style="height:34.9348em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:18.1693em;"><span style="top:-20.2345em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:-18.4578em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:-16.8033em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:-15.1689em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:-13.6689em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:-11.9589em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:-10.0689em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:-8.2869em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:-6.7869em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:-5.2869em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:-3.7869em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:-2.1858em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:-0.1038em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:1.4862em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:2.9862em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:4.4862em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:6.0873em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:7.5873em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:9.0873em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:10.5873em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:12.0873em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span><span style="top:13.5873em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:17.6693em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:18.1693em;"><span style="top:-20.2345em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="height:1.9936em;background-color:#FBCFE8;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-right:0.0417em;top:-2.5474em;margin-left:0em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="margin-right:0.0417em;top:-3.163em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-16.8033em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9944em;"><span style="top:-2.9944em;"><span class="pstrut" style="height:3.4889em;"></span><span class="stretchy colorbox" style="height:1.4889em;background-color:#bae6fd;"></span></span><span style="top:-3.4889em;"><span class="pstrut" style="height:3.4889em;"></span><span class="mord boxpad"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4944em;"><span></span></span></span></span></span></span></span><span style="top:-15.1689em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span></span></span><span style="top:-11.9589em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.8em;"></span><span class="stretchy colorbox" style="height:1.8em;background-color:#bae6fd;"></span></span><span style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord boxpad"><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span></span></span></span></span></span></span></span><span style="top:-10.0689em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">x</span></span></span><span style="top:-8.2869em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.122em;"><span style="top:-3.222em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mtight">$</span></span></span></span><span style="top:-2.589em;"><span class="pstrut" style="height:2.6em;"></span><span class="hide-tail" style="height:0.522em;min-width:1.469em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" preserveAspectRatio="xMinYMin slice" height="0.522em" viewBox="0 0 400000 522"><path d="M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.011em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord text"><span class="mord texttt">01</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.876em;"><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight">λ</span></span></span></span></span></span></span></span></span></span></span><span style="top:-6.7869em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-3.7869em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.5789em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.3389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4611em;"><span></span></span></span></span></span></span></span><span style="top:-2.1858em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">assert </span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:-0.1038em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.422em;"><span style="top:-3.422em;"><span class="pstrut" style="height:3.872em;"></span><span class="stretchy colorbox" style="background-color:#bae6fd;height:1.872em;"></span></span><span style="top:-3.872em;"><span class="pstrut" style="height:3.872em;"></span><span class="mord boxpad"><span class="mord"><span class="mord mathnormal" style="margin-right:0.0278em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:-0.0278em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.122em;"><span style="top:-3.222em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mtight">$</span></span></span></span><span style="top:-2.589em;"><span class="pstrut" style="height:2.6em;"></span><span class="hide-tail" style="min-width:1.469em;height:0.522em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" preserveAspectRatio="xMinYMin slice" viewBox="0 0 400000 522" height="0.522em"><path d="M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.011em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord text"><span class="mord texttt">01</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.826em;"><span style="top:-2.963em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight">λ</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:1.4862em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0278em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:-0.0278em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span><span style="top:4.4862em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.5789em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.3389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4611em;"><span></span></span></span></span></span></span></span><span style="top:6.0873em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord mathnormal">c</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span></span></span><span style="top:7.5873em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">E</span><span class="mord">n</span><span class="mord">d</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span></span></span><span style="top:9.0873em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal" style="margin-right:0.0278em;">r</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span><span style="top:10.5873em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord">∃</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathcal">M</span><span class="mord">.</span><span class="mspace"> </span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal" style="margin-right:0.0278em;">r</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:-0.0278em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:12.0873em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span><span style="top:13.5873em;"><span class="pstrut" style="height:3.422em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:17.6693em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-18.6924em;"><span class="pstrut" style="height:34.9348em;"></span><span class="stretchy fbox" style="border-style:solid;border-width:0.04em;height:32.9348em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:16.2424em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:6.5921em;"><span style="top:-14.7342em;"><span class="pstrut" style="height:14.7342em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:6.9468em;"><span style="top:-8.9468em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-7.17em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-5.67em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-3.96em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-2.07em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-0.57em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:0.93em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:2.43em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:6.4468em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:6.9468em;"><span style="top:-8.9468em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="background-color:#FBCFE8;height:1.9936em;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-left:0em;top:-2.5474em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-7.17em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span></span></span><span style="top:-3.96em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.8em;"></span><span class="stretchy colorbox" style="height:1.8em;background-color:#bae6fd;"></span></span><span style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord boxpad"><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0278em;">r</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span></span></span></span></span></span></span></span><span style="top:-2.07em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord">∃</span><span class="mord mathnormal" style="margin-right:0.0315em;">k</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathcal">M</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mord">.</span><span class="mspace"> </span><span class="mord text"><span class="mord texttt">nowait</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">({</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">}</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0278em;">r</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:-0.57em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord">∃</span><span class="mord mathnormal" style="margin-right:0.0315em;">k</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathcal">M</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mord">.</span><span class="mspace"> </span><span class="mord text"><span class="mord texttt">nowait </span></span><span class="mord text"><span class="mord">G</span><span class="mord">e</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="mopen">({</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">})</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:0em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:0.93em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span></span></span><span style="top:2.43em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0278em;">r</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:6.4468em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-8.5921em;"><span class="pstrut" style="height:14.7342em;"></span><span class="stretchy fbox" style="border-width:0.04em;border-style:solid;height:12.7342em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:6.1421em;"><span></span></span></span></span></span></span></span><span style="top:-2.835em;"><span class="pstrut" style="height:18.6924em;"></span><span class="mord"><span class="mord">∘</span></span></span><span style="top:-1.635em;"><span class="pstrut" style="height:18.6924em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord"><span class="mord text"><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8362em;"><span style="margin-right:0.05em;top:-3.1473em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin amsrm">⊚</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">o</span><span class="mord">p</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:17.4174em;"><span></span></span></span></span></span></span></span></span></span></span></span></span>
<p>Next, except with negligible probability we can extract preimages
of commitments, since a commitment that hasn't come from the hash
function will fail with probability <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≤</mo><msup><mn>2</mn><mrow><mo>−</mo><mn>2</mn><mi>λ</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\leq 2^{-2\lambda}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8491em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="margin-right:0.05em;top:-3.063em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">2</span><span class="mord mathnormal mtight">λ</span></span></span></span></span></span></span></span></span></span></span></span></span>.</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable columnspacing="1em" columnalign="center" rowspacing="0.16em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="false" scriptlevel="0"><mstyle displaystyle="true" scriptlevel="0"><mstyle mathsize="0.9em"><mtable columnalign="right left" rowspacing="0.25em" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded height="+6pt" width="+6pt" lspace="3pt" voffset="3pt" mathbackground="#FBCFE8"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>6</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded><mo>=</mo><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>5</mn></msubsup></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mo>⊗</mo><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable columnalign="right left" columnspacing="0em" rowspacing="0.25em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded height="+6pt" voffset="3pt" lspace="3pt" width="+6pt" mathbackground="#FBCFE8"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>6</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mi>μ</mi><mo stretchy="false">[</mo><mo>∙</mo><mo stretchy="false">]</mo><mo separator="true">,</mo><msub><mi>x</mi><mi>k</mi></msub><mo separator="true">,</mo><msub><mi>r</mi><mi>k</mi></msub><mo>←</mo><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>…</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded mathbackground="#bae6fd" voffset="3pt" width="+6pt" lspace="3pt" height="+6pt"><mstyle scriptlevel="0" displaystyle="false"><munder accentunder="true"><mrow><msub><mtext>SetBroadcast</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>h</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">assert</mtext><mtext> </mtext></mrow><mi>h</mi><mo>∈</mo><mi>μ</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mo stretchy="false">(</mo><msub><mi>x</mi><mi>k</mi></msub><mo separator="true">,</mo><msub><mi>r</mi><mi>k</mi></msub><mo stretchy="false">)</mo><mo>←</mo><mi>μ</mi><mo stretchy="false">[</mo><mi>h</mi><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>SetBroadcast</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>h</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded voffset="3pt" width="+6pt" mathbackground="#bae6fd" height="+6pt" lspace="3pt"><mstyle displaystyle="false" scriptlevel="0"><munder accentunder="true"><mrow><mtext>Hash</mtext><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>r</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mi>h</mi><mo>←</mo><msup><mtext>Hash</mtext><mo rspace="0em" mathvariant="normal" lspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>r</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mi>μ</mi><mo stretchy="false">[</mo><mi>h</mi><mo stretchy="false">]</mo><mo>←</mo><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>r</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mi>h</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msup><mtext>Hash</mtext><mo lspace="0em" mathvariant="normal" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>r</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mo>…</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mo rspace="0em" lspace="0em">∘</mo></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>F</mi><mo stretchy="false">[</mo><msup><mtext>Broadcast</mtext><mo mathvariant="normal" rspace="0em" lspace="0em">′</mo></msup><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Sync</mtext><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>SyncComm</mtext><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Hash</mtext><mo stretchy="false">]</mo><mo>⊚</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Stop</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^6_H$
} = \Gamma^5_H\cr
\end{aligned}
}
}
\otimes
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^6_H$
}\cr
&amp;\mu[\bullet], x_k, r_k \gets \bot\cr
&amp;\ldots\cr
\cr
&amp;\colorbox{bae6fd}{$
\underline{
  \text{SetBroadcast}_k(h):
}$}\cr
  &amp;\enspace
    \texttt{assert } h \in \mu
  \cr
  &amp;\enspace
    (x_k, r_k) \gets \mu[h]
  \cr
  &amp;\enspace
    \text{SetBroadcast}_k(h)
  \cr
\cr
&amp;\colorbox{bae6fd}{$
\underline{
  \text{Hash}(x, r):
}$}\cr
  &amp;\enspace
    h \gets \text{Hash}&#x27;(x, r)
  \cr
  &amp;\enspace
    \mu[h] \gets (x, r)
  \cr
  &amp;\enspace
    \texttt{return } h
  \cr
&amp;\underline{
  \text{Hash}&#x27;(x, r):
}\cr
  &amp;\enspace
    \ldots
  \cr
\end{aligned}
}
}
\cr
  \circ
\cr
F[\text{Broadcast}&#x27;] \otimes F[\text{Sync}(1)] \otimes F[\text{SyncComm}] \otimes F[\text{Hash}]
\circledcirc F[\text{Stop}]
\end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="vertical-align:-12.3526em;height:25.2052em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:12.8526em;"><span style="top:-14.8526em;"><span class="pstrut" style="height:13.6276em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5971em;"><span style="top:-4.7442em;"><span class="pstrut" style="height:4.7442em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3968em;"><span style="top:-3.3968em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8968em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3968em;"><span style="top:-3.3968em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="height:1.9936em;background-color:#FBCFE8;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-right:0.0417em;top:-2.5474em;margin-left:0em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">6</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8426em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.353em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mtight">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8968em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.5971em;"><span class="pstrut" style="height:4.7442em;"></span><span class="stretchy fbox" style="border-style:solid;height:2.7442em;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.1471em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:11.6276em;"><span style="top:-24.8052em;"><span class="pstrut" style="height:24.8052em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:12.5418em;"><span style="top:-14.5418em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-12.765em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-11.265em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-9.765em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-8.055em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-6.165em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-4.665em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-3.165em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-1.665em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:0.045em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:1.935em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:3.435em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:4.935em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:6.435em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:8.025em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:12.0418em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:12.5418em;"><span style="top:-14.5418em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="height:1.9936em;background-color:#FBCFE8;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="top:-2.5474em;margin-right:0.0417em;margin-left:0em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">6</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-12.765em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord mathnormal">μ</span><span class="mopen">[</span><span class="mord">∙</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;margin-left:0em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0278em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:-0.0278em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:-11.265em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span></span></span><span style="top:-8.055em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.8em;"></span><span class="stretchy colorbox" style="height:1.8em;background-color:#bae6fd;"></span></span><span style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord boxpad"><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">h</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span></span></span></span></span></span></span></span><span style="top:-6.165em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">assert </span></span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">μ</span></span></span><span style="top:-4.665em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-left:0em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0278em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:-0.0278em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">μ</span><span class="mopen">[</span><span class="mord mathnormal">h</span><span class="mclose">]</span></span></span><span style="top:-3.165em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">h</span><span class="mclose">)</span></span></span><span style="top:0.045em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.8em;"></span><span class="stretchy colorbox" style="height:1.8em;background-color:#bae6fd;"></span></span><span style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord boxpad"><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0278em;">r</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span></span></span></span></span></span></span></span><span style="top:1.935em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7834em;"><span style="margin-right:0.0556em;top:-3.013em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0278em;">r</span><span class="mclose">)</span></span></span><span style="top:3.435em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord mathnormal">μ</span><span class="mopen">[</span><span class="mord mathnormal">h</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0278em;">r</span><span class="mclose">)</span></span></span><span style="top:4.935em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord mathnormal">h</span></span></span><span style="top:6.435em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7834em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7834em;"><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0278em;">r</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:8.025em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="minner">…</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:12.0418em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-13.6276em;"><span class="pstrut" style="height:24.8052em;"></span><span class="stretchy fbox" style="border-style:solid;height:22.8052em;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:11.1776em;"><span></span></span></span></span></span></span></span><span style="top:-2.835em;"><span class="pstrut" style="height:13.6276em;"></span><span class="mord"><span class="mord">∘</span></span></span><span style="top:-1.635em;"><span class="pstrut" style="height:13.6276em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord"><span class="mord text"><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8362em;"><span style="margin-right:0.05em;top:-3.1473em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin amsrm">⊚</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">o</span><span class="mord">p</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:12.3526em;"><span></span></span></span></span></span></span></span></span></span></span></span></span>
<p>Next, instead of checking for bad openings inside honest parties,
we can instead have malicious parties directly cause
a stop once they send a bad value.</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable columnspacing="1em" rowspacing="0.16em" columnalign="center"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable columnspacing="0em" columnalign="right left" rowspacing="0.25em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded height="+6pt" voffset="3pt" lspace="3pt" mathbackground="#FBCFE8" width="+6pt"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>7</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>…</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitOpen</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mi>c</mi><mi mathvariant="normal">_</mi><mo>∙</mo><mo>←</mo><msub><mtext>WaitCommit</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>EndBroadcast</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mo stretchy="false">(</mo><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo rspace="0em" lspace="0em">∙</mo><mo separator="true">,</mo><mover accent="true"><mi>r</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo lspace="0em" rspace="0em">∙</mo><mo stretchy="false">)</mo><msub><mo>↰</mo><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mpadded voffset="3pt" lspace="3pt" mathbackground="#fca5a5" width="+6pt" height="+6pt"><mstyle displaystyle="false" scriptlevel="0"><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∃</mi><mi>j</mi><mi mathvariant="normal">.</mi><mtext> Hash</mtext><mo stretchy="false">(</mo><msub><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi>j</mi></msub><mo separator="true">,</mo><msub><mover accent="true"><mi>r</mi><mo>^</mo></mover><mi>j</mi></msub><mo stretchy="false">)</mo><mi mathvariant="normal">≠</mi><msub><mi>c</mi><mi>j</mi></msub><mo>:</mo></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mpadded mathbackground="#fca5a5" width="+6pt" lspace="3pt" voffset="3pt" height="+6pt"><mstyle scriptlevel="0" displaystyle="false"><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">(</mo><mo>⋆</mo><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo rspace="0em" lspace="0em">∙</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mo>⊗</mo><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable columnalign="right left" rowspacing="0.25em" columnspacing="0em"><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded mathbackground="#FBCFE8" voffset="3pt" height="+6pt" width="+6pt" lspace="3pt"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>7</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mi>μ</mi><mo stretchy="false">[</mo><mo>∙</mo><mo stretchy="false">]</mo><mo separator="true">,</mo><msub><mi>x</mi><mi>k</mi></msub><mo separator="true">,</mo><msub><mi>r</mi><mi>k</mi></msub><mo>←</mo><mi mathvariant="normal">⊥</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>…</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded width="+6pt" lspace="3pt" height="+6pt" voffset="3pt" mathbackground="#bae6fd"><mstyle scriptlevel="0" displaystyle="false"><munder accentunder="true"><mrow><msub><mo>↱</mo><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mo stretchy="false">(</mo><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><mo separator="true">,</mo><mover accent="true"><mi>r</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">for</mtext><mtext> </mtext></mrow><mi>j</mi><mo>∈</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">H</mi><mi mathvariant="normal">.</mi><mtext> Hash</mtext><mo stretchy="false">(</mo><msub><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi>j</mi></msub><mo separator="true">,</mo><msub><mover accent="true"><mi>r</mi><mo>^</mo></mover><mi>j</mi></msub><mo stretchy="false">)</mo><mi mathvariant="normal">≠</mi><mtext>Hash</mtext><mo stretchy="false">(</mo><msub><mi>x</mi><mi>k</mi></msub><mo separator="true">,</mo><msub><mi>r</mi><mi>k</mi></msub><mo stretchy="false">)</mo><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">(</mo><mo stretchy="false">{</mo><mi>j</mi><mo stretchy="false">}</mo><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mo>↱</mo><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mo stretchy="false">(</mo><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><mo separator="true">,</mo><mover accent="true"><mi>r</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mo rspace="0em" lspace="0em">∘</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>F</mi><mo stretchy="false">[</mo><msup><mtext>Broadcast</mtext><mo rspace="0em" mathvariant="normal" lspace="0em">′</mo></msup><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Sync</mtext><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>SyncComm</mtext><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Hash</mtext><mo stretchy="false">]</mo><mo>⊚</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Stop</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^7_H$
}\cr
&amp;\ldots\cr
\cr
&amp;\underline{
  \text{WaitOpen}_i():
}\cr
  &amp;\enspace
    c\_\bullet \gets \text{WaitCommit}_i()
  \cr
  &amp;\enspace
    \text{EndBroadcast}_i()
  \cr
  &amp;\enspace
    (\hat{x}\_{\bullet}, \hat{r}\_{\bullet}) \Lsh_i(\star, 2)
  \cr
  &amp;\enspace
  \colorbox{#fca5a5}{$
    \texttt{if } \exists j.\ \text{Hash}(\hat{x}_j, \hat{r}_j) \neq c_j:
  $}
  \cr
  &amp;\enspace\enspace
  \colorbox{#fca5a5}{$
    \texttt{stop}(\star, 2)
  $}
  \cr
  &amp;\enspace
    \texttt{return } \hat{x}\_{\bullet}
  \cr
\end{aligned}
}
}
\otimes
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^7_H$
}\cr
&amp;\mu[\bullet], x_k, r_k \gets \bot\cr
&amp;\ldots\cr
\cr
&amp;\colorbox{bae6fd}{$
\underline{
  \Rsh_k(S, (\hat{x}\_\bullet, \hat{r}\_\bullet)):
}$}\cr
  &amp;\enspace
    \texttt{for } j \in S \cap \mathcal{H}.\ \text{Hash}(\hat{x}_j, \hat{r}_j) \neq \text{Hash}(x_k, r_k):
  \cr
  &amp;\enspace\enspace
    \texttt{stop}(\{j\}, 2)
  \cr
  &amp;\enspace
    \Rsh_k(S, (\hat{x}\_\bullet, \hat{r}\_\bullet))
  \cr
\end{aligned}
}
}
\cr
  \circ
\cr
F[\text{Broadcast}&#x27;] \otimes F[\text{Sync}(1)] \otimes F[\text{SyncComm}] \otimes F[\text{Hash}]
\circledcirc F[\text{Stop}]
\end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:18.1319em;vertical-align:-8.8159em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:9.3159em;"><span style="top:-11.3159em;"><span class="pstrut" style="height:10.0909em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:8.0909em;"><span style="top:-17.7319em;"><span class="pstrut" style="height:17.7319em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:8.6122em;"><span style="top:-10.6122em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-8.8354em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-7.3354em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-5.8354em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-4.2343em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-2.7343em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-1.2343em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:0.4757em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:2.4053em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:4.0953em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:8.1122em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:8.6122em;"><span style="top:-10.6122em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="background-color:#FBCFE8;height:1.9936em;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-left:0em;margin-right:0.0417em;top:-2.5474em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">7</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-8.8354em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span></span></span><span style="top:-5.8354em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.5789em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="margin-right:0.0556em;top:-2.3389em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4611em;"><span></span></span></span></span></span></span></span><span style="top:-4.2343em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord mathnormal">c</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span></span></span><span style="top:-2.7343em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">E</span><span class="mord">n</span><span class="mord">d</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span></span></span><span style="top:-1.2343em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal" style="margin-right:0.0278em;">r</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span><span style="top:0.4757em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.6296em;"></span><span class="stretchy colorbox" style="height:1.6296em;background-color:#fca5a5;"></span></span><span style="top:-3.6296em;"><span class="pstrut" style="height:3.6296em;"></span><span class="mord boxpad"><span class="mord text"><span class="mord texttt">if </span></span><span class="mord">∃</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mord">.</span><span class="mspace"> </span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal" style="margin-right:0.0278em;">r</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:-0.0278em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5796em;"><span></span></span></span></span></span></span></span><span style="top:2.4053em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.6em;"></span><span class="stretchy colorbox" style="height:1.6em;background-color:#fca5a5;"></span></span><span style="top:-3.6em;"><span class="pstrut" style="height:3.6em;"></span><span class="mord boxpad"><span class="mord text"><span class="mord texttt">stop</span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.55em;"><span></span></span></span></span></span></span></span><span style="top:4.0953em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord">∙</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:8.1122em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-10.0909em;"><span class="pstrut" style="height:17.7319em;"></span><span class="stretchy fbox" style="height:15.7319em;border-width:0.04em;border-style:solid;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:7.6409em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:6.6191em;"><span style="top:-14.7882em;"><span class="pstrut" style="height:14.7882em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:6.9768em;"><span style="top:-8.9768em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-7.2em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-5.7em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-4.2em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-2.49em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-0.54em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:0.96em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:2.46em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:6.4768em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:6.9768em;"><span style="top:-8.9768em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="height:1.9936em;background-color:#FBCFE8;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-right:0.0417em;margin-left:0em;top:-2.5474em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">7</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-7.2em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord mathnormal">μ</span><span class="mopen">[</span><span class="mord">∙</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0278em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-left:-0.0278em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span></span></span><span style="top:-5.7em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span></span></span><span style="top:-2.49em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.86em;"></span><span class="stretchy colorbox" style="background-color:#bae6fd;height:1.86em;"></span></span><span style="top:-3.86em;"><span class="pstrut" style="height:3.86em;"></span><span class="mord boxpad"><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.53em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal" style="margin-right:0.0278em;">r</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mclose">))</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.51em;"><span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.81em;"><span></span></span></span></span></span></span></span><span style="top:-0.54em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">for </span></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mord">.</span><span class="mspace"> </span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal" style="margin-right:0.0278em;">r</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:-0.0278em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="vertical-align:-0.1944em;height:0.8889em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0278em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-left:-0.0278em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:0.96em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mopen">({</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">}</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span><span style="top:2.46em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal" style="margin-right:0.0278em;">r</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mclose">))</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:6.4768em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-8.6191em;"><span class="pstrut" style="height:14.7882em;"></span><span class="stretchy fbox" style="height:12.7882em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:6.1691em;"><span></span></span></span></span></span></span></span><span style="top:-2.835em;"><span class="pstrut" style="height:10.0909em;"></span><span class="mord"><span class="mord">∘</span></span></span><span style="top:-1.635em;"><span class="pstrut" style="height:10.0909em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord"><span class="mord text"><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8362em;"><span style="margin-right:0.05em;top:-3.1473em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin amsrm">⊚</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">o</span><span class="mord">p</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:8.8159em;"><span></span></span></span></span></span></span></span></span></span></span></span></span>
<p>(red parts deleted).</p>
<p>Now, because random oracles are collision resistant, we get the same
result to check full equality rather than hash equality.</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable columnspacing="1em" rowspacing="0.16em" columnalign="center"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable columnalign="right left" rowspacing="0.25em" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded height="+6pt" lspace="3pt" voffset="3pt" mathbackground="#FBCFE8" width="+6pt"><mstyle mathsize="1.2em"><mstyle scriptlevel="0" displaystyle="false"><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>8</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded><mo>=</mo><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>7</mn></msubsup></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mo>⊗</mo><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle displaystyle="false" scriptlevel="0"><mstyle displaystyle="true" scriptlevel="0"><mstyle mathsize="0.9em"><mtable columnspacing="0em" rowspacing="0.25em" columnalign="right left"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mpadded height="+6pt" mathbackground="#FBCFE8" voffset="3pt" width="+6pt" lspace="3pt"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>8</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>…</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mo>↱</mo><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mo stretchy="false">(</mo><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><mo separator="true">,</mo><mover accent="true"><mi>r</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><mo stretchy="false">)</mo><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mpadded lspace="3pt" width="+6pt" voffset="3pt" height="+6pt" mathbackground="#bae6fd"><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext mathvariant="monospace">for</mtext><mtext> </mtext></mrow><mi>j</mi><mo>∈</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">H</mi><mi mathvariant="normal">.</mi><mtext> </mtext><mo stretchy="false">(</mo><msub><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi>j</mi></msub><mo separator="true">,</mo><msub><mover accent="true"><mi>r</mi><mo>^</mo></mover><mi>j</mi></msub><mo stretchy="false">)</mo><mi mathvariant="normal">≠</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>k</mi></msub><mo separator="true">,</mo><msub><mi>r</mi><mi>k</mi></msub><mo stretchy="false">)</mo><mo>:</mo></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">(</mo><mo stretchy="false">{</mo><mi>j</mi><mo stretchy="false">}</mo><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mo>↱</mo><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mo stretchy="false">(</mo><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><mo separator="true">,</mo><mover accent="true"><mi>r</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">∘</mo></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>F</mi><mo stretchy="false">[</mo><msup><mtext>Broadcast</mtext><mo rspace="0em" mathvariant="normal" lspace="0em">′</mo></msup><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Sync</mtext><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>SyncComm</mtext><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Hash</mtext><mo stretchy="false">]</mo><mo>⊚</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Stop</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^8_H$
} = \Gamma^7_H\cr
\end{aligned}
}
}
\otimes
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{FBCFE8}{\large
  $\Gamma^8_H$
}\cr
&amp;\ldots\cr
\cr
&amp;\underline{
  \Rsh_k(S, (\hat{x}\_\bullet, \hat{r}\_\bullet), 2):
}\cr
  &amp;\enspace
  \colorbox{bae6fd}{$
    \texttt{for } j \in S \cap \mathcal{H}.\ (\hat{x}_j, \hat{r}_j) \neq (x_k, r_k):
  $}
  \cr
  &amp;\enspace\enspace
    \texttt{stop}(\{j\}, 2)
  \cr
  &amp;\enspace
    \Rsh_k(S, (\hat{x}\_\bullet, \hat{r}\_\bullet))
  \cr
\end{aligned}
}
}
\cr
  \circ
\cr
F[\text{Broadcast}&#x27;] \otimes F[\text{Sync}(1)] \otimes F[\text{SyncComm}] \otimes F[\text{Hash}]
\circledcirc F[\text{Stop}]
\end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:13.7659em;vertical-align:-6.6329em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:7.1329em;"><span style="top:-9.1329em;"><span class="pstrut" style="height:7.9079em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5971em;"><span style="top:-4.7442em;"><span class="pstrut" style="height:4.7442em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3968em;"><span style="top:-3.3968em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8968em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3968em;"><span style="top:-3.3968em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="background-color:#FBCFE8;height:1.9936em;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="top:-2.5474em;margin-left:0em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">8</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8426em;"><span style="margin-right:0.0556em;top:-2.353em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mtight">7</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8968em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.5971em;"><span class="pstrut" style="height:4.7442em;"></span><span class="stretchy fbox" style="border-width:0.04em;height:2.7442em;border-style:solid;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.1471em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:5.9079em;"><span style="top:-13.3659em;"><span class="pstrut" style="height:13.3659em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:6.1866em;"><span style="top:-8.1866em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-6.4099em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-4.9099em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-3.4099em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-1.5499em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:0.1698em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:1.6698em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:5.6866em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:6.1866em;"><span style="top:-8.1866em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="background-color:#FBCFE8;height:1.9936em;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-left:0em;top:-2.5474em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">8</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-6.4099em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span></span></span><span style="top:-3.4099em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.53em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal" style="margin-right:0.0278em;">r</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.51em;"><span></span></span></span></span></span></span></span><span style="top:-1.5499em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.6296em;"></span><span class="stretchy colorbox" style="height:1.6296em;background-color:#bae6fd;"></span></span><span style="top:-3.6296em;"><span class="pstrut" style="height:3.6296em;"></span><span class="mord boxpad"><span class="mord text"><span class="mord texttt">for </span></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mord">.</span><span class="mspace"> </span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal" style="margin-right:0.0278em;">r</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:-0.0278em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0278em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:-0.0278em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5796em;"><span></span></span></span></span></span></span></span><span style="top:0.1698em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mopen">({</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">}</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span><span style="top:1.6698em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-left:0em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal" style="margin-right:0.0278em;">r</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mclose">))</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:5.6866em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-7.9079em;"><span class="pstrut" style="height:13.3659em;"></span><span class="stretchy fbox" style="border-style:solid;height:11.3659em;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:5.4579em;"><span></span></span></span></span></span></span></span><span style="top:-2.835em;"><span class="pstrut" style="height:7.9079em;"></span><span class="mord"><span class="mord">∘</span></span></span><span style="top:-1.635em;"><span class="pstrut" style="height:7.9079em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord"><span class="mord text"><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8362em;"><span style="top:-3.1473em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin amsrm">⊚</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">o</span><span class="mord">p</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:6.6329em;"><span></span></span></span></span></span></span></span></span></span></span></span></span>
<p>At this point, the malicious party can't actually send honest
parties an opened value that's any different than the one they
used to generate their initial broadcast hash.
We can now rewrite the adversary to use the ideal commitment
functionality instead.</p><span class="katex-wrapper"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable columnspacing="1em" columnalign="center" rowspacing="0.16em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><menclose notation="box"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="true" scriptlevel="0"><mstyle mathsize="0.9em"><mtable columnalign="right left" rowspacing="0.25em" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded height="+6pt" mathbackground="#bae6fd" lspace="3pt" width="+6pt" voffset="3pt"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>9</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mtext>SetCommit</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>SetCommit</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>Commit</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>Commit</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitCommit</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>WaitCommit</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>Sync</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>Open</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>Open</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>WaitOpen</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>WaitCommit</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>WaitSync</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><msub><mtext>WaitOpen</mtext><mi>i</mi></msub><mo stretchy="false">(</mo><mo>⋆</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose><mo>⊗</mo><mtable columnalign="center" columnspacing="1em" rowspacing="0.16em"><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle displaystyle="false" scriptlevel="0"><mstyle scriptlevel="0" displaystyle="true"><mstyle mathsize="0.9em"><mtable columnspacing="0em" columnalign="right left" rowspacing="0.25em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mpadded height="+6pt" voffset="3pt" mathbackground="#bae6fd" width="+6pt" lspace="3pt"><mstyle mathsize="1.2em"><mstyle displaystyle="false" scriptlevel="0"><msubsup><mi mathvariant="normal">Γ</mi><mi>H</mi><mn>9</mn></msubsup></mstyle><mtext> </mtext></mstyle></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mo>…</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>SetBroadcast</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>h</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">assert</mtext><mtext> </mtext></mrow><mi>h</mi><mo>∈</mo><mi>μ</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mi>h</mi><mi>k</mi></msub><mo>←</mo><mi>h</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>SetCommit</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>μ</mi><mo stretchy="false">[</mo><mi>h</mi><mo stretchy="false">]</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>SendBroadcast</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mover accent="true"><mi>h</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>k</mi><mi>j</mi></mrow><mo>←</mo><msub><mi>h</mi><mi>k</mi></msub><mtext> </mtext><mo stretchy="false">(</mo><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">m</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>Commit</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mtext>GetBroadcast</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>WaitCommit</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">for</mtext><mtext> </mtext></mrow><mi>j</mi><mo>∈</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">H</mi><mi mathvariant="normal">.</mi><mtext> </mtext><msub><mi>c</mi><mi>j</mi></msub><mo>=</mo><mi mathvariant="normal">⊥</mi><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><msub><mi>c</mi><mi>j</mi></msub><mover><mo minsize="1.75em" stretchy="true">←</mo><mpadded lspace="0.3em" width="+0.6em"><mi mathvariant="normal">$</mi></mpadded></mover><msup><mtext mathvariant="monospace">01</mtext><mrow><mn>2</mn><mi>λ</mi></mrow></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mrow><mo fence="true">[</mo><mtable columnalign="center center" columnspacing="1em" rowspacing="0.16em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>c</mi><mi>j</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>∣</mo><mi>j</mi><mo>∈</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">H</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mover accent="true"><mi>h</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mrow><mi>j</mi><mi>k</mi></mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>∣</mo><mi>j</mi><mo>∈</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">M</mi></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mo>↱</mo><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mover accent="true"><mi>m</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mo stretchy="false">(</mo><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><mo separator="true">,</mo><mover accent="true"><mi>r</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo><mo stretchy="false">)</mo><mo>←</mo><mover accent="true"><mi>m</mi><mo>^</mo></mover><mi mathvariant="normal">_</mi><mo>∙</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">for</mtext><mtext> </mtext></mrow><mi>j</mi><mo>∈</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">H</mi><mi mathvariant="normal">.</mi><mtext> </mtext><mo stretchy="false">(</mo><msub><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi>j</mi></msub><mo separator="true">,</mo><msub><mover accent="true"><mi>r</mi><mo>^</mo></mover><mi>j</mi></msub><mo stretchy="false">)</mo><mi mathvariant="normal">≠</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>k</mi></msub><mo separator="true">,</mo><msub><mi>r</mi><mi>k</mi></msub><mo stretchy="false">)</mo><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">(</mo><mo stretchy="false">{</mo><mi>j</mi><mo stretchy="false">}</mo><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mi>S</mi><mo>←</mo><mi>S</mi><mi mathvariant="normal">/</mi><mo stretchy="false">{</mo><mi>j</mi><mo stretchy="false">}</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mi>m</mi><mi mathvariant="normal">_</mi><mrow><mi>k</mi><mi>j</mi></mrow><mo>←</mo><mo stretchy="false">(</mo><mi mathvariant="normal">∀</mi><mi>j</mi><mo>∈</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">M</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><msub><mtext>Open</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msub><mo>↰</mo><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mtext>xr</mtext><mi mathvariant="normal">_</mi><mo>∙</mo><mo>←</mo><msub><mtext>WaitOpen</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mrow><mo fence="true">[</mo><mtable columnalign="center center" columnspacing="1em" rowspacing="0.16em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mtext>xr</mtext><mi>j</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>∣</mo><mi>j</mi><mo>∈</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">H</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mi>m</mi><mi mathvariant="normal">_</mi><mrow><mi>k</mi><mi>j</mi></mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mo>∣</mo><mi>j</mi><mo>∈</mo><mi>S</mi><mo>∩</mo><mi mathvariant="script">M</mi></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><munder accentunder="true"><mrow><mtext>Hash</mtext><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>r</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mi>h</mi><mo>←</mo><msup><mtext>Hash</mtext><mo rspace="0em" mathvariant="normal" lspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>r</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow><mrow></mrow><mspace width="0.5em"/><mi>μ</mi><mo stretchy="false">[</mo><mi>h</mi><mo stretchy="false">]</mo><mo>←</mo><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>r</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mi>h</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><munder accentunder="true"><mrow><msup><mtext>Hash</mtext><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>r</mi><mo stretchy="false">)</mo><mo>:</mo></mrow><mo stretchy="true">‾</mo></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∃</mi><mi>k</mi><mo>∈</mo><mi mathvariant="script">M</mi><mo separator="true">,</mo><mi>j</mi><mo>∈</mo><mi mathvariant="script">H</mi><mi mathvariant="normal">.</mi><mtext> </mtext><mtext mathvariant="monospace">nowait</mtext><msub><mo>↰</mo><mi>k</mi></msub><mo stretchy="false">(</mo><mo stretchy="false">{</mo><mi>j</mi><mo stretchy="false">}</mo><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>r</mi><mo stretchy="false">)</mo><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">if</mtext><mtext> </mtext></mrow><mi mathvariant="normal">∃</mi><mi>k</mi><mo>∈</mo><mi mathvariant="script">M</mi><mo separator="true">,</mo><mi>j</mi><mo>∈</mo><mi mathvariant="script">H</mi><mi mathvariant="normal">.</mi><mtext> </mtext><mrow><mtext mathvariant="monospace">nowait</mtext><mtext> </mtext></mrow><mtext>GetBroadcast</mtext><mo stretchy="false">(</mo><mo stretchy="false">{</mo><mi>j</mi><mo stretchy="false">}</mo><mo stretchy="false">)</mo><mo>→</mo><msub><mi>c</mi><mi>j</mi></msub><mo>:</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mspace width="0.5em"/><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><msub><mi>c</mi><mi>j</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="true" scriptlevel="0"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="0.5em"/><mrow><mtext mathvariant="monospace">return</mtext><mtext> </mtext></mrow><mtext>Hash</mtext><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>r</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mstyle></mstyle></mstyle></mstyle></menclose></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⊗</mo></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle="false" scriptlevel="0"><mrow><mn>1</mn><mo stretchy="false">(</mo><msub><mtext>Sync</mtext><mi>k</mi></msub><mo separator="true">,</mo><msub><mtext>WaitSync</mtext><mi>k</mi></msub><mo separator="true">,</mo><mtext mathvariant="monospace">stop</mtext><mo stretchy="false">)</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Hash</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo rspace="0em" lspace="0em">∘</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>F</mi><mo stretchy="false">[</mo><mtext>IdealCommit</mtext><mo stretchy="false">]</mo><mo>⊗</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Sync</mtext><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo>⊚</mo><mi>F</mi><mo stretchy="false">[</mo><mtext>Stop</mtext><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{bae6fd}{\large
  $\Gamma^9_H$
}\cr
\cr
&amp;\underline{
  (1)\text{SetCommit}_i(x):
}\cr
  &amp;\enspace
    \text{SetCommit}_i(x)
  \cr
\cr
&amp;\underline{
  \text{Commit}_i():
}\cr
  &amp;\enspace
    \text{Commit}_i(\star)
  \cr
\cr
&amp;\underline{
  \text{WaitCommit}_i():
}\cr
  &amp;\enspace
    \text{WaitCommit}_i(\star)
  \cr
  &amp;\enspace
    \text{Sync}_i(\star)
  \cr
\cr
&amp;\underline{
  \text{Open}_i():
}\cr
  &amp;\enspace
    \text{Open}_i(\star)
  \cr
\cr
&amp;\underline{
  \text{WaitOpen}_i():
}\cr
  &amp;\enspace
    \text{WaitCommit}_i()
  \cr
  &amp;\enspace
    \text{WaitSync}_i(\star)
  \cr
  &amp;\enspace
    \texttt{return } \text{WaitOpen}_i(\star)
  \cr
\end{aligned}
}
}
\otimes
\begin{matrix}
\boxed{
\small{
\begin{aligned}
&amp;\colorbox{bae6fd}{\large
  $\Gamma^9_H$
}\cr
&amp;\ldots\cr
\cr
&amp;\underline{
  \text{SetBroadcast}_k(h):
}\cr
  &amp;\enspace
    \texttt{assert } h \in \mu
  \cr
  &amp;\enspace
    h_k \gets h
  \cr
  &amp;\enspace
    \text{SetCommit}_k(\mu[h])
  \cr
\cr
&amp;\underline{
  \text{SendBroadcast}_k(S):
}\cr
  &amp;\enspace
  \hat{h}\_{kj} \gets h_k \ (\forall j \in S \cap \mathcal{m})
  \cr
  &amp;\enspace
    \text{Commit}_k(S)
  \cr
\cr
&amp;\underline{
  \text{GetBroadcast}_k(S):
}\cr
  &amp;\enspace
    \text{WaitCommit}_k(S)
  \cr
  &amp;\enspace
    \texttt{for } j \in S \cap \mathcal{H}.\ c_j = \bot:
  \cr
  &amp;\enspace\enspace
    c_j \xleftarrow{\$} \texttt{01}^{2\lambda}
  \cr
  &amp;\enspace
    \texttt{return } \begin{bmatrix}
      c_j &amp;\mid j \in S \cap \mathcal{H} \cr
      \hat{h}\_{jk} &amp;\mid j \in S \cap \mathcal{M}
    \end{bmatrix}
  \cr
\cr
&amp;\underline{
  \Rsh_k(S, \hat{m}\_\bullet, 2):
}\cr
  &amp;\enspace
    (\hat{x}\_\bullet, \hat{r}\_\bullet) \gets \hat{m}\_\bullet
  \cr
  &amp;\enspace
    \texttt{for } j \in S \cap \mathcal{H}.\ (\hat{x}_j, \hat{r}_j) \neq (x_k, r_k):
  \cr
  &amp;\enspace\enspace
    \texttt{stop}(\{j\}, 2)
  \cr
  &amp;\enspace\enspace
    S \gets S / \{j\}
  \cr
  &amp;\enspace
    m\_{kj} \gets (\forall j \in S \cap \mathcal{M})
  \cr
  &amp;\enspace
    \text{Open}_k(S)
  \cr
\cr
&amp;\underline{
  \Lsh_k(S, 2):
}\cr
  &amp;\enspace
    \text{xr}\_\bullet \gets \text{WaitOpen}_k(S)
  \cr
  &amp;\enspace
    \texttt{return } \begin{bmatrix}
      \text{xr}_j &amp;\mid j \in S \cap \mathcal{H}\cr
      m\_{kj} &amp;\mid j \in S \cap \mathcal{M}
    \end{bmatrix}
  \cr
\cr
&amp;\underline{
  \text{Hash}(x, r):
}\cr
  &amp;\enspace
    h \gets \text{Hash}&#x27;(x, r)
  \cr
  &amp;\enspace
    \mu[h] \gets (x, r)
  \cr
  &amp;\enspace
    \texttt{return } h
  \cr
\cr
&amp;\underline{
  \text{Hash}&#x27;(x, r):
}\cr
  &amp;\enspace
    \texttt{if } \exists k \in \mathcal{M}, j \in \mathcal{H}.\ \texttt{nowait}\Lsh_k(\{j\}, 2) = (x, r):
  \cr
  &amp;\enspace\enspace
    \texttt{if } \exists k \in \mathcal{M}, j \in \mathcal{H}.\ \texttt{nowait } \text{GetBroadcast}(\{j\}) \to c_j:
  \cr
  &amp;\enspace\enspace\enspace
    \texttt{return } c_j
  \cr
  &amp;\enspace
    \texttt{return } \text{Hash}(x, r)
  \cr
\end{aligned}
}
}\cr
\otimes\cr
1(\text{Sync}_k, \text{WaitSync}_k, \texttt{stop}) \otimes F[\text{Hash}]
\end{matrix}
\cr
  \circ
\cr
F[\text{IdealCommit}] \otimes F[\text{Sync}(1)]
\circledcirc F[\text{Stop}]
\end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="vertical-align:-31.6576em;height:63.8152em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:32.1576em;"><span style="top:-34.1576em;"><span class="pstrut" style="height:32.9576em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:13.9596em;"><span style="top:-29.4692em;"><span class="pstrut" style="height:29.4692em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:15.1329em;"><span style="top:-17.1329em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-15.3562em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-13.8562em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-12.2662em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-10.7662em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-9.2662em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-7.6762em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-6.1762em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-4.6762em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-3.0862em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-1.5862em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:-0.0862em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:1.4138em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:3.015em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:4.515em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:6.015em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:7.6161em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:9.1161em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span><span style="top:10.6161em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:14.6329em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:15.1329em;"><span style="top:-17.1329em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="height:1.9936em;background-color:#bae6fd;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-left:0em;margin-right:0.0417em;top:-2.5474em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="margin-right:0.0417em;top:-3.163em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">9</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-13.8562em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-12.2662em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span><span style="top:-9.2662em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-7.6762em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mclose">)</span></span></span><span style="top:-4.6762em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-3.0862em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mclose">)</span></span></span><span style="top:-1.5862em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.3389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mclose">)</span></span></span><span style="top:1.4138em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.5789em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="margin-right:0.0556em;top:-2.3389em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4611em;"><span></span></span></span></span></span></span></span><span style="top:3.015em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.3389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mclose">)</span></span></span><span style="top:6.015em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.5789em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.3389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4611em;"><span></span></span></span></span></span></span></span><span style="top:7.6161em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mclose">)</span></span></span><span style="top:9.1161em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="margin-right:0.0556em;top:-2.3389em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mclose">)</span></span></span><span style="top:10.6161em;"><span class="pstrut" style="height:3.3568em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="margin-right:0.0556em;top:-2.3389em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋆</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:14.6329em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-15.9596em;"><span class="pstrut" style="height:29.4692em;"></span><span class="stretchy fbox" style="border-style:solid;height:27.4692em;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:13.5096em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:30.9576em;"><span style="top:-32.9576em;"><span class="pstrut" style="height:31.7326em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:29.7326em;"><span style="top:-61.0152em;"><span class="pstrut" style="height:61.0152em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:32.6584em;"><span style="top:-34.8877em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:-33.111em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:-31.611em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:-30.111em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:-28.521em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:-27.021em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:-25.521em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:-24.021em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:-22.521em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:-20.8131em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:-19.3131em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:-17.8131em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:-16.3131em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:-14.7231em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:-13.2231em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:-11.4411em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:-9.195em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:-6.9744em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:-5.4744em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:-3.8244em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:-2.3244em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:-0.8244em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:0.6756em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:2.1756em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:3.6756em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:5.1756em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:6.6756em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:8.2656em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:10.5117em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:12.7323em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:14.2323em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:15.8223em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:17.3223em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:18.8223em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:20.3223em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:21.8223em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:23.4123em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:24.9123em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:26.4123em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span><span style="top:27.9123em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:32.1584em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:32.6584em;"><span style="top:-34.8877em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3568em;"><span style="top:-3.3568em;"><span class="pstrut" style="height:3.9936em;"></span><span class="stretchy colorbox" style="height:1.9936em;background-color:#bae6fd;"></span></span><span style="top:-3.9936em;"><span class="pstrut" style="height:3.9936em;"></span><span class="mord boxpad"><span class="mord sizing reset-size5 size7"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7926em;"><span style="margin-right:0.0417em;top:-2.5474em;margin-left:0em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0813em;">H</span></span></span><span style="top:-3.163em;margin-right:0.0417em;"><span class="pstrut" style="height:2.8em;"></span><span class="sizing reset-size7 size4 mtight"><span class="mord mtight">9</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2526em;"><span></span></span></span></span></span></span><span class="mord sizing reset-size5 size7"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6367em;"><span></span></span></span></span></span></span></span><span style="top:-33.111em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span></span></span><span style="top:-30.111em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">h</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-28.521em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">assert </span></span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">μ</span></span></span><span style="top:-27.021em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">h</span></span></span><span style="top:-25.521em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">μ</span><span class="mopen">[</span><span class="mord mathnormal">h</span><span class="mclose">])</span></span></span><span style="top:-22.521em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">e</span><span class="mord">n</span><span class="mord">d</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-20.8131em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9579em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">h</span></span><span style="top:-3.1634em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">kj</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace"> </span><span class="mopen">(</span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">m</span><span class="mclose">)</span></span></span><span style="top:-19.3131em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span></span></span><span style="top:-16.3131em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">G</span><span class="mord">e</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:-14.7231em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span></span></span><span style="top:-13.2231em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">for </span></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mord">.</span><span class="mspace"> </span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">⊥</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:-11.4411em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.122em;"><span style="top:-3.222em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight x-arrow-pad"><span class="mord mtight"><span class="mord mtight">$</span></span></span></span><span style="top:-2.589em;"><span class="pstrut" style="height:2.6em;"></span><span class="hide-tail" style="height:0.522em;min-width:1.469em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" preserveAspectRatio="xMinYMin slice" viewBox="0 0 400000 522" height="0.522em"><path d="M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.011em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord text"><span class="mord texttt">01</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.876em;"><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight">λ</span></span></span></span></span></span></span></span></span></span></span><span style="top:-9.195em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen sizing reset-size5 size6 delimcenter" style="top:0.025em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5089em;"><span style="top:-3.6268em;"><span class="pstrut" style="height:2.9579em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.3089em;"><span class="pstrut" style="height:2.9579em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9579em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">h</span></span><span style="top:-3.1634em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0315em;">jk</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.0089em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5089em;"><span style="top:-3.6268em;"><span class="pstrut" style="height:2.9579em;"></span><span class="mord"><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span></span></span><span style="top:-2.3089em;"><span class="pstrut" style="height:2.9579em;"></span><span class="mord"><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal">M</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.0089em;"><span></span></span></span></span></span></span></span><span class="mclose sizing reset-size5 size6 delimcenter" style="top:0.025em;"><span class="delimsizing size3">]</span></span></span></span></span><span style="top:-5.4744em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.53em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel"><span class="mrel amsrm">↱</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">m</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.51em;"><span></span></span></span></span></span></span></span><span style="top:-3.8244em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal" style="margin-right:0.0278em;">r</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">m</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span></span></span><span style="top:-2.3244em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">for </span></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mord">.</span><span class="mspace"> </span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal">x</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;margin-left:0em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord mathnormal" style="margin-right:0.0278em;">r</span></span><span style="top:-2.9em;"><span class="pstrut" style="height:2.9em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:-0.0278em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-left:0em;top:-2.45em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0278em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:-0.0278em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:-0.8244em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mopen">({</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">}</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span><span style="top:0.6756em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mord">/</span><span class="mopen">{</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">}</span></span></span><span style="top:2.1756em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord mathnormal">m</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">kj</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord">∀</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal">M</span><span class="mclose">)</span></span></span><span style="top:3.6756em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord"><span class="mord text"><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2019em;"><span style="margin-right:0.0556em;top:-2.3389em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span></span></span><span style="top:6.6756em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:8.2656em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord">x</span><span class="mord">r</span></span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord">∙</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">O</span><span class="mord">p</span><span class="mord">e</span><span class="mord">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2019em;"><span style="top:-2.3389em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2611em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mclose">)</span></span></span><span style="top:10.5117em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen sizing reset-size5 size6 delimcenter" style="top:0.025em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.51em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">x</span><span class="mord">r</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.31em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord"><span class="mord mathnormal">m</span><span class="mord" style="margin-right:0.0278em;">_</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0572em;">kj</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.51em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord"><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span></span></span><span style="top:-2.31em;"><span class="pstrut" style="height:2.9em;"></span><span class="mord"><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0576em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathcal">M</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose sizing reset-size5 size6 delimcenter" style="top:0.025em;"><span class="delimsizing size3">]</span></span></span></span></span><span style="top:14.2323em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0278em;">r</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:15.8223em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7834em;"><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0278em;">r</span><span class="mclose">)</span></span></span><span style="top:17.3223em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord mathnormal">μ</span><span class="mopen">[</span><span class="mord mathnormal">h</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0278em;">r</span><span class="mclose">)</span></span></span><span style="top:18.8223em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord mathnormal">h</span></span></span><span style="top:21.8223em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7834em;"><span style="top:-2.59em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7834em;"><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0278em;">r</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45em;"><span></span></span></span></span></span></span></span><span style="top:23.4123em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord">∃</span><span class="mord mathnormal" style="margin-right:0.0315em;">k</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathcal">M</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mord">.</span><span class="mspace"> </span><span class="mord text"><span class="mord texttt">nowait</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel amsrm">↰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.313em;"><span style="top:-2.45em;margin-right:0.0556em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">({</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">}</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0278em;">r</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:24.9123em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">if </span></span><span class="mord">∃</span><span class="mord mathnormal" style="margin-right:0.0315em;">k</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathcal">M</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathcal" style="margin-right:0.0097em;">H</span><span class="mord">.</span><span class="mspace"> </span><span class="mord text"><span class="mord texttt">nowait </span></span><span class="mord text"><span class="mord">G</span><span class="mord">e</span><span class="mord">t</span><span class="mord">B</span><span class="mord">r</span><span class="mord">o</span><span class="mord">a</span><span class="mord">d</span><span class="mord">c</span><span class="mord">a</span><span class="mord">s</span><span class="mord">t</span></span><span class="mopen">({</span><span class="mord mathnormal" style="margin-right:0.0572em;">j</span><span class="mclose">})</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-right:0.0556em;top:-2.45em;margin-left:0em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:26.4123em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="margin-left:0em;margin-right:0.0556em;top:-2.45em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0572em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2796em;"><span></span></span></span></span></span></span></span></span><span style="top:27.9123em;"><span class="pstrut" style="height:3.5861em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.5em;"></span><span class="mord text"><span class="mord texttt">return </span></span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0278em;">r</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:32.1584em;"><span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-31.7326em;"><span class="pstrut" style="height:61.0152em;"></span><span class="stretchy fbox" style="border-style:solid;height:59.0152em;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:29.2826em;"><span></span></span></span></span></span></span></span><span style="top:-2.835em;"><span class="pstrut" style="height:31.7326em;"></span><span class="mord"><span class="mord">⊗</span></span></span><span style="top:-1.635em;"><span class="pstrut" style="height:31.7326em;"></span><span class="mord"><span class="mord">1</span><span class="mopen">(</span><span class="mord"><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.242em;"><span style="margin-right:0.05em;top:-2.4559em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord text"><span class="mord">W</span><span class="mord">a</span><span class="mord">i</span><span class="mord">t</span><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.242em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0315em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord texttt">stop</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">H</span><span class="mord">a</span><span class="mord">s</span><span class="mord">h</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:30.4576em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-2.86em;"><span class="pstrut" style="height:32.9576em;"></span><span class="mord"><span class="mord">∘</span></span></span><span style="top:-1.66em;"><span class="pstrut" style="height:32.9576em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">I</span><span class="mord">d</span><span class="mord">e</span><span class="mord">a</span><span class="mord">l</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">y</span><span class="mord">n</span><span class="mord">c</span></span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin amsrm">⊚</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.1389em;">F</span><span class="mopen">[</span><span class="mord text"><span class="mord">S</span><span class="mord">t</span><span class="mord">o</span><span class="mord">p</span></span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:31.6576em;"><span></span></span></span></span></span></span></span></span></span></span></span></span>
<p>This is fact a simulator over <span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">P</mi><mo stretchy="false">[</mo><mtext>IdealCommit</mtext><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\mathscr{P}[\text{IdealCommit}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="vertical-align:-0.25em;height:1em;"></span><span class="mord mathscr" style="margin-right:0.0808em;">P</span><span class="mopen">[</span><span class="mord text"><span class="mord">I</span><span class="mord">d</span><span class="mord">e</span><span class="mord">a</span><span class="mord">l</span><span class="mord">C</span><span class="mord">o</span><span class="mord">m</span><span class="mord">m</span><span class="mord">i</span><span class="mord">t</span></span><span class="mclose">]</span></span></span></span></span>,
concluding our proof.</p>
<p><span class="katex-wrapper"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">■</mi></mrow><annotation encoding="application/x-tex">\blacksquare</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.675em;"></span><span class="mord amsrm">■</span></span></span></span></span></p><section class="footnotes">
<ol>
</ol>
</section>


</body>
</html>